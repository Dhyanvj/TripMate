var z0=e=>{throw TypeError(e)};var Em=(e,t,r)=>t.has(e)||z0("Cannot "+r);var M=(e,t,r)=>(Em(e,t,"read from private field"),r?r.call(e):t.get(e)),Ne=(e,t,r)=>t.has(e)?z0("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),de=(e,t,r,n)=>(Em(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Ke=(e,t,r)=>(Em(e,t,"access private method"),r);var tu=(e,t,r,n)=>({set _(i){de(e,t,i,r)},get _(){return M(e,t,n)}});function _D(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();function Bj(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Wj={exports:{}},gh={},Uj={exports:{}},Ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cd=Symbol.for("react.element"),DD=Symbol.for("react.portal"),MD=Symbol.for("react.fragment"),AD=Symbol.for("react.strict_mode"),RD=Symbol.for("react.profiler"),OD=Symbol.for("react.provider"),FD=Symbol.for("react.context"),ID=Symbol.for("react.forward_ref"),LD=Symbol.for("react.suspense"),VD=Symbol.for("react.memo"),$D=Symbol.for("react.lazy"),B0=Symbol.iterator;function zD(e){return e===null||typeof e!="object"?null:(e=B0&&e[B0]||e["@@iterator"],typeof e=="function"?e:null)}var Hj={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Kj=Object.assign,Yj={};function ml(e,t,r){this.props=e,this.context=t,this.refs=Yj,this.updater=r||Hj}ml.prototype.isReactComponent={};ml.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ml.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function qj(){}qj.prototype=ml.prototype;function Wx(e,t,r){this.props=e,this.context=t,this.refs=Yj,this.updater=r||Hj}var Ux=Wx.prototype=new qj;Ux.constructor=Wx;Kj(Ux,ml.prototype);Ux.isPureReactComponent=!0;var W0=Array.isArray,Gj=Object.prototype.hasOwnProperty,Hx={current:null},Qj={key:!0,ref:!0,__self:!0,__source:!0};function Zj(e,t,r){var n,i={},a=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)Gj.call(t,n)&&!Qj.hasOwnProperty(n)&&(i[n]=t[n]);var l=arguments.length-2;if(l===1)i.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];i.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)i[n]===void 0&&(i[n]=l[n]);return{$$typeof:Cd,type:e,key:a,ref:o,props:i,_owner:Hx.current}}function BD(e,t){return{$$typeof:Cd,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Kx(e){return typeof e=="object"&&e!==null&&e.$$typeof===Cd}function WD(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var U0=/\/+/g;function _m(e,t){return typeof e=="object"&&e!==null&&e.key!=null?WD(""+e.key):t.toString(36)}function Au(e,t,r,n,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Cd:case DD:o=!0}}if(o)return o=e,i=i(o),e=n===""?"."+_m(o,0):n,W0(i)?(r="",e!=null&&(r=e.replace(U0,"$&/")+"/"),Au(i,t,r,"",function(d){return d})):i!=null&&(Kx(i)&&(i=BD(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(U0,"$&/")+"/")+e)),t.push(i)),1;if(o=0,n=n===""?".":n+":",W0(e))for(var l=0;l<e.length;l++){a=e[l];var c=n+_m(a,l);o+=Au(a,t,r,c,i)}else if(c=zD(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=n+_m(a,l++),o+=Au(a,t,r,c,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function ru(e,t,r){if(e==null)return e;var n=[],i=0;return Au(e,n,"","",function(a){return t.call(r,a,i++)}),n}function UD(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Mr={current:null},Ru={transition:null},HD={ReactCurrentDispatcher:Mr,ReactCurrentBatchConfig:Ru,ReactCurrentOwner:Hx};function Xj(){throw Error("act(...) is not supported in production builds of React.")}Ge.Children={map:ru,forEach:function(e,t,r){ru(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return ru(e,function(){t++}),t},toArray:function(e){return ru(e,function(t){return t})||[]},only:function(e){if(!Kx(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ge.Component=ml;Ge.Fragment=MD;Ge.Profiler=RD;Ge.PureComponent=Wx;Ge.StrictMode=AD;Ge.Suspense=LD;Ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=HD;Ge.act=Xj;Ge.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Kj({},e.props),i=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=Hx.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)Gj.call(t,c)&&!Qj.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];n.children=l}return{$$typeof:Cd,type:e.type,key:i,ref:a,props:n,_owner:o}};Ge.createContext=function(e){return e={$$typeof:FD,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:OD,_context:e},e.Consumer=e};Ge.createElement=Zj;Ge.createFactory=function(e){var t=Zj.bind(null,e);return t.type=e,t};Ge.createRef=function(){return{current:null}};Ge.forwardRef=function(e){return{$$typeof:ID,render:e}};Ge.isValidElement=Kx;Ge.lazy=function(e){return{$$typeof:$D,_payload:{_status:-1,_result:e},_init:UD}};Ge.memo=function(e,t){return{$$typeof:VD,type:e,compare:t===void 0?null:t}};Ge.startTransition=function(e){var t=Ru.transition;Ru.transition={};try{e()}finally{Ru.transition=t}};Ge.unstable_act=Xj;Ge.useCallback=function(e,t){return Mr.current.useCallback(e,t)};Ge.useContext=function(e){return Mr.current.useContext(e)};Ge.useDebugValue=function(){};Ge.useDeferredValue=function(e){return Mr.current.useDeferredValue(e)};Ge.useEffect=function(e,t){return Mr.current.useEffect(e,t)};Ge.useId=function(){return Mr.current.useId()};Ge.useImperativeHandle=function(e,t,r){return Mr.current.useImperativeHandle(e,t,r)};Ge.useInsertionEffect=function(e,t){return Mr.current.useInsertionEffect(e,t)};Ge.useLayoutEffect=function(e,t){return Mr.current.useLayoutEffect(e,t)};Ge.useMemo=function(e,t){return Mr.current.useMemo(e,t)};Ge.useReducer=function(e,t,r){return Mr.current.useReducer(e,t,r)};Ge.useRef=function(e){return Mr.current.useRef(e)};Ge.useState=function(e){return Mr.current.useState(e)};Ge.useSyncExternalStore=function(e,t,r){return Mr.current.useSyncExternalStore(e,t,r)};Ge.useTransition=function(){return Mr.current.useTransition()};Ge.version="18.3.1";Uj.exports=Ge;var m=Uj.exports;const Be=Bj(m),Jj=_D({__proto__:null,default:Be},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KD=m,YD=Symbol.for("react.element"),qD=Symbol.for("react.fragment"),GD=Object.prototype.hasOwnProperty,QD=KD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ZD={key:!0,ref:!0,__self:!0,__source:!0};function eN(e,t,r){var n,i={},a=null,o=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)GD.call(t,n)&&!ZD.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:YD,type:e,key:a,ref:o,props:i,_owner:QD.current}}gh.Fragment=qD;gh.jsx=eN;gh.jsxs=eN;Wj.exports=gh;var s=Wj.exports,tN={exports:{}},dn={},rN={exports:{}},nN={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(C,T){var $=C.length;C.push(T);e:for(;0<$;){var U=$-1>>>1,fe=C[U];if(0<i(fe,T))C[U]=T,C[$]=fe,$=U;else break e}}function r(C){return C.length===0?null:C[0]}function n(C){if(C.length===0)return null;var T=C[0],$=C.pop();if($!==T){C[0]=$;e:for(var U=0,fe=C.length,Te=fe>>>1;U<Te;){var $e=2*(U+1)-1,pt=C[$e],ze=$e+1,te=C[ze];if(0>i(pt,$))ze<fe&&0>i(te,pt)?(C[U]=te,C[ze]=$,U=ze):(C[U]=pt,C[$e]=$,U=$e);else if(ze<fe&&0>i(te,$))C[U]=te,C[ze]=$,U=ze;else break e}}return T}function i(C,T){var $=C.sortIndex-T.sortIndex;return $!==0?$:C.id-T.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,f=null,h=3,p=!1,v=!1,g=!1,b=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(C){for(var T=r(d);T!==null;){if(T.callback===null)n(d);else if(T.startTime<=C)n(d),T.sortIndex=T.expirationTime,t(c,T);else break;T=r(d)}}function j(C){if(g=!1,w(C),!v)if(r(c)!==null)v=!0,H(N);else{var T=r(d);T!==null&&_(j,T.startTime-C)}}function N(C,T){v=!1,g&&(g=!1,x(E),E=-1),p=!0;var $=h;try{for(w(T),f=r(c);f!==null&&(!(f.expirationTime>T)||C&&!W());){var U=f.callback;if(typeof U=="function"){f.callback=null,h=f.priorityLevel;var fe=U(f.expirationTime<=T);T=e.unstable_now(),typeof fe=="function"?f.callback=fe:f===r(c)&&n(c),w(T)}else n(c);f=r(c)}if(f!==null)var Te=!0;else{var $e=r(d);$e!==null&&_(j,$e.startTime-T),Te=!1}return Te}finally{f=null,h=$,p=!1}}var P=!1,S=null,E=-1,R=5,A=-1;function W(){return!(e.unstable_now()-A<R)}function V(){if(S!==null){var C=e.unstable_now();A=C;var T=!0;try{T=S(!0,C)}finally{T?O():(P=!1,S=null)}}else P=!1}var O;if(typeof y=="function")O=function(){y(V)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,Y=B.port2;B.port1.onmessage=V,O=function(){Y.postMessage(null)}}else O=function(){b(V,0)};function H(C){S=C,P||(P=!0,O())}function _(C,T){E=b(function(){C(e.unstable_now())},T)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(C){C.callback=null},e.unstable_continueExecution=function(){v||p||(v=!0,H(N))},e.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<C?Math.floor(1e3/C):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(C){switch(h){case 1:case 2:case 3:var T=3;break;default:T=h}var $=h;h=T;try{return C()}finally{h=$}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(C,T){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var $=h;h=C;try{return T()}finally{h=$}},e.unstable_scheduleCallback=function(C,T,$){var U=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?U+$:U):$=U,C){case 1:var fe=-1;break;case 2:fe=250;break;case 5:fe=1073741823;break;case 4:fe=1e4;break;default:fe=5e3}return fe=$+fe,C={id:u++,callback:T,priorityLevel:C,startTime:$,expirationTime:fe,sortIndex:-1},$>U?(C.sortIndex=$,t(d,C),r(c)===null&&C===r(d)&&(g?(x(E),E=-1):g=!0,_(j,$-U))):(C.sortIndex=fe,t(c,C),v||p||(v=!0,H(N))),C},e.unstable_shouldYield=W,e.unstable_wrapCallback=function(C){var T=h;return function(){var $=h;h=T;try{return C.apply(this,arguments)}finally{h=$}}}})(nN);rN.exports=nN;var XD=rN.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JD=m,on=XD;function X(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var sN=new Set,Ec={};function Va(e,t){Ko(e,t),Ko(e+"Capture",t)}function Ko(e,t){for(Ec[e]=t,e=0;e<t.length;e++)sN.add(t[e])}var Is=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bp=Object.prototype.hasOwnProperty,eM=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,H0={},K0={};function tM(e){return Bp.call(K0,e)?!0:Bp.call(H0,e)?!1:eM.test(e)?K0[e]=!0:(H0[e]=!0,!1)}function rM(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function nM(e,t,r,n){if(t===null||typeof t>"u"||rM(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ar(e,t,r,n,i,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var ar={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ar[e]=new Ar(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ar[t]=new Ar(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ar[e]=new Ar(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ar[e]=new Ar(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ar[e]=new Ar(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ar[e]=new Ar(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ar[e]=new Ar(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ar[e]=new Ar(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ar[e]=new Ar(e,5,!1,e.toLowerCase(),null,!1,!1)});var Yx=/[\-:]([a-z])/g;function qx(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Yx,qx);ar[t]=new Ar(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Yx,qx);ar[t]=new Ar(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Yx,qx);ar[t]=new Ar(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ar[e]=new Ar(e,1,!1,e.toLowerCase(),null,!1,!1)});ar.xlinkHref=new Ar("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ar[e]=new Ar(e,1,!1,e.toLowerCase(),null,!0,!0)});function Gx(e,t,r,n){var i=ar.hasOwnProperty(t)?ar[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(nM(t,r,i,n)&&(r=null),n||i===null?tM(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Hs=JD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,nu=Symbol.for("react.element"),Xa=Symbol.for("react.portal"),Ja=Symbol.for("react.fragment"),Qx=Symbol.for("react.strict_mode"),Wp=Symbol.for("react.profiler"),iN=Symbol.for("react.provider"),aN=Symbol.for("react.context"),Zx=Symbol.for("react.forward_ref"),Up=Symbol.for("react.suspense"),Hp=Symbol.for("react.suspense_list"),Xx=Symbol.for("react.memo"),ti=Symbol.for("react.lazy"),oN=Symbol.for("react.offscreen"),Y0=Symbol.iterator;function Ml(e){return e===null||typeof e!="object"?null:(e=Y0&&e[Y0]||e["@@iterator"],typeof e=="function"?e:null)}var Dt=Object.assign,Dm;function Ql(e){if(Dm===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Dm=t&&t[1]||""}return`
`+Dm+e}var Mm=!1;function Am(e,t){if(!e||Mm)return"";Mm=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var n=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){n=d}e.call(t.prototype)}else{try{throw Error()}catch(d){n=d}e()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),a=n.stack.split(`
`),o=i.length-1,l=a.length-1;1<=o&&0<=l&&i[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==a[l]){var c=`
`+i[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Mm=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Ql(e):""}function sM(e){switch(e.tag){case 5:return Ql(e.type);case 16:return Ql("Lazy");case 13:return Ql("Suspense");case 19:return Ql("SuspenseList");case 0:case 2:case 15:return e=Am(e.type,!1),e;case 11:return e=Am(e.type.render,!1),e;case 1:return e=Am(e.type,!0),e;default:return""}}function Kp(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ja:return"Fragment";case Xa:return"Portal";case Wp:return"Profiler";case Qx:return"StrictMode";case Up:return"Suspense";case Hp:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case aN:return(e.displayName||"Context")+".Consumer";case iN:return(e._context.displayName||"Context")+".Provider";case Zx:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Xx:return t=e.displayName||null,t!==null?t:Kp(e.type)||"Memo";case ti:t=e._payload,e=e._init;try{return Kp(e(t))}catch{}}return null}function iM(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Kp(t);case 8:return t===Qx?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function _i(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function lN(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function aM(e){var t=lN(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function su(e){e._valueTracker||(e._valueTracker=aM(e))}function cN(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=lN(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function af(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Yp(e,t){var r=t.checked;return Dt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function q0(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=_i(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function dN(e,t){t=t.checked,t!=null&&Gx(e,"checked",t,!1)}function qp(e,t){dN(e,t);var r=_i(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Gp(e,t.type,r):t.hasOwnProperty("defaultValue")&&Gp(e,t.type,_i(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function G0(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Gp(e,t,r){(t!=="number"||af(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Zl=Array.isArray;function yo(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+_i(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Qp(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(X(91));return Dt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Q0(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(X(92));if(Zl(r)){if(1<r.length)throw Error(X(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:_i(r)}}function uN(e,t){var r=_i(t.value),n=_i(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Z0(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function fN(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Zp(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?fN(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var iu,hN=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(iu=iu||document.createElement("div"),iu.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=iu.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function _c(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var cc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},oM=["Webkit","ms","Moz","O"];Object.keys(cc).forEach(function(e){oM.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),cc[t]=cc[e]})});function mN(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||cc.hasOwnProperty(e)&&cc[e]?(""+t).trim():t+"px"}function pN(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=mN(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var lM=Dt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Xp(e,t){if(t){if(lM[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(X(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(X(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(X(61))}if(t.style!=null&&typeof t.style!="object")throw Error(X(62))}}function Jp(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var eg=null;function Jx(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var tg=null,vo=null,wo=null;function X0(e){if(e=Ed(e)){if(typeof tg!="function")throw Error(X(280));var t=e.stateNode;t&&(t=bh(t),tg(e.stateNode,e.type,t))}}function gN(e){vo?wo?wo.push(e):wo=[e]:vo=e}function xN(){if(vo){var e=vo,t=wo;if(wo=vo=null,X0(e),t)for(e=0;e<t.length;e++)X0(t[e])}}function yN(e,t){return e(t)}function vN(){}var Rm=!1;function wN(e,t,r){if(Rm)return e(t,r);Rm=!0;try{return yN(e,t,r)}finally{Rm=!1,(vo!==null||wo!==null)&&(vN(),xN())}}function Dc(e,t){var r=e.stateNode;if(r===null)return null;var n=bh(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(X(231,t,typeof r));return r}var rg=!1;if(Is)try{var Al={};Object.defineProperty(Al,"passive",{get:function(){rg=!0}}),window.addEventListener("test",Al,Al),window.removeEventListener("test",Al,Al)}catch{rg=!1}function cM(e,t,r,n,i,a,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(u){this.onError(u)}}var dc=!1,of=null,lf=!1,ng=null,dM={onError:function(e){dc=!0,of=e}};function uM(e,t,r,n,i,a,o,l,c){dc=!1,of=null,cM.apply(dM,arguments)}function fM(e,t,r,n,i,a,o,l,c){if(uM.apply(this,arguments),dc){if(dc){var d=of;dc=!1,of=null}else throw Error(X(198));lf||(lf=!0,ng=d)}}function $a(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function bN(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function J0(e){if($a(e)!==e)throw Error(X(188))}function hM(e){var t=e.alternate;if(!t){if(t=$a(e),t===null)throw Error(X(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return J0(i),e;if(a===n)return J0(i),t;a=a.sibling}throw Error(X(188))}if(r.return!==n.return)r=i,n=a;else{for(var o=!1,l=i.child;l;){if(l===r){o=!0,r=i,n=a;break}if(l===n){o=!0,n=i,r=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===r){o=!0,r=a,n=i;break}if(l===n){o=!0,n=a,r=i;break}l=l.sibling}if(!o)throw Error(X(189))}}if(r.alternate!==n)throw Error(X(190))}if(r.tag!==3)throw Error(X(188));return r.stateNode.current===r?e:t}function jN(e){return e=hM(e),e!==null?NN(e):null}function NN(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=NN(e);if(t!==null)return t;e=e.sibling}return null}var kN=on.unstable_scheduleCallback,ew=on.unstable_cancelCallback,mM=on.unstable_shouldYield,pM=on.unstable_requestPaint,Vt=on.unstable_now,gM=on.unstable_getCurrentPriorityLevel,ey=on.unstable_ImmediatePriority,SN=on.unstable_UserBlockingPriority,cf=on.unstable_NormalPriority,xM=on.unstable_LowPriority,CN=on.unstable_IdlePriority,xh=null,os=null;function yM(e){if(os&&typeof os.onCommitFiberRoot=="function")try{os.onCommitFiberRoot(xh,e,void 0,(e.current.flags&128)===128)}catch{}}var Vn=Math.clz32?Math.clz32:bM,vM=Math.log,wM=Math.LN2;function bM(e){return e>>>=0,e===0?32:31-(vM(e)/wM|0)|0}var au=64,ou=4194304;function Xl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function df(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,a=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~i;l!==0?n=Xl(l):(a&=o,a!==0&&(n=Xl(a)))}else o=r&~i,o!==0?n=Xl(o):a!==0&&(n=Xl(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Vn(t),i=1<<r,n|=e[r],t&=~i;return n}function jM(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function NM(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-Vn(a),l=1<<o,c=i[o];c===-1?(!(l&r)||l&n)&&(i[o]=jM(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function sg(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function PN(){var e=au;return au<<=1,!(au&4194240)&&(au=64),e}function Om(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Pd(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Vn(t),e[t]=r}function kM(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-Vn(r),a=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~a}}function ty(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Vn(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var ct=0;function TN(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var EN,ry,_N,DN,MN,ig=!1,lu=[],yi=null,vi=null,wi=null,Mc=new Map,Ac=new Map,si=[],SM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function tw(e,t){switch(e){case"focusin":case"focusout":yi=null;break;case"dragenter":case"dragleave":vi=null;break;case"mouseover":case"mouseout":wi=null;break;case"pointerover":case"pointerout":Mc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ac.delete(t.pointerId)}}function Rl(e,t,r,n,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},t!==null&&(t=Ed(t),t!==null&&ry(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function CM(e,t,r,n,i){switch(t){case"focusin":return yi=Rl(yi,e,t,r,n,i),!0;case"dragenter":return vi=Rl(vi,e,t,r,n,i),!0;case"mouseover":return wi=Rl(wi,e,t,r,n,i),!0;case"pointerover":var a=i.pointerId;return Mc.set(a,Rl(Mc.get(a)||null,e,t,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,Ac.set(a,Rl(Ac.get(a)||null,e,t,r,n,i)),!0}return!1}function AN(e){var t=ia(e.target);if(t!==null){var r=$a(t);if(r!==null){if(t=r.tag,t===13){if(t=bN(r),t!==null){e.blockedOn=t,MN(e.priority,function(){_N(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ou(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=ag(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);eg=n,r.target.dispatchEvent(n),eg=null}else return t=Ed(r),t!==null&&ry(t),e.blockedOn=r,!1;t.shift()}return!0}function rw(e,t,r){Ou(e)&&r.delete(t)}function PM(){ig=!1,yi!==null&&Ou(yi)&&(yi=null),vi!==null&&Ou(vi)&&(vi=null),wi!==null&&Ou(wi)&&(wi=null),Mc.forEach(rw),Ac.forEach(rw)}function Ol(e,t){e.blockedOn===t&&(e.blockedOn=null,ig||(ig=!0,on.unstable_scheduleCallback(on.unstable_NormalPriority,PM)))}function Rc(e){function t(i){return Ol(i,e)}if(0<lu.length){Ol(lu[0],e);for(var r=1;r<lu.length;r++){var n=lu[r];n.blockedOn===e&&(n.blockedOn=null)}}for(yi!==null&&Ol(yi,e),vi!==null&&Ol(vi,e),wi!==null&&Ol(wi,e),Mc.forEach(t),Ac.forEach(t),r=0;r<si.length;r++)n=si[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<si.length&&(r=si[0],r.blockedOn===null);)AN(r),r.blockedOn===null&&si.shift()}var bo=Hs.ReactCurrentBatchConfig,uf=!0;function TM(e,t,r,n){var i=ct,a=bo.transition;bo.transition=null;try{ct=1,ny(e,t,r,n)}finally{ct=i,bo.transition=a}}function EM(e,t,r,n){var i=ct,a=bo.transition;bo.transition=null;try{ct=4,ny(e,t,r,n)}finally{ct=i,bo.transition=a}}function ny(e,t,r,n){if(uf){var i=ag(e,t,r,n);if(i===null)Hm(e,t,n,ff,r),tw(e,n);else if(CM(i,e,t,r,n))n.stopPropagation();else if(tw(e,n),t&4&&-1<SM.indexOf(e)){for(;i!==null;){var a=Ed(i);if(a!==null&&EN(a),a=ag(e,t,r,n),a===null&&Hm(e,t,n,ff,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else Hm(e,t,n,null,r)}}var ff=null;function ag(e,t,r,n){if(ff=null,e=Jx(n),e=ia(e),e!==null)if(t=$a(e),t===null)e=null;else if(r=t.tag,r===13){if(e=bN(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ff=e,null}function RN(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(gM()){case ey:return 1;case SN:return 4;case cf:case xM:return 16;case CN:return 536870912;default:return 16}default:return 16}}var gi=null,sy=null,Fu=null;function ON(){if(Fu)return Fu;var e,t=sy,r=t.length,n,i="value"in gi?gi.value:gi.textContent,a=i.length;for(e=0;e<r&&t[e]===i[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===i[a-n];n++);return Fu=i.slice(e,1<n?1-n:void 0)}function Iu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function cu(){return!0}function nw(){return!1}function un(e){function t(r,n,i,a,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?cu:nw,this.isPropagationStopped=nw,this}return Dt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=cu)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=cu)},persist:function(){},isPersistent:cu}),t}var pl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},iy=un(pl),Td=Dt({},pl,{view:0,detail:0}),_M=un(Td),Fm,Im,Fl,yh=Dt({},Td,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ay,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Fl&&(Fl&&e.type==="mousemove"?(Fm=e.screenX-Fl.screenX,Im=e.screenY-Fl.screenY):Im=Fm=0,Fl=e),Fm)},movementY:function(e){return"movementY"in e?e.movementY:Im}}),sw=un(yh),DM=Dt({},yh,{dataTransfer:0}),MM=un(DM),AM=Dt({},Td,{relatedTarget:0}),Lm=un(AM),RM=Dt({},pl,{animationName:0,elapsedTime:0,pseudoElement:0}),OM=un(RM),FM=Dt({},pl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),IM=un(FM),LM=Dt({},pl,{data:0}),iw=un(LM),VM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$M={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function BM(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=zM[e])?!!t[e]:!1}function ay(){return BM}var WM=Dt({},Td,{key:function(e){if(e.key){var t=VM[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Iu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?$M[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ay,charCode:function(e){return e.type==="keypress"?Iu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Iu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),UM=un(WM),HM=Dt({},yh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),aw=un(HM),KM=Dt({},Td,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ay}),YM=un(KM),qM=Dt({},pl,{propertyName:0,elapsedTime:0,pseudoElement:0}),GM=un(qM),QM=Dt({},yh,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ZM=un(QM),XM=[9,13,27,32],oy=Is&&"CompositionEvent"in window,uc=null;Is&&"documentMode"in document&&(uc=document.documentMode);var JM=Is&&"TextEvent"in window&&!uc,FN=Is&&(!oy||uc&&8<uc&&11>=uc),ow=" ",lw=!1;function IN(e,t){switch(e){case"keyup":return XM.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function LN(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var eo=!1;function eA(e,t){switch(e){case"compositionend":return LN(t);case"keypress":return t.which!==32?null:(lw=!0,ow);case"textInput":return e=t.data,e===ow&&lw?null:e;default:return null}}function tA(e,t){if(eo)return e==="compositionend"||!oy&&IN(e,t)?(e=ON(),Fu=sy=gi=null,eo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return FN&&t.locale!=="ko"?null:t.data;default:return null}}var rA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cw(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!rA[e.type]:t==="textarea"}function VN(e,t,r,n){gN(n),t=hf(t,"onChange"),0<t.length&&(r=new iy("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var fc=null,Oc=null;function nA(e){QN(e,0)}function vh(e){var t=no(e);if(cN(t))return e}function sA(e,t){if(e==="change")return t}var $N=!1;if(Is){var Vm;if(Is){var $m="oninput"in document;if(!$m){var dw=document.createElement("div");dw.setAttribute("oninput","return;"),$m=typeof dw.oninput=="function"}Vm=$m}else Vm=!1;$N=Vm&&(!document.documentMode||9<document.documentMode)}function uw(){fc&&(fc.detachEvent("onpropertychange",zN),Oc=fc=null)}function zN(e){if(e.propertyName==="value"&&vh(Oc)){var t=[];VN(t,Oc,e,Jx(e)),wN(nA,t)}}function iA(e,t,r){e==="focusin"?(uw(),fc=t,Oc=r,fc.attachEvent("onpropertychange",zN)):e==="focusout"&&uw()}function aA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return vh(Oc)}function oA(e,t){if(e==="click")return vh(t)}function lA(e,t){if(e==="input"||e==="change")return vh(t)}function cA(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Bn=typeof Object.is=="function"?Object.is:cA;function Fc(e,t){if(Bn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Bp.call(t,i)||!Bn(e[i],t[i]))return!1}return!0}function fw(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hw(e,t){var r=fw(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=fw(r)}}function BN(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?BN(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function WN(){for(var e=window,t=af();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=af(e.document)}return t}function ly(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function dA(e){var t=WN(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&BN(r.ownerDocument.documentElement,r)){if(n!==null&&ly(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!e.extend&&a>n&&(i=n,n=a,a=i),i=hw(r,a);var o=hw(r,n);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var uA=Is&&"documentMode"in document&&11>=document.documentMode,to=null,og=null,hc=null,lg=!1;function mw(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;lg||to==null||to!==af(n)||(n=to,"selectionStart"in n&&ly(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),hc&&Fc(hc,n)||(hc=n,n=hf(og,"onSelect"),0<n.length&&(t=new iy("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=to)))}function du(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var ro={animationend:du("Animation","AnimationEnd"),animationiteration:du("Animation","AnimationIteration"),animationstart:du("Animation","AnimationStart"),transitionend:du("Transition","TransitionEnd")},zm={},UN={};Is&&(UN=document.createElement("div").style,"AnimationEvent"in window||(delete ro.animationend.animation,delete ro.animationiteration.animation,delete ro.animationstart.animation),"TransitionEvent"in window||delete ro.transitionend.transition);function wh(e){if(zm[e])return zm[e];if(!ro[e])return e;var t=ro[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in UN)return zm[e]=t[r];return e}var HN=wh("animationend"),KN=wh("animationiteration"),YN=wh("animationstart"),qN=wh("transitionend"),GN=new Map,pw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wi(e,t){GN.set(e,t),Va(t,[e])}for(var Bm=0;Bm<pw.length;Bm++){var Wm=pw[Bm],fA=Wm.toLowerCase(),hA=Wm[0].toUpperCase()+Wm.slice(1);Wi(fA,"on"+hA)}Wi(HN,"onAnimationEnd");Wi(KN,"onAnimationIteration");Wi(YN,"onAnimationStart");Wi("dblclick","onDoubleClick");Wi("focusin","onFocus");Wi("focusout","onBlur");Wi(qN,"onTransitionEnd");Ko("onMouseEnter",["mouseout","mouseover"]);Ko("onMouseLeave",["mouseout","mouseover"]);Ko("onPointerEnter",["pointerout","pointerover"]);Ko("onPointerLeave",["pointerout","pointerover"]);Va("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Va("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Va("onBeforeInput",["compositionend","keypress","textInput","paste"]);Va("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Va("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Va("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mA=new Set("cancel close invalid load scroll toggle".split(" ").concat(Jl));function gw(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,fM(n,t,void 0,e),e.currentTarget=null}function QN(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==a&&i.isPropagationStopped())break e;gw(i,l,d),a=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==a&&i.isPropagationStopped())break e;gw(i,l,d),a=c}}}if(lf)throw e=ng,lf=!1,ng=null,e}function jt(e,t){var r=t[hg];r===void 0&&(r=t[hg]=new Set);var n=e+"__bubble";r.has(n)||(ZN(t,e,2,!1),r.add(n))}function Um(e,t,r){var n=0;t&&(n|=4),ZN(r,e,n,t)}var uu="_reactListening"+Math.random().toString(36).slice(2);function Ic(e){if(!e[uu]){e[uu]=!0,sN.forEach(function(r){r!=="selectionchange"&&(mA.has(r)||Um(r,!1,e),Um(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[uu]||(t[uu]=!0,Um("selectionchange",!1,t))}}function ZN(e,t,r,n){switch(RN(t)){case 1:var i=TM;break;case 4:i=EM;break;default:i=ny}r=i.bind(null,t,r,e),i=void 0,!rg||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function Hm(e,t,r,n,i){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=ia(l),o===null)return;if(c=o.tag,c===5||c===6){n=a=o;continue e}l=l.parentNode}}n=n.return}wN(function(){var d=a,u=Jx(r),f=[];e:{var h=GN.get(e);if(h!==void 0){var p=iy,v=e;switch(e){case"keypress":if(Iu(r)===0)break e;case"keydown":case"keyup":p=UM;break;case"focusin":v="focus",p=Lm;break;case"focusout":v="blur",p=Lm;break;case"beforeblur":case"afterblur":p=Lm;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=sw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=MM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=YM;break;case HN:case KN:case YN:p=OM;break;case qN:p=GM;break;case"scroll":p=_M;break;case"wheel":p=ZM;break;case"copy":case"cut":case"paste":p=IM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=aw}var g=(t&4)!==0,b=!g&&e==="scroll",x=g?h!==null?h+"Capture":null:h;g=[];for(var y=d,w;y!==null;){w=y;var j=w.stateNode;if(w.tag===5&&j!==null&&(w=j,x!==null&&(j=Dc(y,x),j!=null&&g.push(Lc(y,j,w)))),b)break;y=y.return}0<g.length&&(h=new p(h,v,null,r,u),f.push({event:h,listeners:g}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==eg&&(v=r.relatedTarget||r.fromElement)&&(ia(v)||v[Ls]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(v=r.relatedTarget||r.toElement,p=d,v=v?ia(v):null,v!==null&&(b=$a(v),v!==b||v.tag!==5&&v.tag!==6)&&(v=null)):(p=null,v=d),p!==v)){if(g=sw,j="onMouseLeave",x="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(g=aw,j="onPointerLeave",x="onPointerEnter",y="pointer"),b=p==null?h:no(p),w=v==null?h:no(v),h=new g(j,y+"leave",p,r,u),h.target=b,h.relatedTarget=w,j=null,ia(u)===d&&(g=new g(x,y+"enter",v,r,u),g.target=w,g.relatedTarget=b,j=g),b=j,p&&v)t:{for(g=p,x=v,y=0,w=g;w;w=Ha(w))y++;for(w=0,j=x;j;j=Ha(j))w++;for(;0<y-w;)g=Ha(g),y--;for(;0<w-y;)x=Ha(x),w--;for(;y--;){if(g===x||x!==null&&g===x.alternate)break t;g=Ha(g),x=Ha(x)}g=null}else g=null;p!==null&&xw(f,h,p,g,!1),v!==null&&b!==null&&xw(f,b,v,g,!0)}}e:{if(h=d?no(d):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var N=sA;else if(cw(h))if($N)N=lA;else{N=aA;var P=iA}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(N=oA);if(N&&(N=N(e,d))){VN(f,N,r,u);break e}P&&P(e,h,d),e==="focusout"&&(P=h._wrapperState)&&P.controlled&&h.type==="number"&&Gp(h,"number",h.value)}switch(P=d?no(d):window,e){case"focusin":(cw(P)||P.contentEditable==="true")&&(to=P,og=d,hc=null);break;case"focusout":hc=og=to=null;break;case"mousedown":lg=!0;break;case"contextmenu":case"mouseup":case"dragend":lg=!1,mw(f,r,u);break;case"selectionchange":if(uA)break;case"keydown":case"keyup":mw(f,r,u)}var S;if(oy)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else eo?IN(e,r)&&(E="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&(FN&&r.locale!=="ko"&&(eo||E!=="onCompositionStart"?E==="onCompositionEnd"&&eo&&(S=ON()):(gi=u,sy="value"in gi?gi.value:gi.textContent,eo=!0)),P=hf(d,E),0<P.length&&(E=new iw(E,e,null,r,u),f.push({event:E,listeners:P}),S?E.data=S:(S=LN(r),S!==null&&(E.data=S)))),(S=JM?eA(e,r):tA(e,r))&&(d=hf(d,"onBeforeInput"),0<d.length&&(u=new iw("onBeforeInput","beforeinput",null,r,u),f.push({event:u,listeners:d}),u.data=S))}QN(f,t)})}function Lc(e,t,r){return{instance:e,listener:t,currentTarget:r}}function hf(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Dc(e,r),a!=null&&n.unshift(Lc(e,a,i)),a=Dc(e,t),a!=null&&n.push(Lc(e,a,i))),e=e.return}return n}function Ha(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function xw(e,t,r,n,i){for(var a=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,d=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&d!==null&&(l=d,i?(c=Dc(r,a),c!=null&&o.unshift(Lc(r,c,l))):i||(c=Dc(r,a),c!=null&&o.push(Lc(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var pA=/\r\n?/g,gA=/\u0000|\uFFFD/g;function yw(e){return(typeof e=="string"?e:""+e).replace(pA,`
`).replace(gA,"")}function fu(e,t,r){if(t=yw(t),yw(e)!==t&&r)throw Error(X(425))}function mf(){}var cg=null,dg=null;function ug(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var fg=typeof setTimeout=="function"?setTimeout:void 0,xA=typeof clearTimeout=="function"?clearTimeout:void 0,vw=typeof Promise=="function"?Promise:void 0,yA=typeof queueMicrotask=="function"?queueMicrotask:typeof vw<"u"?function(e){return vw.resolve(null).then(e).catch(vA)}:fg;function vA(e){setTimeout(function(){throw e})}function Km(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),Rc(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Rc(t)}function bi(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ww(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var gl=Math.random().toString(36).slice(2),rs="__reactFiber$"+gl,Vc="__reactProps$"+gl,Ls="__reactContainer$"+gl,hg="__reactEvents$"+gl,wA="__reactListeners$"+gl,bA="__reactHandles$"+gl;function ia(e){var t=e[rs];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Ls]||r[rs]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=ww(e);e!==null;){if(r=e[rs])return r;e=ww(e)}return t}e=r,r=e.parentNode}return null}function Ed(e){return e=e[rs]||e[Ls],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function no(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(X(33))}function bh(e){return e[Vc]||null}var mg=[],so=-1;function Ui(e){return{current:e}}function Nt(e){0>so||(e.current=mg[so],mg[so]=null,so--)}function yt(e,t){so++,mg[so]=e.current,e.current=t}var Di={},pr=Ui(Di),Wr=Ui(!1),ka=Di;function Yo(e,t){var r=e.type.contextTypes;if(!r)return Di;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ur(e){return e=e.childContextTypes,e!=null}function pf(){Nt(Wr),Nt(pr)}function bw(e,t,r){if(pr.current!==Di)throw Error(X(168));yt(pr,t),yt(Wr,r)}function XN(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(X(108,iM(e)||"Unknown",i));return Dt({},r,n)}function gf(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Di,ka=pr.current,yt(pr,e),yt(Wr,Wr.current),!0}function jw(e,t,r){var n=e.stateNode;if(!n)throw Error(X(169));r?(e=XN(e,t,ka),n.__reactInternalMemoizedMergedChildContext=e,Nt(Wr),Nt(pr),yt(pr,e)):Nt(Wr),yt(Wr,r)}var Cs=null,jh=!1,Ym=!1;function JN(e){Cs===null?Cs=[e]:Cs.push(e)}function jA(e){jh=!0,JN(e)}function Hi(){if(!Ym&&Cs!==null){Ym=!0;var e=0,t=ct;try{var r=Cs;for(ct=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Cs=null,jh=!1}catch(i){throw Cs!==null&&(Cs=Cs.slice(e+1)),kN(ey,Hi),i}finally{ct=t,Ym=!1}}return null}var io=[],ao=0,xf=null,yf=0,xn=[],yn=0,Sa=null,Es=1,_s="";function ea(e,t){io[ao++]=yf,io[ao++]=xf,xf=e,yf=t}function ek(e,t,r){xn[yn++]=Es,xn[yn++]=_s,xn[yn++]=Sa,Sa=e;var n=Es;e=_s;var i=32-Vn(n)-1;n&=~(1<<i),r+=1;var a=32-Vn(t)+i;if(30<a){var o=i-i%5;a=(n&(1<<o)-1).toString(32),n>>=o,i-=o,Es=1<<32-Vn(t)+i|r<<i|n,_s=a+e}else Es=1<<a|r<<i|n,_s=e}function cy(e){e.return!==null&&(ea(e,1),ek(e,1,0))}function dy(e){for(;e===xf;)xf=io[--ao],io[ao]=null,yf=io[--ao],io[ao]=null;for(;e===Sa;)Sa=xn[--yn],xn[yn]=null,_s=xn[--yn],xn[yn]=null,Es=xn[--yn],xn[yn]=null}var nn=null,Jr=null,St=!1,Rn=null;function tk(e,t){var r=vn(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Nw(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,nn=e,Jr=bi(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,nn=e,Jr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Sa!==null?{id:Es,overflow:_s}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=vn(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,nn=e,Jr=null,!0):!1;default:return!1}}function pg(e){return(e.mode&1)!==0&&(e.flags&128)===0}function gg(e){if(St){var t=Jr;if(t){var r=t;if(!Nw(e,t)){if(pg(e))throw Error(X(418));t=bi(r.nextSibling);var n=nn;t&&Nw(e,t)?tk(n,r):(e.flags=e.flags&-4097|2,St=!1,nn=e)}}else{if(pg(e))throw Error(X(418));e.flags=e.flags&-4097|2,St=!1,nn=e}}}function kw(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;nn=e}function hu(e){if(e!==nn)return!1;if(!St)return kw(e),St=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ug(e.type,e.memoizedProps)),t&&(t=Jr)){if(pg(e))throw rk(),Error(X(418));for(;t;)tk(e,t),t=bi(t.nextSibling)}if(kw(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(X(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Jr=bi(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Jr=null}}else Jr=nn?bi(e.stateNode.nextSibling):null;return!0}function rk(){for(var e=Jr;e;)e=bi(e.nextSibling)}function qo(){Jr=nn=null,St=!1}function uy(e){Rn===null?Rn=[e]:Rn.push(e)}var NA=Hs.ReactCurrentBatchConfig;function Il(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(X(309));var n=r.stateNode}if(!n)throw Error(X(147,e));var i=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var l=i.refs;o===null?delete l[a]:l[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(X(284));if(!r._owner)throw Error(X(290,e))}return e}function mu(e,t){throw e=Object.prototype.toString.call(t),Error(X(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Sw(e){var t=e._init;return t(e._payload)}function nk(e){function t(x,y){if(e){var w=x.deletions;w===null?(x.deletions=[y],x.flags|=16):w.push(y)}}function r(x,y){if(!e)return null;for(;y!==null;)t(x,y),y=y.sibling;return null}function n(x,y){for(x=new Map;y!==null;)y.key!==null?x.set(y.key,y):x.set(y.index,y),y=y.sibling;return x}function i(x,y){return x=Si(x,y),x.index=0,x.sibling=null,x}function a(x,y,w){return x.index=w,e?(w=x.alternate,w!==null?(w=w.index,w<y?(x.flags|=2,y):w):(x.flags|=2,y)):(x.flags|=1048576,y)}function o(x){return e&&x.alternate===null&&(x.flags|=2),x}function l(x,y,w,j){return y===null||y.tag!==6?(y=ep(w,x.mode,j),y.return=x,y):(y=i(y,w),y.return=x,y)}function c(x,y,w,j){var N=w.type;return N===Ja?u(x,y,w.props.children,j,w.key):y!==null&&(y.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===ti&&Sw(N)===y.type)?(j=i(y,w.props),j.ref=Il(x,y,w),j.return=x,j):(j=Uu(w.type,w.key,w.props,null,x.mode,j),j.ref=Il(x,y,w),j.return=x,j)}function d(x,y,w,j){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=tp(w,x.mode,j),y.return=x,y):(y=i(y,w.children||[]),y.return=x,y)}function u(x,y,w,j,N){return y===null||y.tag!==7?(y=wa(w,x.mode,j,N),y.return=x,y):(y=i(y,w),y.return=x,y)}function f(x,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=ep(""+y,x.mode,w),y.return=x,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case nu:return w=Uu(y.type,y.key,y.props,null,x.mode,w),w.ref=Il(x,null,y),w.return=x,w;case Xa:return y=tp(y,x.mode,w),y.return=x,y;case ti:var j=y._init;return f(x,j(y._payload),w)}if(Zl(y)||Ml(y))return y=wa(y,x.mode,w,null),y.return=x,y;mu(x,y)}return null}function h(x,y,w,j){var N=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return N!==null?null:l(x,y,""+w,j);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case nu:return w.key===N?c(x,y,w,j):null;case Xa:return w.key===N?d(x,y,w,j):null;case ti:return N=w._init,h(x,y,N(w._payload),j)}if(Zl(w)||Ml(w))return N!==null?null:u(x,y,w,j,null);mu(x,w)}return null}function p(x,y,w,j,N){if(typeof j=="string"&&j!==""||typeof j=="number")return x=x.get(w)||null,l(y,x,""+j,N);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case nu:return x=x.get(j.key===null?w:j.key)||null,c(y,x,j,N);case Xa:return x=x.get(j.key===null?w:j.key)||null,d(y,x,j,N);case ti:var P=j._init;return p(x,y,w,P(j._payload),N)}if(Zl(j)||Ml(j))return x=x.get(w)||null,u(y,x,j,N,null);mu(y,j)}return null}function v(x,y,w,j){for(var N=null,P=null,S=y,E=y=0,R=null;S!==null&&E<w.length;E++){S.index>E?(R=S,S=null):R=S.sibling;var A=h(x,S,w[E],j);if(A===null){S===null&&(S=R);break}e&&S&&A.alternate===null&&t(x,S),y=a(A,y,E),P===null?N=A:P.sibling=A,P=A,S=R}if(E===w.length)return r(x,S),St&&ea(x,E),N;if(S===null){for(;E<w.length;E++)S=f(x,w[E],j),S!==null&&(y=a(S,y,E),P===null?N=S:P.sibling=S,P=S);return St&&ea(x,E),N}for(S=n(x,S);E<w.length;E++)R=p(S,x,E,w[E],j),R!==null&&(e&&R.alternate!==null&&S.delete(R.key===null?E:R.key),y=a(R,y,E),P===null?N=R:P.sibling=R,P=R);return e&&S.forEach(function(W){return t(x,W)}),St&&ea(x,E),N}function g(x,y,w,j){var N=Ml(w);if(typeof N!="function")throw Error(X(150));if(w=N.call(w),w==null)throw Error(X(151));for(var P=N=null,S=y,E=y=0,R=null,A=w.next();S!==null&&!A.done;E++,A=w.next()){S.index>E?(R=S,S=null):R=S.sibling;var W=h(x,S,A.value,j);if(W===null){S===null&&(S=R);break}e&&S&&W.alternate===null&&t(x,S),y=a(W,y,E),P===null?N=W:P.sibling=W,P=W,S=R}if(A.done)return r(x,S),St&&ea(x,E),N;if(S===null){for(;!A.done;E++,A=w.next())A=f(x,A.value,j),A!==null&&(y=a(A,y,E),P===null?N=A:P.sibling=A,P=A);return St&&ea(x,E),N}for(S=n(x,S);!A.done;E++,A=w.next())A=p(S,x,E,A.value,j),A!==null&&(e&&A.alternate!==null&&S.delete(A.key===null?E:A.key),y=a(A,y,E),P===null?N=A:P.sibling=A,P=A);return e&&S.forEach(function(V){return t(x,V)}),St&&ea(x,E),N}function b(x,y,w,j){if(typeof w=="object"&&w!==null&&w.type===Ja&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case nu:e:{for(var N=w.key,P=y;P!==null;){if(P.key===N){if(N=w.type,N===Ja){if(P.tag===7){r(x,P.sibling),y=i(P,w.props.children),y.return=x,x=y;break e}}else if(P.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===ti&&Sw(N)===P.type){r(x,P.sibling),y=i(P,w.props),y.ref=Il(x,P,w),y.return=x,x=y;break e}r(x,P);break}else t(x,P);P=P.sibling}w.type===Ja?(y=wa(w.props.children,x.mode,j,w.key),y.return=x,x=y):(j=Uu(w.type,w.key,w.props,null,x.mode,j),j.ref=Il(x,y,w),j.return=x,x=j)}return o(x);case Xa:e:{for(P=w.key;y!==null;){if(y.key===P)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){r(x,y.sibling),y=i(y,w.children||[]),y.return=x,x=y;break e}else{r(x,y);break}else t(x,y);y=y.sibling}y=tp(w,x.mode,j),y.return=x,x=y}return o(x);case ti:return P=w._init,b(x,y,P(w._payload),j)}if(Zl(w))return v(x,y,w,j);if(Ml(w))return g(x,y,w,j);mu(x,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(r(x,y.sibling),y=i(y,w),y.return=x,x=y):(r(x,y),y=ep(w,x.mode,j),y.return=x,x=y),o(x)):r(x,y)}return b}var Go=nk(!0),sk=nk(!1),vf=Ui(null),wf=null,oo=null,fy=null;function hy(){fy=oo=wf=null}function my(e){var t=vf.current;Nt(vf),e._currentValue=t}function xg(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function jo(e,t){wf=e,fy=oo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Lr=!0),e.firstContext=null)}function Nn(e){var t=e._currentValue;if(fy!==e)if(e={context:e,memoizedValue:t,next:null},oo===null){if(wf===null)throw Error(X(308));oo=e,wf.dependencies={lanes:0,firstContext:e}}else oo=oo.next=e;return t}var aa=null;function py(e){aa===null?aa=[e]:aa.push(e)}function ik(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,py(t)):(r.next=i.next,i.next=r),t.interleaved=r,Vs(e,n)}function Vs(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var ri=!1;function gy(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ak(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ms(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ji(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,st&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,Vs(e,r)}return i=n.interleaved,i===null?(t.next=t,py(n)):(t.next=i.next,i.next=t),n.interleaved=t,Vs(e,r)}function Lu(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,ty(e,r)}}function Cw(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?i=a=t:a=a.next=t}else i=a=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function bf(e,t,r,n){var i=e.updateQueue;ri=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?a=d:o.next=d,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(a!==null){var f=i.baseState;o=0,u=d=c=null,l=a;do{var h=l.lane,p=l.eventTime;if((n&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,g=l;switch(h=t,p=r,g.tag){case 1:if(v=g.payload,typeof v=="function"){f=v.call(p,f,h);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=g.payload,h=typeof v=="function"?v.call(p,f,h):v,h==null)break e;f=Dt({},f,h);break e;case 2:ri=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[l]:h.push(l))}else p={eventTime:p,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=p,c=f):u=u.next=p,o|=h;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;h=l,l=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(u===null&&(c=f),i.baseState=c,i.firstBaseUpdate=d,i.lastBaseUpdate=u,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);Pa|=o,e.lanes=o,e.memoizedState=f}}function Pw(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(X(191,i));i.call(n)}}}var _d={},ls=Ui(_d),$c=Ui(_d),zc=Ui(_d);function oa(e){if(e===_d)throw Error(X(174));return e}function xy(e,t){switch(yt(zc,t),yt($c,e),yt(ls,_d),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Zp(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Zp(t,e)}Nt(ls),yt(ls,t)}function Qo(){Nt(ls),Nt($c),Nt(zc)}function ok(e){oa(zc.current);var t=oa(ls.current),r=Zp(t,e.type);t!==r&&(yt($c,e),yt(ls,r))}function yy(e){$c.current===e&&(Nt(ls),Nt($c))}var Pt=Ui(0);function jf(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var qm=[];function vy(){for(var e=0;e<qm.length;e++)qm[e]._workInProgressVersionPrimary=null;qm.length=0}var Vu=Hs.ReactCurrentDispatcher,Gm=Hs.ReactCurrentBatchConfig,Ca=0,_t=null,Ht=null,Zt=null,Nf=!1,mc=!1,Bc=0,kA=0;function lr(){throw Error(X(321))}function wy(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Bn(e[r],t[r]))return!1;return!0}function by(e,t,r,n,i,a){if(Ca=a,_t=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Vu.current=e===null||e.memoizedState===null?TA:EA,e=r(n,i),mc){a=0;do{if(mc=!1,Bc=0,25<=a)throw Error(X(301));a+=1,Zt=Ht=null,t.updateQueue=null,Vu.current=_A,e=r(n,i)}while(mc)}if(Vu.current=kf,t=Ht!==null&&Ht.next!==null,Ca=0,Zt=Ht=_t=null,Nf=!1,t)throw Error(X(300));return e}function jy(){var e=Bc!==0;return Bc=0,e}function Zn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zt===null?_t.memoizedState=Zt=e:Zt=Zt.next=e,Zt}function kn(){if(Ht===null){var e=_t.alternate;e=e!==null?e.memoizedState:null}else e=Ht.next;var t=Zt===null?_t.memoizedState:Zt.next;if(t!==null)Zt=t,Ht=e;else{if(e===null)throw Error(X(310));Ht=e,e={memoizedState:Ht.memoizedState,baseState:Ht.baseState,baseQueue:Ht.baseQueue,queue:Ht.queue,next:null},Zt===null?_t.memoizedState=Zt=e:Zt=Zt.next=e}return Zt}function Wc(e,t){return typeof t=="function"?t(e):t}function Qm(e){var t=kn(),r=t.queue;if(r===null)throw Error(X(311));r.lastRenderedReducer=e;var n=Ht,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var l=o=null,c=null,d=a;do{var u=d.lane;if((Ca&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var f={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=f,o=n):c=c.next=f,_t.lanes|=u,Pa|=u}d=d.next}while(d!==null&&d!==a);c===null?o=n:c.next=l,Bn(n,t.memoizedState)||(Lr=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do a=i.lane,_t.lanes|=a,Pa|=a,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Zm(e){var t=kn(),r=t.queue;if(r===null)throw Error(X(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,a=t.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do a=e(a,o.action),o=o.next;while(o!==i);Bn(a,t.memoizedState)||(Lr=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function lk(){}function ck(e,t){var r=_t,n=kn(),i=t(),a=!Bn(n.memoizedState,i);if(a&&(n.memoizedState=i,Lr=!0),n=n.queue,Ny(fk.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||Zt!==null&&Zt.memoizedState.tag&1){if(r.flags|=2048,Uc(9,uk.bind(null,r,n,i,t),void 0,null),Jt===null)throw Error(X(349));Ca&30||dk(r,t,i)}return i}function dk(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=_t.updateQueue,t===null?(t={lastEffect:null,stores:null},_t.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function uk(e,t,r,n){t.value=r,t.getSnapshot=n,hk(t)&&mk(e)}function fk(e,t,r){return r(function(){hk(t)&&mk(e)})}function hk(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Bn(e,r)}catch{return!0}}function mk(e){var t=Vs(e,1);t!==null&&$n(t,e,1,-1)}function Tw(e){var t=Zn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wc,lastRenderedState:e},t.queue=e,e=e.dispatch=PA.bind(null,_t,e),[t.memoizedState,e]}function Uc(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=_t.updateQueue,t===null?(t={lastEffect:null,stores:null},_t.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function pk(){return kn().memoizedState}function $u(e,t,r,n){var i=Zn();_t.flags|=e,i.memoizedState=Uc(1|t,r,void 0,n===void 0?null:n)}function Nh(e,t,r,n){var i=kn();n=n===void 0?null:n;var a=void 0;if(Ht!==null){var o=Ht.memoizedState;if(a=o.destroy,n!==null&&wy(n,o.deps)){i.memoizedState=Uc(t,r,a,n);return}}_t.flags|=e,i.memoizedState=Uc(1|t,r,a,n)}function Ew(e,t){return $u(8390656,8,e,t)}function Ny(e,t){return Nh(2048,8,e,t)}function gk(e,t){return Nh(4,2,e,t)}function xk(e,t){return Nh(4,4,e,t)}function yk(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function vk(e,t,r){return r=r!=null?r.concat([e]):null,Nh(4,4,yk.bind(null,t,e),r)}function ky(){}function wk(e,t){var r=kn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&wy(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function bk(e,t){var r=kn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&wy(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function jk(e,t,r){return Ca&21?(Bn(r,t)||(r=PN(),_t.lanes|=r,Pa|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Lr=!0),e.memoizedState=r)}function SA(e,t){var r=ct;ct=r!==0&&4>r?r:4,e(!0);var n=Gm.transition;Gm.transition={};try{e(!1),t()}finally{ct=r,Gm.transition=n}}function Nk(){return kn().memoizedState}function CA(e,t,r){var n=ki(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},kk(e))Sk(t,r);else if(r=ik(e,t,r,n),r!==null){var i=Er();$n(r,e,n,i),Ck(r,t,n)}}function PA(e,t,r){var n=ki(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(kk(e))Sk(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,l=a(o,r);if(i.hasEagerState=!0,i.eagerState=l,Bn(l,o)){var c=t.interleaved;c===null?(i.next=i,py(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}r=ik(e,t,i,n),r!==null&&(i=Er(),$n(r,e,n,i),Ck(r,t,n))}}function kk(e){var t=e.alternate;return e===_t||t!==null&&t===_t}function Sk(e,t){mc=Nf=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Ck(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,ty(e,r)}}var kf={readContext:Nn,useCallback:lr,useContext:lr,useEffect:lr,useImperativeHandle:lr,useInsertionEffect:lr,useLayoutEffect:lr,useMemo:lr,useReducer:lr,useRef:lr,useState:lr,useDebugValue:lr,useDeferredValue:lr,useTransition:lr,useMutableSource:lr,useSyncExternalStore:lr,useId:lr,unstable_isNewReconciler:!1},TA={readContext:Nn,useCallback:function(e,t){return Zn().memoizedState=[e,t===void 0?null:t],e},useContext:Nn,useEffect:Ew,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,$u(4194308,4,yk.bind(null,t,e),r)},useLayoutEffect:function(e,t){return $u(4194308,4,e,t)},useInsertionEffect:function(e,t){return $u(4,2,e,t)},useMemo:function(e,t){var r=Zn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Zn();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=CA.bind(null,_t,e),[n.memoizedState,e]},useRef:function(e){var t=Zn();return e={current:e},t.memoizedState=e},useState:Tw,useDebugValue:ky,useDeferredValue:function(e){return Zn().memoizedState=e},useTransition:function(){var e=Tw(!1),t=e[0];return e=SA.bind(null,e[1]),Zn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=_t,i=Zn();if(St){if(r===void 0)throw Error(X(407));r=r()}else{if(r=t(),Jt===null)throw Error(X(349));Ca&30||dk(n,t,r)}i.memoizedState=r;var a={value:r,getSnapshot:t};return i.queue=a,Ew(fk.bind(null,n,a,e),[e]),n.flags|=2048,Uc(9,uk.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=Zn(),t=Jt.identifierPrefix;if(St){var r=_s,n=Es;r=(n&~(1<<32-Vn(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Bc++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=kA++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},EA={readContext:Nn,useCallback:wk,useContext:Nn,useEffect:Ny,useImperativeHandle:vk,useInsertionEffect:gk,useLayoutEffect:xk,useMemo:bk,useReducer:Qm,useRef:pk,useState:function(){return Qm(Wc)},useDebugValue:ky,useDeferredValue:function(e){var t=kn();return jk(t,Ht.memoizedState,e)},useTransition:function(){var e=Qm(Wc)[0],t=kn().memoizedState;return[e,t]},useMutableSource:lk,useSyncExternalStore:ck,useId:Nk,unstable_isNewReconciler:!1},_A={readContext:Nn,useCallback:wk,useContext:Nn,useEffect:Ny,useImperativeHandle:vk,useInsertionEffect:gk,useLayoutEffect:xk,useMemo:bk,useReducer:Zm,useRef:pk,useState:function(){return Zm(Wc)},useDebugValue:ky,useDeferredValue:function(e){var t=kn();return Ht===null?t.memoizedState=e:jk(t,Ht.memoizedState,e)},useTransition:function(){var e=Zm(Wc)[0],t=kn().memoizedState;return[e,t]},useMutableSource:lk,useSyncExternalStore:ck,useId:Nk,unstable_isNewReconciler:!1};function Dn(e,t){if(e&&e.defaultProps){t=Dt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function yg(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Dt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var kh={isMounted:function(e){return(e=e._reactInternals)?$a(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Er(),i=ki(e),a=Ms(n,i);a.payload=t,r!=null&&(a.callback=r),t=ji(e,a,i),t!==null&&($n(t,e,i,n),Lu(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Er(),i=ki(e),a=Ms(n,i);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=ji(e,a,i),t!==null&&($n(t,e,i,n),Lu(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Er(),n=ki(e),i=Ms(r,n);i.tag=2,t!=null&&(i.callback=t),t=ji(e,i,n),t!==null&&($n(t,e,n,r),Lu(t,e,n))}};function _w(e,t,r,n,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,o):t.prototype&&t.prototype.isPureReactComponent?!Fc(r,n)||!Fc(i,a):!0}function Pk(e,t,r){var n=!1,i=Di,a=t.contextType;return typeof a=="object"&&a!==null?a=Nn(a):(i=Ur(t)?ka:pr.current,n=t.contextTypes,a=(n=n!=null)?Yo(e,i):Di),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=kh,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Dw(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&kh.enqueueReplaceState(t,t.state,null)}function vg(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},gy(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=Nn(a):(a=Ur(t)?ka:pr.current,i.context=Yo(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(yg(e,t,a,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&kh.enqueueReplaceState(i,i.state,null),bf(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Zo(e,t){try{var r="",n=t;do r+=sM(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function Xm(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function wg(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var DA=typeof WeakMap=="function"?WeakMap:Map;function Tk(e,t,r){r=Ms(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Cf||(Cf=!0,_g=n),wg(e,t)},r}function Ek(e,t,r){r=Ms(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){wg(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){wg(e,t),typeof n!="function"&&(Ni===null?Ni=new Set([this]):Ni.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Mw(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new DA;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=HA.bind(null,e,t,r),t.then(e,e))}function Aw(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Rw(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Ms(-1,1),t.tag=2,ji(r,t,1))),r.lanes|=1),e)}var MA=Hs.ReactCurrentOwner,Lr=!1;function kr(e,t,r,n){t.child=e===null?sk(t,null,r,n):Go(t,e.child,r,n)}function Ow(e,t,r,n,i){r=r.render;var a=t.ref;return jo(t,i),n=by(e,t,r,n,a,i),r=jy(),e!==null&&!Lr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,$s(e,t,i)):(St&&r&&cy(t),t.flags|=1,kr(e,t,n,i),t.child)}function Fw(e,t,r,n,i){if(e===null){var a=r.type;return typeof a=="function"&&!My(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,_k(e,t,a,n,i)):(e=Uu(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:Fc,r(o,n)&&e.ref===t.ref)return $s(e,t,i)}return t.flags|=1,e=Si(a,n),e.ref=t.ref,e.return=t,t.child=e}function _k(e,t,r,n,i){if(e!==null){var a=e.memoizedProps;if(Fc(a,n)&&e.ref===t.ref)if(Lr=!1,t.pendingProps=n=a,(e.lanes&i)!==0)e.flags&131072&&(Lr=!0);else return t.lanes=e.lanes,$s(e,t,i)}return bg(e,t,r,n,i)}function Dk(e,t,r){var n=t.pendingProps,i=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},yt(co,Gr),Gr|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,yt(co,Gr),Gr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,yt(co,Gr),Gr|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,yt(co,Gr),Gr|=n;return kr(e,t,i,r),t.child}function Mk(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function bg(e,t,r,n,i){var a=Ur(r)?ka:pr.current;return a=Yo(t,a),jo(t,i),r=by(e,t,r,n,a,i),n=jy(),e!==null&&!Lr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,$s(e,t,i)):(St&&n&&cy(t),t.flags|=1,kr(e,t,r,i),t.child)}function Iw(e,t,r,n,i){if(Ur(r)){var a=!0;gf(t)}else a=!1;if(jo(t,i),t.stateNode===null)zu(e,t),Pk(t,r,n),vg(t,r,n,i),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,d=r.contextType;typeof d=="object"&&d!==null?d=Nn(d):(d=Ur(r)?ka:pr.current,d=Yo(t,d));var u=r.getDerivedStateFromProps,f=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==d)&&Dw(t,o,n,d),ri=!1;var h=t.memoizedState;o.state=h,bf(t,n,o,i),c=t.memoizedState,l!==n||h!==c||Wr.current||ri?(typeof u=="function"&&(yg(t,r,u,n),c=t.memoizedState),(l=ri||_w(t,r,l,n,h,c,d))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=d,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,ak(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:Dn(t.type,l),o.props=d,f=t.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Nn(c):(c=Ur(r)?ka:pr.current,c=Yo(t,c));var p=r.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&Dw(t,o,n,c),ri=!1,h=t.memoizedState,o.state=h,bf(t,n,o,i);var v=t.memoizedState;l!==f||h!==v||Wr.current||ri?(typeof p=="function"&&(yg(t,r,p,n),v=t.memoizedState),(d=ri||_w(t,r,d,n,h,v,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,v,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,v,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=v),o.props=n,o.state=v,o.context=c,n=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return jg(e,t,r,n,a,i)}function jg(e,t,r,n,i,a){Mk(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return i&&jw(t,r,!1),$s(e,t,a);n=t.stateNode,MA.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Go(t,e.child,null,a),t.child=Go(t,null,l,a)):kr(e,t,l,a),t.memoizedState=n.state,i&&jw(t,r,!0),t.child}function Ak(e){var t=e.stateNode;t.pendingContext?bw(e,t.pendingContext,t.pendingContext!==t.context):t.context&&bw(e,t.context,!1),xy(e,t.containerInfo)}function Lw(e,t,r,n,i){return qo(),uy(i),t.flags|=256,kr(e,t,r,n),t.child}var Ng={dehydrated:null,treeContext:null,retryLane:0};function kg(e){return{baseLanes:e,cachePool:null,transitions:null}}function Rk(e,t,r){var n=t.pendingProps,i=Pt.current,a=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),yt(Pt,i&1),e===null)return gg(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,a?(n=t.mode,a=t.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=Ph(o,n,0,null),e=wa(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=kg(r),t.memoizedState=Ng,e):Sy(t,o));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return AA(e,t,o,n,l,i,r);if(a){a=n.fallback,o=t.mode,i=e.child,l=i.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Si(i,c),n.subtreeFlags=i.subtreeFlags&14680064),l!==null?a=Si(l,a):(a=wa(a,o,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,o=e.child.memoizedState,o=o===null?kg(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~r,t.memoizedState=Ng,n}return a=e.child,e=a.sibling,n=Si(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Sy(e,t){return t=Ph({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function pu(e,t,r,n){return n!==null&&uy(n),Go(t,e.child,null,r),e=Sy(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function AA(e,t,r,n,i,a,o){if(r)return t.flags&256?(t.flags&=-257,n=Xm(Error(X(422))),pu(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,i=t.mode,n=Ph({mode:"visible",children:n.children},i,0,null),a=wa(a,i,o,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&Go(t,e.child,null,o),t.child.memoizedState=kg(o),t.memoizedState=Ng,a);if(!(t.mode&1))return pu(e,t,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var l=n.dgst;return n=l,a=Error(X(419)),n=Xm(a,n,void 0),pu(e,t,o,n)}if(l=(o&e.childLanes)!==0,Lr||l){if(n=Jt,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Vs(e,i),$n(n,e,i,-1))}return Dy(),n=Xm(Error(X(421))),pu(e,t,o,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=KA.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,Jr=bi(i.nextSibling),nn=t,St=!0,Rn=null,e!==null&&(xn[yn++]=Es,xn[yn++]=_s,xn[yn++]=Sa,Es=e.id,_s=e.overflow,Sa=t),t=Sy(t,n.children),t.flags|=4096,t)}function Vw(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),xg(e.return,t,r)}function Jm(e,t,r,n,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function Ok(e,t,r){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if(kr(e,t,n.children,r),n=Pt.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Vw(e,r,t);else if(e.tag===19)Vw(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(yt(Pt,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&jf(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),Jm(t,!1,i,r,a);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&jf(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}Jm(t,!0,r,null,a);break;case"together":Jm(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function zu(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function $s(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Pa|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(X(153));if(t.child!==null){for(e=t.child,r=Si(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Si(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function RA(e,t,r){switch(t.tag){case 3:Ak(t),qo();break;case 5:ok(t);break;case 1:Ur(t.type)&&gf(t);break;case 4:xy(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;yt(vf,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(yt(Pt,Pt.current&1),t.flags|=128,null):r&t.child.childLanes?Rk(e,t,r):(yt(Pt,Pt.current&1),e=$s(e,t,r),e!==null?e.sibling:null);yt(Pt,Pt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Ok(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),yt(Pt,Pt.current),n)break;return null;case 22:case 23:return t.lanes=0,Dk(e,t,r)}return $s(e,t,r)}var Fk,Sg,Ik,Lk;Fk=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Sg=function(){};Ik=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,oa(ls.current);var a=null;switch(r){case"input":i=Yp(e,i),n=Yp(e,n),a=[];break;case"select":i=Dt({},i,{value:void 0}),n=Dt({},n,{value:void 0}),a=[];break;case"textarea":i=Qp(e,i),n=Qp(e,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=mf)}Xp(r,n);var o;r=null;for(d in i)if(!n.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var l=i[d];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Ec.hasOwnProperty(d)?a||(a=[]):(a=a||[]).push(d,null));for(d in n){var c=n[d];if(l=i!=null?i[d]:void 0,n.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(a||(a=[]),a.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Ec.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&jt("scroll",e),a||l===c||(a=[])):(a=a||[]).push(d,c))}r&&(a=a||[]).push("style",r);var d=a;(t.updateQueue=d)&&(t.flags|=4)}};Lk=function(e,t,r,n){r!==n&&(t.flags|=4)};function Ll(e,t){if(!St)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function cr(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function OA(e,t,r){var n=t.pendingProps;switch(dy(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return cr(t),null;case 1:return Ur(t.type)&&pf(),cr(t),null;case 3:return n=t.stateNode,Qo(),Nt(Wr),Nt(pr),vy(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(hu(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Rn!==null&&(Ag(Rn),Rn=null))),Sg(e,t),cr(t),null;case 5:yy(t);var i=oa(zc.current);if(r=t.type,e!==null&&t.stateNode!=null)Ik(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(X(166));return cr(t),null}if(e=oa(ls.current),hu(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[rs]=t,n[Vc]=a,e=(t.mode&1)!==0,r){case"dialog":jt("cancel",n),jt("close",n);break;case"iframe":case"object":case"embed":jt("load",n);break;case"video":case"audio":for(i=0;i<Jl.length;i++)jt(Jl[i],n);break;case"source":jt("error",n);break;case"img":case"image":case"link":jt("error",n),jt("load",n);break;case"details":jt("toggle",n);break;case"input":q0(n,a),jt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},jt("invalid",n);break;case"textarea":Q0(n,a),jt("invalid",n)}Xp(r,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?n.textContent!==l&&(a.suppressHydrationWarning!==!0&&fu(n.textContent,l,e),i=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&fu(n.textContent,l,e),i=["children",""+l]):Ec.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&jt("scroll",n)}switch(r){case"input":su(n),G0(n,a,!0);break;case"textarea":su(n),Z0(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=mf)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=fN(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[rs]=t,e[Vc]=n,Fk(e,t,!1,!1),t.stateNode=e;e:{switch(o=Jp(r,n),r){case"dialog":jt("cancel",e),jt("close",e),i=n;break;case"iframe":case"object":case"embed":jt("load",e),i=n;break;case"video":case"audio":for(i=0;i<Jl.length;i++)jt(Jl[i],e);i=n;break;case"source":jt("error",e),i=n;break;case"img":case"image":case"link":jt("error",e),jt("load",e),i=n;break;case"details":jt("toggle",e),i=n;break;case"input":q0(e,n),i=Yp(e,n),jt("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=Dt({},n,{value:void 0}),jt("invalid",e);break;case"textarea":Q0(e,n),i=Qp(e,n),jt("invalid",e);break;default:i=n}Xp(r,i),l=i;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?pN(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&hN(e,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&_c(e,c):typeof c=="number"&&_c(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Ec.hasOwnProperty(a)?c!=null&&a==="onScroll"&&jt("scroll",e):c!=null&&Gx(e,a,c,o))}switch(r){case"input":su(e),G0(e,n,!1);break;case"textarea":su(e),Z0(e);break;case"option":n.value!=null&&e.setAttribute("value",""+_i(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?yo(e,!!n.multiple,a,!1):n.defaultValue!=null&&yo(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=mf)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return cr(t),null;case 6:if(e&&t.stateNode!=null)Lk(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(X(166));if(r=oa(zc.current),oa(ls.current),hu(t)){if(n=t.stateNode,r=t.memoizedProps,n[rs]=t,(a=n.nodeValue!==r)&&(e=nn,e!==null))switch(e.tag){case 3:fu(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&fu(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[rs]=t,t.stateNode=n}return cr(t),null;case 13:if(Nt(Pt),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(St&&Jr!==null&&t.mode&1&&!(t.flags&128))rk(),qo(),t.flags|=98560,a=!1;else if(a=hu(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(X(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(X(317));a[rs]=t}else qo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;cr(t),a=!1}else Rn!==null&&(Ag(Rn),Rn=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Pt.current&1?Gt===0&&(Gt=3):Dy())),t.updateQueue!==null&&(t.flags|=4),cr(t),null);case 4:return Qo(),Sg(e,t),e===null&&Ic(t.stateNode.containerInfo),cr(t),null;case 10:return my(t.type._context),cr(t),null;case 17:return Ur(t.type)&&pf(),cr(t),null;case 19:if(Nt(Pt),a=t.memoizedState,a===null)return cr(t),null;if(n=(t.flags&128)!==0,o=a.rendering,o===null)if(n)Ll(a,!1);else{if(Gt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=jf(e),o!==null){for(t.flags|=128,Ll(a,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return yt(Pt,Pt.current&1|2),t.child}e=e.sibling}a.tail!==null&&Vt()>Xo&&(t.flags|=128,n=!0,Ll(a,!1),t.lanes=4194304)}else{if(!n)if(e=jf(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Ll(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!St)return cr(t),null}else 2*Vt()-a.renderingStartTime>Xo&&r!==1073741824&&(t.flags|=128,n=!0,Ll(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(r=a.last,r!==null?r.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Vt(),t.sibling=null,r=Pt.current,yt(Pt,n?r&1|2:r&1),t):(cr(t),null);case 22:case 23:return _y(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Gr&1073741824&&(cr(t),t.subtreeFlags&6&&(t.flags|=8192)):cr(t),null;case 24:return null;case 25:return null}throw Error(X(156,t.tag))}function FA(e,t){switch(dy(t),t.tag){case 1:return Ur(t.type)&&pf(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Qo(),Nt(Wr),Nt(pr),vy(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return yy(t),null;case 13:if(Nt(Pt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(X(340));qo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Nt(Pt),null;case 4:return Qo(),null;case 10:return my(t.type._context),null;case 22:case 23:return _y(),null;case 24:return null;default:return null}}var gu=!1,fr=!1,IA=typeof WeakSet=="function"?WeakSet:Set,he=null;function lo(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Rt(e,t,n)}else r.current=null}function Cg(e,t,r){try{r()}catch(n){Rt(e,t,n)}}var $w=!1;function LA(e,t){if(cg=uf,e=WN(),ly(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,d=0,u=0,f=e,h=null;t:for(;;){for(var p;f!==r||i!==0&&f.nodeType!==3||(l=o+i),f!==a||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===r&&++d===i&&(l=o),h===a&&++u===n&&(c=o),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(dg={focusedElem:e,selectionRange:r},uf=!1,he=t;he!==null;)if(t=he,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,he=e;else for(;he!==null;){t=he;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var g=v.memoizedProps,b=v.memoizedState,x=t.stateNode,y=x.getSnapshotBeforeUpdate(t.elementType===t.type?g:Dn(t.type,g),b);x.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(X(163))}}catch(j){Rt(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,he=e;break}he=t.return}return v=$w,$w=!1,v}function pc(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&Cg(t,r,a)}i=i.next}while(i!==n)}}function Sh(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Pg(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Vk(e){var t=e.alternate;t!==null&&(e.alternate=null,Vk(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[rs],delete t[Vc],delete t[hg],delete t[wA],delete t[bA])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function $k(e){return e.tag===5||e.tag===3||e.tag===4}function zw(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||$k(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Tg(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=mf));else if(n!==4&&(e=e.child,e!==null))for(Tg(e,t,r),e=e.sibling;e!==null;)Tg(e,t,r),e=e.sibling}function Eg(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Eg(e,t,r),e=e.sibling;e!==null;)Eg(e,t,r),e=e.sibling}var nr=null,An=!1;function Ys(e,t,r){for(r=r.child;r!==null;)zk(e,t,r),r=r.sibling}function zk(e,t,r){if(os&&typeof os.onCommitFiberUnmount=="function")try{os.onCommitFiberUnmount(xh,r)}catch{}switch(r.tag){case 5:fr||lo(r,t);case 6:var n=nr,i=An;nr=null,Ys(e,t,r),nr=n,An=i,nr!==null&&(An?(e=nr,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):nr.removeChild(r.stateNode));break;case 18:nr!==null&&(An?(e=nr,r=r.stateNode,e.nodeType===8?Km(e.parentNode,r):e.nodeType===1&&Km(e,r),Rc(e)):Km(nr,r.stateNode));break;case 4:n=nr,i=An,nr=r.stateNode.containerInfo,An=!0,Ys(e,t,r),nr=n,An=i;break;case 0:case 11:case 14:case 15:if(!fr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&Cg(r,t,o),i=i.next}while(i!==n)}Ys(e,t,r);break;case 1:if(!fr&&(lo(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Rt(r,t,l)}Ys(e,t,r);break;case 21:Ys(e,t,r);break;case 22:r.mode&1?(fr=(n=fr)||r.memoizedState!==null,Ys(e,t,r),fr=n):Ys(e,t,r);break;default:Ys(e,t,r)}}function Bw(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new IA),t.forEach(function(n){var i=YA.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Tn(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:nr=l.stateNode,An=!1;break e;case 3:nr=l.stateNode.containerInfo,An=!0;break e;case 4:nr=l.stateNode.containerInfo,An=!0;break e}l=l.return}if(nr===null)throw Error(X(160));zk(a,o,i),nr=null,An=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(d){Rt(i,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Bk(t,e),t=t.sibling}function Bk(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Tn(t,e),Qn(e),n&4){try{pc(3,e,e.return),Sh(3,e)}catch(g){Rt(e,e.return,g)}try{pc(5,e,e.return)}catch(g){Rt(e,e.return,g)}}break;case 1:Tn(t,e),Qn(e),n&512&&r!==null&&lo(r,r.return);break;case 5:if(Tn(t,e),Qn(e),n&512&&r!==null&&lo(r,r.return),e.flags&32){var i=e.stateNode;try{_c(i,"")}catch(g){Rt(e,e.return,g)}}if(n&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,o=r!==null?r.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&dN(i,a),Jp(l,o);var d=Jp(l,a);for(o=0;o<c.length;o+=2){var u=c[o],f=c[o+1];u==="style"?pN(i,f):u==="dangerouslySetInnerHTML"?hN(i,f):u==="children"?_c(i,f):Gx(i,u,f,d)}switch(l){case"input":qp(i,a);break;case"textarea":uN(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?yo(i,!!a.multiple,p,!1):h!==!!a.multiple&&(a.defaultValue!=null?yo(i,!!a.multiple,a.defaultValue,!0):yo(i,!!a.multiple,a.multiple?[]:"",!1))}i[Vc]=a}catch(g){Rt(e,e.return,g)}}break;case 6:if(Tn(t,e),Qn(e),n&4){if(e.stateNode===null)throw Error(X(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){Rt(e,e.return,g)}}break;case 3:if(Tn(t,e),Qn(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Rc(t.containerInfo)}catch(g){Rt(e,e.return,g)}break;case 4:Tn(t,e),Qn(e);break;case 13:Tn(t,e),Qn(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(Ty=Vt())),n&4&&Bw(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(fr=(d=fr)||u,Tn(t,e),fr=d):Tn(t,e),Qn(e),n&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(he=e,u=e.child;u!==null;){for(f=he=u;he!==null;){switch(h=he,p=h.child,h.tag){case 0:case 11:case 14:case 15:pc(4,h,h.return);break;case 1:lo(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(g){Rt(n,r,g)}}break;case 5:lo(h,h.return);break;case 22:if(h.memoizedState!==null){Uw(f);continue}}p!==null?(p.return=h,he=p):Uw(f)}u=u.sibling}e:for(u=null,f=e;;){if(f.tag===5){if(u===null){u=f;try{i=f.stateNode,d?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=mN("display",o))}catch(g){Rt(e,e.return,g)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(g){Rt(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Tn(t,e),Qn(e),n&4&&Bw(e);break;case 21:break;default:Tn(t,e),Qn(e)}}function Qn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if($k(r)){var n=r;break e}r=r.return}throw Error(X(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(_c(i,""),n.flags&=-33);var a=zw(e);Eg(e,a,i);break;case 3:case 4:var o=n.stateNode.containerInfo,l=zw(e);Tg(e,l,o);break;default:throw Error(X(161))}}catch(c){Rt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function VA(e,t,r){he=e,Wk(e)}function Wk(e,t,r){for(var n=(e.mode&1)!==0;he!==null;){var i=he,a=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||gu;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||fr;l=gu;var d=fr;if(gu=o,(fr=c)&&!d)for(he=i;he!==null;)o=he,c=o.child,o.tag===22&&o.memoizedState!==null?Hw(i):c!==null?(c.return=o,he=c):Hw(i);for(;a!==null;)he=a,Wk(a),a=a.sibling;he=i,gu=l,fr=d}Ww(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,he=a):Ww(e)}}function Ww(e){for(;he!==null;){var t=he;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:fr||Sh(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!fr)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:Dn(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Pw(t,a,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Pw(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&Rc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(X(163))}fr||t.flags&512&&Pg(t)}catch(h){Rt(t,t.return,h)}}if(t===e){he=null;break}if(r=t.sibling,r!==null){r.return=t.return,he=r;break}he=t.return}}function Uw(e){for(;he!==null;){var t=he;if(t===e){he=null;break}var r=t.sibling;if(r!==null){r.return=t.return,he=r;break}he=t.return}}function Hw(e){for(;he!==null;){var t=he;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Sh(4,t)}catch(c){Rt(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(c){Rt(t,i,c)}}var a=t.return;try{Pg(t)}catch(c){Rt(t,a,c)}break;case 5:var o=t.return;try{Pg(t)}catch(c){Rt(t,o,c)}}}catch(c){Rt(t,t.return,c)}if(t===e){he=null;break}var l=t.sibling;if(l!==null){l.return=t.return,he=l;break}he=t.return}}var $A=Math.ceil,Sf=Hs.ReactCurrentDispatcher,Cy=Hs.ReactCurrentOwner,wn=Hs.ReactCurrentBatchConfig,st=0,Jt=null,Wt=null,ir=0,Gr=0,co=Ui(0),Gt=0,Hc=null,Pa=0,Ch=0,Py=0,gc=null,Ir=null,Ty=0,Xo=1/0,Ss=null,Cf=!1,_g=null,Ni=null,xu=!1,xi=null,Pf=0,xc=0,Dg=null,Bu=-1,Wu=0;function Er(){return st&6?Vt():Bu!==-1?Bu:Bu=Vt()}function ki(e){return e.mode&1?st&2&&ir!==0?ir&-ir:NA.transition!==null?(Wu===0&&(Wu=PN()),Wu):(e=ct,e!==0||(e=window.event,e=e===void 0?16:RN(e.type)),e):1}function $n(e,t,r,n){if(50<xc)throw xc=0,Dg=null,Error(X(185));Pd(e,r,n),(!(st&2)||e!==Jt)&&(e===Jt&&(!(st&2)&&(Ch|=r),Gt===4&&ii(e,ir)),Hr(e,n),r===1&&st===0&&!(t.mode&1)&&(Xo=Vt()+500,jh&&Hi()))}function Hr(e,t){var r=e.callbackNode;NM(e,t);var n=df(e,e===Jt?ir:0);if(n===0)r!==null&&ew(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&ew(r),t===1)e.tag===0?jA(Kw.bind(null,e)):JN(Kw.bind(null,e)),yA(function(){!(st&6)&&Hi()}),r=null;else{switch(TN(n)){case 1:r=ey;break;case 4:r=SN;break;case 16:r=cf;break;case 536870912:r=CN;break;default:r=cf}r=Zk(r,Uk.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Uk(e,t){if(Bu=-1,Wu=0,st&6)throw Error(X(327));var r=e.callbackNode;if(No()&&e.callbackNode!==r)return null;var n=df(e,e===Jt?ir:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Tf(e,n);else{t=n;var i=st;st|=2;var a=Kk();(Jt!==e||ir!==t)&&(Ss=null,Xo=Vt()+500,va(e,t));do try{WA();break}catch(l){Hk(e,l)}while(!0);hy(),Sf.current=a,st=i,Wt!==null?t=0:(Jt=null,ir=0,t=Gt)}if(t!==0){if(t===2&&(i=sg(e),i!==0&&(n=i,t=Mg(e,i))),t===1)throw r=Hc,va(e,0),ii(e,n),Hr(e,Vt()),r;if(t===6)ii(e,n);else{if(i=e.current.alternate,!(n&30)&&!zA(i)&&(t=Tf(e,n),t===2&&(a=sg(e),a!==0&&(n=a,t=Mg(e,a))),t===1))throw r=Hc,va(e,0),ii(e,n),Hr(e,Vt()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(X(345));case 2:ta(e,Ir,Ss);break;case 3:if(ii(e,n),(n&130023424)===n&&(t=Ty+500-Vt(),10<t)){if(df(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){Er(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=fg(ta.bind(null,e,Ir,Ss),t);break}ta(e,Ir,Ss);break;case 4:if(ii(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var o=31-Vn(n);a=1<<o,o=t[o],o>i&&(i=o),n&=~a}if(n=i,n=Vt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*$A(n/1960))-n,10<n){e.timeoutHandle=fg(ta.bind(null,e,Ir,Ss),n);break}ta(e,Ir,Ss);break;case 5:ta(e,Ir,Ss);break;default:throw Error(X(329))}}}return Hr(e,Vt()),e.callbackNode===r?Uk.bind(null,e):null}function Mg(e,t){var r=gc;return e.current.memoizedState.isDehydrated&&(va(e,t).flags|=256),e=Tf(e,t),e!==2&&(t=Ir,Ir=r,t!==null&&Ag(t)),e}function Ag(e){Ir===null?Ir=e:Ir.push.apply(Ir,e)}function zA(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!Bn(a(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ii(e,t){for(t&=~Py,t&=~Ch,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Vn(t),n=1<<r;e[r]=-1,t&=~n}}function Kw(e){if(st&6)throw Error(X(327));No();var t=df(e,0);if(!(t&1))return Hr(e,Vt()),null;var r=Tf(e,t);if(e.tag!==0&&r===2){var n=sg(e);n!==0&&(t=n,r=Mg(e,n))}if(r===1)throw r=Hc,va(e,0),ii(e,t),Hr(e,Vt()),r;if(r===6)throw Error(X(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ta(e,Ir,Ss),Hr(e,Vt()),null}function Ey(e,t){var r=st;st|=1;try{return e(t)}finally{st=r,st===0&&(Xo=Vt()+500,jh&&Hi())}}function Ta(e){xi!==null&&xi.tag===0&&!(st&6)&&No();var t=st;st|=1;var r=wn.transition,n=ct;try{if(wn.transition=null,ct=1,e)return e()}finally{ct=n,wn.transition=r,st=t,!(st&6)&&Hi()}}function _y(){Gr=co.current,Nt(co)}function va(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,xA(r)),Wt!==null)for(r=Wt.return;r!==null;){var n=r;switch(dy(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&pf();break;case 3:Qo(),Nt(Wr),Nt(pr),vy();break;case 5:yy(n);break;case 4:Qo();break;case 13:Nt(Pt);break;case 19:Nt(Pt);break;case 10:my(n.type._context);break;case 22:case 23:_y()}r=r.return}if(Jt=e,Wt=e=Si(e.current,null),ir=Gr=t,Gt=0,Hc=null,Py=Ch=Pa=0,Ir=gc=null,aa!==null){for(t=0;t<aa.length;t++)if(r=aa[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var o=a.next;a.next=i,n.next=o}r.pending=n}aa=null}return e}function Hk(e,t){do{var r=Wt;try{if(hy(),Vu.current=kf,Nf){for(var n=_t.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Nf=!1}if(Ca=0,Zt=Ht=_t=null,mc=!1,Bc=0,Cy.current=null,r===null||r.return===null){Gt=1,Hc=t,Wt=null;break}e:{var a=e,o=r.return,l=r,c=t;if(t=ir,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=Aw(o);if(p!==null){p.flags&=-257,Rw(p,o,l,a,t),p.mode&1&&Mw(a,d,t),t=p,c=d;var v=t.updateQueue;if(v===null){var g=new Set;g.add(c),t.updateQueue=g}else v.add(c);break e}else{if(!(t&1)){Mw(a,d,t),Dy();break e}c=Error(X(426))}}else if(St&&l.mode&1){var b=Aw(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Rw(b,o,l,a,t),uy(Zo(c,l));break e}}a=c=Zo(c,l),Gt!==4&&(Gt=2),gc===null?gc=[a]:gc.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var x=Tk(a,c,t);Cw(a,x);break e;case 1:l=c;var y=a.type,w=a.stateNode;if(!(a.flags&128)&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Ni===null||!Ni.has(w)))){a.flags|=65536,t&=-t,a.lanes|=t;var j=Ek(a,l,t);Cw(a,j);break e}}a=a.return}while(a!==null)}qk(r)}catch(N){t=N,Wt===r&&r!==null&&(Wt=r=r.return);continue}break}while(!0)}function Kk(){var e=Sf.current;return Sf.current=kf,e===null?kf:e}function Dy(){(Gt===0||Gt===3||Gt===2)&&(Gt=4),Jt===null||!(Pa&268435455)&&!(Ch&268435455)||ii(Jt,ir)}function Tf(e,t){var r=st;st|=2;var n=Kk();(Jt!==e||ir!==t)&&(Ss=null,va(e,t));do try{BA();break}catch(i){Hk(e,i)}while(!0);if(hy(),st=r,Sf.current=n,Wt!==null)throw Error(X(261));return Jt=null,ir=0,Gt}function BA(){for(;Wt!==null;)Yk(Wt)}function WA(){for(;Wt!==null&&!mM();)Yk(Wt)}function Yk(e){var t=Qk(e.alternate,e,Gr);e.memoizedProps=e.pendingProps,t===null?qk(e):Wt=t,Cy.current=null}function qk(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=FA(r,t),r!==null){r.flags&=32767,Wt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Gt=6,Wt=null;return}}else if(r=OA(r,t,Gr),r!==null){Wt=r;return}if(t=t.sibling,t!==null){Wt=t;return}Wt=t=e}while(t!==null);Gt===0&&(Gt=5)}function ta(e,t,r){var n=ct,i=wn.transition;try{wn.transition=null,ct=1,UA(e,t,r,n)}finally{wn.transition=i,ct=n}return null}function UA(e,t,r,n){do No();while(xi!==null);if(st&6)throw Error(X(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(X(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(kM(e,a),e===Jt&&(Wt=Jt=null,ir=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||xu||(xu=!0,Zk(cf,function(){return No(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=wn.transition,wn.transition=null;var o=ct;ct=1;var l=st;st|=4,Cy.current=null,LA(e,r),Bk(r,e),dA(dg),uf=!!cg,dg=cg=null,e.current=r,VA(r),pM(),st=l,ct=o,wn.transition=a}else e.current=r;if(xu&&(xu=!1,xi=e,Pf=i),a=e.pendingLanes,a===0&&(Ni=null),yM(r.stateNode),Hr(e,Vt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Cf)throw Cf=!1,e=_g,_g=null,e;return Pf&1&&e.tag!==0&&No(),a=e.pendingLanes,a&1?e===Dg?xc++:(xc=0,Dg=e):xc=0,Hi(),null}function No(){if(xi!==null){var e=TN(Pf),t=wn.transition,r=ct;try{if(wn.transition=null,ct=16>e?16:e,xi===null)var n=!1;else{if(e=xi,xi=null,Pf=0,st&6)throw Error(X(331));var i=st;for(st|=4,he=e.current;he!==null;){var a=he,o=a.child;if(he.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(he=d;he!==null;){var u=he;switch(u.tag){case 0:case 11:case 15:pc(8,u,a)}var f=u.child;if(f!==null)f.return=u,he=f;else for(;he!==null;){u=he;var h=u.sibling,p=u.return;if(Vk(u),u===d){he=null;break}if(h!==null){h.return=p,he=h;break}he=p}}}var v=a.alternate;if(v!==null){var g=v.child;if(g!==null){v.child=null;do{var b=g.sibling;g.sibling=null,g=b}while(g!==null)}}he=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,he=o;else e:for(;he!==null;){if(a=he,a.flags&2048)switch(a.tag){case 0:case 11:case 15:pc(9,a,a.return)}var x=a.sibling;if(x!==null){x.return=a.return,he=x;break e}he=a.return}}var y=e.current;for(he=y;he!==null;){o=he;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,he=w;else e:for(o=y;he!==null;){if(l=he,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Sh(9,l)}}catch(N){Rt(l,l.return,N)}if(l===o){he=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,he=j;break e}he=l.return}}if(st=i,Hi(),os&&typeof os.onPostCommitFiberRoot=="function")try{os.onPostCommitFiberRoot(xh,e)}catch{}n=!0}return n}finally{ct=r,wn.transition=t}}return!1}function Yw(e,t,r){t=Zo(r,t),t=Tk(e,t,1),e=ji(e,t,1),t=Er(),e!==null&&(Pd(e,1,t),Hr(e,t))}function Rt(e,t,r){if(e.tag===3)Yw(e,e,r);else for(;t!==null;){if(t.tag===3){Yw(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ni===null||!Ni.has(n))){e=Zo(r,e),e=Ek(t,e,1),t=ji(t,e,1),e=Er(),t!==null&&(Pd(t,1,e),Hr(t,e));break}}t=t.return}}function HA(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Er(),e.pingedLanes|=e.suspendedLanes&r,Jt===e&&(ir&r)===r&&(Gt===4||Gt===3&&(ir&130023424)===ir&&500>Vt()-Ty?va(e,0):Py|=r),Hr(e,t)}function Gk(e,t){t===0&&(e.mode&1?(t=ou,ou<<=1,!(ou&130023424)&&(ou=4194304)):t=1);var r=Er();e=Vs(e,t),e!==null&&(Pd(e,t,r),Hr(e,r))}function KA(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Gk(e,r)}function YA(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(X(314))}n!==null&&n.delete(t),Gk(e,r)}var Qk;Qk=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Wr.current)Lr=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Lr=!1,RA(e,t,r);Lr=!!(e.flags&131072)}else Lr=!1,St&&t.flags&1048576&&ek(t,yf,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;zu(e,t),e=t.pendingProps;var i=Yo(t,pr.current);jo(t,r),i=by(null,t,n,e,i,r);var a=jy();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ur(n)?(a=!0,gf(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,gy(t),i.updater=kh,t.stateNode=i,i._reactInternals=t,vg(t,n,e,r),t=jg(null,t,n,!0,a,r)):(t.tag=0,St&&a&&cy(t),kr(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(zu(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=GA(n),e=Dn(n,e),i){case 0:t=bg(null,t,n,e,r);break e;case 1:t=Iw(null,t,n,e,r);break e;case 11:t=Ow(null,t,n,e,r);break e;case 14:t=Fw(null,t,n,Dn(n.type,e),r);break e}throw Error(X(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Dn(n,i),bg(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Dn(n,i),Iw(e,t,n,i,r);case 3:e:{if(Ak(t),e===null)throw Error(X(387));n=t.pendingProps,a=t.memoizedState,i=a.element,ak(e,t),bf(t,n,null,r);var o=t.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=Zo(Error(X(423)),t),t=Lw(e,t,n,r,i);break e}else if(n!==i){i=Zo(Error(X(424)),t),t=Lw(e,t,n,r,i);break e}else for(Jr=bi(t.stateNode.containerInfo.firstChild),nn=t,St=!0,Rn=null,r=sk(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(qo(),n===i){t=$s(e,t,r);break e}kr(e,t,n,r)}t=t.child}return t;case 5:return ok(t),e===null&&gg(t),n=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,o=i.children,ug(n,i)?o=null:a!==null&&ug(n,a)&&(t.flags|=32),Mk(e,t),kr(e,t,o,r),t.child;case 6:return e===null&&gg(t),null;case 13:return Rk(e,t,r);case 4:return xy(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Go(t,null,n,r):kr(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Dn(n,i),Ow(e,t,n,i,r);case 7:return kr(e,t,t.pendingProps,r),t.child;case 8:return kr(e,t,t.pendingProps.children,r),t.child;case 12:return kr(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,yt(vf,n._currentValue),n._currentValue=o,a!==null)if(Bn(a.value,o)){if(a.children===i.children&&!Wr.current){t=$s(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=Ms(-1,r&-r),c.tag=2;var d=a.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),xg(a.return,r,t),l.lanes|=r;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(X(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),xg(o,r,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}kr(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,jo(t,r),i=Nn(i),n=n(i),t.flags|=1,kr(e,t,n,r),t.child;case 14:return n=t.type,i=Dn(n,t.pendingProps),i=Dn(n.type,i),Fw(e,t,n,i,r);case 15:return _k(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Dn(n,i),zu(e,t),t.tag=1,Ur(n)?(e=!0,gf(t)):e=!1,jo(t,r),Pk(t,n,i),vg(t,n,i,r),jg(null,t,n,!0,e,r);case 19:return Ok(e,t,r);case 22:return Dk(e,t,r)}throw Error(X(156,t.tag))};function Zk(e,t){return kN(e,t)}function qA(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(e,t,r,n){return new qA(e,t,r,n)}function My(e){return e=e.prototype,!(!e||!e.isReactComponent)}function GA(e){if(typeof e=="function")return My(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Zx)return 11;if(e===Xx)return 14}return 2}function Si(e,t){var r=e.alternate;return r===null?(r=vn(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Uu(e,t,r,n,i,a){var o=2;if(n=e,typeof e=="function")My(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Ja:return wa(r.children,i,a,t);case Qx:o=8,i|=8;break;case Wp:return e=vn(12,r,t,i|2),e.elementType=Wp,e.lanes=a,e;case Up:return e=vn(13,r,t,i),e.elementType=Up,e.lanes=a,e;case Hp:return e=vn(19,r,t,i),e.elementType=Hp,e.lanes=a,e;case oN:return Ph(r,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case iN:o=10;break e;case aN:o=9;break e;case Zx:o=11;break e;case Xx:o=14;break e;case ti:o=16,n=null;break e}throw Error(X(130,e==null?e:typeof e,""))}return t=vn(o,r,t,i),t.elementType=e,t.type=n,t.lanes=a,t}function wa(e,t,r,n){return e=vn(7,e,n,t),e.lanes=r,e}function Ph(e,t,r,n){return e=vn(22,e,n,t),e.elementType=oN,e.lanes=r,e.stateNode={isHidden:!1},e}function ep(e,t,r){return e=vn(6,e,null,t),e.lanes=r,e}function tp(e,t,r){return t=vn(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function QA(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Om(0),this.expirationTimes=Om(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Om(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Ay(e,t,r,n,i,a,o,l,c){return e=new QA(e,t,r,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=vn(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},gy(a),e}function ZA(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Xa,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Xk(e){if(!e)return Di;e=e._reactInternals;e:{if($a(e)!==e||e.tag!==1)throw Error(X(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ur(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(X(171))}if(e.tag===1){var r=e.type;if(Ur(r))return XN(e,r,t)}return t}function Jk(e,t,r,n,i,a,o,l,c){return e=Ay(r,n,!0,e,i,a,o,l,c),e.context=Xk(null),r=e.current,n=Er(),i=ki(r),a=Ms(n,i),a.callback=t??null,ji(r,a,i),e.current.lanes=i,Pd(e,i,n),Hr(e,n),e}function Th(e,t,r,n){var i=t.current,a=Er(),o=ki(i);return r=Xk(r),t.context===null?t.context=r:t.pendingContext=r,t=Ms(a,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=ji(i,t,o),e!==null&&($n(e,i,o,a),Lu(e,i,o)),o}function Ef(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function qw(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Ry(e,t){qw(e,t),(e=e.alternate)&&qw(e,t)}function XA(){return null}var eS=typeof reportError=="function"?reportError:function(e){console.error(e)};function Oy(e){this._internalRoot=e}Eh.prototype.render=Oy.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(X(409));Th(e,t,null,null)};Eh.prototype.unmount=Oy.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ta(function(){Th(null,e,null,null)}),t[Ls]=null}};function Eh(e){this._internalRoot=e}Eh.prototype.unstable_scheduleHydration=function(e){if(e){var t=DN();e={blockedOn:null,target:e,priority:t};for(var r=0;r<si.length&&t!==0&&t<si[r].priority;r++);si.splice(r,0,e),r===0&&AN(e)}};function Fy(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function _h(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Gw(){}function JA(e,t,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var d=Ef(o);a.call(d)}}var o=Jk(t,n,e,0,null,!1,!1,"",Gw);return e._reactRootContainer=o,e[Ls]=o.current,Ic(e.nodeType===8?e.parentNode:e),Ta(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var l=n;n=function(){var d=Ef(c);l.call(d)}}var c=Ay(e,0,!1,null,null,!1,!1,"",Gw);return e._reactRootContainer=c,e[Ls]=c.current,Ic(e.nodeType===8?e.parentNode:e),Ta(function(){Th(t,c,r,n)}),c}function Dh(e,t,r,n,i){var a=r._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var l=i;i=function(){var c=Ef(o);l.call(c)}}Th(t,o,e,i)}else o=JA(r,t,e,i,n);return Ef(o)}EN=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Xl(t.pendingLanes);r!==0&&(ty(t,r|1),Hr(t,Vt()),!(st&6)&&(Xo=Vt()+500,Hi()))}break;case 13:Ta(function(){var n=Vs(e,1);if(n!==null){var i=Er();$n(n,e,1,i)}}),Ry(e,1)}};ry=function(e){if(e.tag===13){var t=Vs(e,134217728);if(t!==null){var r=Er();$n(t,e,134217728,r)}Ry(e,134217728)}};_N=function(e){if(e.tag===13){var t=ki(e),r=Vs(e,t);if(r!==null){var n=Er();$n(r,e,t,n)}Ry(e,t)}};DN=function(){return ct};MN=function(e,t){var r=ct;try{return ct=e,t()}finally{ct=r}};tg=function(e,t,r){switch(t){case"input":if(qp(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=bh(n);if(!i)throw Error(X(90));cN(n),qp(n,i)}}}break;case"textarea":uN(e,r);break;case"select":t=r.value,t!=null&&yo(e,!!r.multiple,t,!1)}};yN=Ey;vN=Ta;var eR={usingClientEntryPoint:!1,Events:[Ed,no,bh,gN,xN,Ey]},Vl={findFiberByHostInstance:ia,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},tR={bundleType:Vl.bundleType,version:Vl.version,rendererPackageName:Vl.rendererPackageName,rendererConfig:Vl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Hs.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=jN(e),e===null?null:e.stateNode},findFiberByHostInstance:Vl.findFiberByHostInstance||XA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yu.isDisabled&&yu.supportsFiber)try{xh=yu.inject(tR),os=yu}catch{}}dn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eR;dn.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Fy(t))throw Error(X(200));return ZA(e,t,null,r)};dn.createRoot=function(e,t){if(!Fy(e))throw Error(X(299));var r=!1,n="",i=eS;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Ay(e,1,!1,null,null,r,!1,n,i),e[Ls]=t.current,Ic(e.nodeType===8?e.parentNode:e),new Oy(t)};dn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(X(188)):(e=Object.keys(e).join(","),Error(X(268,e)));return e=jN(t),e=e===null?null:e.stateNode,e};dn.flushSync=function(e){return Ta(e)};dn.hydrate=function(e,t,r){if(!_h(t))throw Error(X(200));return Dh(null,e,t,!0,r)};dn.hydrateRoot=function(e,t,r){if(!Fy(e))throw Error(X(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",o=eS;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=Jk(t,null,e,1,r??null,i,!1,a,o),e[Ls]=t.current,Ic(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new Eh(t)};dn.render=function(e,t,r){if(!_h(t))throw Error(X(200));return Dh(null,e,t,!1,r)};dn.unmountComponentAtNode=function(e){if(!_h(e))throw Error(X(40));return e._reactRootContainer?(Ta(function(){Dh(null,null,e,!1,function(){e._reactRootContainer=null,e[Ls]=null})}),!0):!1};dn.unstable_batchedUpdates=Ey;dn.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!_h(r))throw Error(X(200));if(e==null||e._reactInternals===void 0)throw Error(X(38));return Dh(e,t,r,!1,n)};dn.version="18.3.1-next-f1338f8080-20240426";function tS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(tS)}catch(e){console.error(e)}}tS(),tN.exports=dn;var Ki=tN.exports;const rR=Bj(Ki);var rS,Qw=Ki;rS=Qw.createRoot,Qw.hydrateRoot;function nR(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var r,n,i,a,o=[],l="",c=e.split("/");for(c[0]||c.shift();i=c.shift();)r=i[0],r==="*"?(o.push(r),l+=i[1]==="?"?"(?:/(.*))?":"/(.*)"):r===":"?(n=i.indexOf("?",1),a=i.indexOf(".",1),o.push(i.substring(1,~n?n:~a?a:i.length)),l+=~n&&!~a?"(?:/([^/]+?))?":"/([^/]+?)",~a&&(l+=(~n?"?":"")+"\\"+i.substring(a))):l+="/"+i;return{keys:o,pattern:new RegExp("^"+l+(t?"(?=$|/)":"/?$"),"i")}}var nS={exports:{}},sS={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jo=m;function sR(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var iR=typeof Object.is=="function"?Object.is:sR,aR=Jo.useState,oR=Jo.useEffect,lR=Jo.useLayoutEffect,cR=Jo.useDebugValue;function dR(e,t){var r=t(),n=aR({inst:{value:r,getSnapshot:t}}),i=n[0].inst,a=n[1];return lR(function(){i.value=r,i.getSnapshot=t,rp(i)&&a({inst:i})},[e,r,t]),oR(function(){return rp(i)&&a({inst:i}),e(function(){rp(i)&&a({inst:i})})},[e]),cR(r),r}function rp(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!iR(e,r)}catch{return!0}}function uR(e,t){return t()}var fR=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?uR:dR;sS.useSyncExternalStore=Jo.useSyncExternalStore!==void 0?Jo.useSyncExternalStore:fR;nS.exports=sS;var hR=nS.exports;const mR=Jj.useInsertionEffect,pR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",iS=pR?m.useLayoutEffect:m.useEffect,gR=mR||iS,Iy=e=>{const t=m.useRef([e,(...r)=>t[0](...r)]).current;return gR(()=>{t[0]=e}),t[1]},xR="popstate",Ly="pushState",Vy="replaceState",yR="hashchange",Zw=[xR,Ly,Vy,yR],vR=e=>{for(const t of Zw)addEventListener(t,e);return()=>{for(const t of Zw)removeEventListener(t,e)}},aS=(e,t)=>hR.useSyncExternalStore(vR,e,t),wR=()=>location.search,bR=({ssrSearch:e=""}={})=>aS(wR,()=>e),Xw=()=>location.pathname,jR=({ssrPath:e}={})=>aS(Xw,e?()=>e:Xw),NR=(e,{replace:t=!1,state:r=null}={})=>history[t?Vy:Ly](r,"",e),kR=(e={})=>[jR(e),NR],Jw=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[Jw]>"u"){for(const e of[Ly,Vy]){const t=history[e];history[e]=function(){const r=t.apply(this,arguments),n=new Event(e);return n.arguments=arguments,dispatchEvent(n),r}}Object.defineProperty(window,Jw,{value:!0})}const SR=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",oS=(e="")=>e==="/"?"":e,CR=(e,t)=>e[0]==="~"?e.slice(1):oS(t)+e,PR=(e="",t)=>SR(eb(oS(e)),eb(t)),eb=e=>{try{return decodeURI(e)}catch{return e}},lS={hook:kR,searchHook:bR,parser:nR,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:e=>e},cS=m.createContext(lS),xl=()=>m.useContext(cS),dS={},uS=m.createContext(dS),$y=()=>m.useContext(uS),Mh=e=>{const[t,r]=e.hook(e);return[PR(e.base,t),Iy((n,i)=>r(CR(n,e.base),i))]},Qt=()=>Mh(xl()),zy=(e,t,r,n)=>{const{pattern:i,keys:a}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",n),o=i.exec(r)||[],[l,...c]=o;return l!==void 0?[!0,(()=>{const d=a!==!1?Object.fromEntries(a.map((f,h)=>[f,c[h]])):o.groups;let u={...c};return d&&Object.assign(u,d),u})(),...n?[l]:[]]:[!1,null]},TR=e=>zy(xl().parser,e,Qt()[0]),ER=({children:e,...t})=>{var u,f;const r=xl(),n=t.hook?lS:r;let i=n;const[a,o]=((u=t.ssrPath)==null?void 0:u.split("?"))??[];o&&(t.ssrSearch=o,t.ssrPath=a),t.hrefs=t.hrefs??((f=t.hook)==null?void 0:f.hrefs);let l=m.useRef({}),c=l.current,d=c;for(let h in n){const p=h==="base"?n[h]+(t[h]||""):t[h]||n[h];c===d&&p!==d[h]&&(l.current=d={...d}),d[h]=p,p!==n[h]&&(i=d)}return m.createElement(cS.Provider,{value:i,children:e})},tb=({children:e,component:t},r)=>t?m.createElement(t,{params:r}):typeof e=="function"?e(r):e,_R=e=>{let t=m.useRef(dS),r=t.current;for(const n in e)e[n]!==r[n]&&(r=e);return Object.keys(e).length===0&&(r=e),t.current=r},ec=({path:e,nest:t,match:r,...n})=>{const i=xl(),[a]=Mh(i),[o,l,c]=r??zy(i.parser,e,a,t),d=_R({...$y(),...l});if(!o)return null;const u=c?m.createElement(ER,{base:c},tb(n,d)):tb(n,d);return m.createElement(uS.Provider,{value:d,children:u})},_f=m.forwardRef((e,t)=>{const r=xl(),[n,i]=Mh(r),{to:a="",href:o=a,onClick:l,asChild:c,children:d,className:u,replace:f,state:h,...p}=e,v=Iy(b=>{b.ctrlKey||b.metaKey||b.altKey||b.shiftKey||b.button!==0||(l==null||l(b),b.defaultPrevented||(b.preventDefault(),i(o,e)))}),g=r.hrefs(o[0]==="~"?o.slice(1):r.base+o,r);return c&&m.isValidElement(d)?m.cloneElement(d,{onClick:v,href:g}):m.createElement("a",{...p,onClick:v,href:g,className:u!=null&&u.call?u(n===o):u,children:d,ref:t})}),fS=e=>Array.isArray(e)?e.flatMap(t=>fS(t&&t.type===m.Fragment?t.props.children:t)):[e],DR=({children:e,location:t})=>{const r=xl(),[n]=Mh(r);for(const i of fS(e)){let a=0;if(m.isValidElement(i)&&(a=zy(r.parser,i.props.path,t||n,i.props.nest))[0])return m.cloneElement(i,{match:a})}return null},MR=e=>{const{to:t,href:r=t}=e,[,n]=Qt(),i=Iy(()=>n(t||r,e));return iS(()=>{i()},[]),null};var yl=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Ea=typeof window>"u"||"Deno"in globalThis;function gn(){}function AR(e,t){return typeof e=="function"?e(t):e}function Rg(e){return typeof e=="number"&&e>=0&&e!==1/0}function hS(e,t){return Math.max(e+(t||0)-Date.now(),0)}function ko(e,t){return typeof e=="function"?e(t):e}function On(e,t){return typeof e=="function"?e(t):e}function rb(e,t){const{type:r="all",exact:n,fetchStatus:i,predicate:a,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==By(o,t.options))return!1}else if(!Kc(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||i&&i!==t.state.fetchStatus||a&&!a(t))}function nb(e,t){const{exact:r,status:n,predicate:i,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(r){if(_a(t.options.mutationKey)!==_a(a))return!1}else if(!Kc(t.options.mutationKey,a))return!1}return!(n&&t.state.status!==n||i&&!i(t))}function By(e,t){return((t==null?void 0:t.queryKeyHashFn)||_a)(e)}function _a(e){return JSON.stringify(e,(t,r)=>Og(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function Kc(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!Kc(e[r],t[r])):!1}function mS(e,t){if(e===t)return e;const r=sb(e)&&sb(t);if(r||Og(e)&&Og(t)){const n=r?e:Object.keys(e),i=n.length,a=r?t:Object.keys(t),o=a.length,l=r?[]:{};let c=0;for(let d=0;d<o;d++){const u=r?d:a[d];(!r&&n.includes(u)||r)&&e[u]===void 0&&t[u]===void 0?(l[u]=void 0,c++):(l[u]=mS(e[u],t[u]),l[u]===e[u]&&e[u]!==void 0&&c++)}return i===o&&c===i?e:l}return t}function Df(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function sb(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Og(e){if(!ib(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!ib(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function ib(e){return Object.prototype.toString.call(e)==="[object Object]"}function RR(e){return new Promise(t=>{setTimeout(t,e)})}function Fg(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?mS(e,t):t}function OR(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function FR(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var Wy=Symbol();function pS(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Wy?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var fa,oi,Ao,Mj,IR=(Mj=class extends yl{constructor(){super();Ne(this,fa);Ne(this,oi);Ne(this,Ao);de(this,Ao,t=>{if(!Ea&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){M(this,oi)||this.setEventListener(M(this,Ao))}onUnsubscribe(){var t;this.hasListeners()||((t=M(this,oi))==null||t.call(this),de(this,oi,void 0))}setEventListener(t){var r;de(this,Ao,t),(r=M(this,oi))==null||r.call(this),de(this,oi,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){M(this,fa)!==t&&(de(this,fa,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof M(this,fa)=="boolean"?M(this,fa):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},fa=new WeakMap,oi=new WeakMap,Ao=new WeakMap,Mj),Uy=new IR,Ro,li,Oo,Aj,LR=(Aj=class extends yl{constructor(){super();Ne(this,Ro,!0);Ne(this,li);Ne(this,Oo);de(this,Oo,t=>{if(!Ea&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){M(this,li)||this.setEventListener(M(this,Oo))}onUnsubscribe(){var t;this.hasListeners()||((t=M(this,li))==null||t.call(this),de(this,li,void 0))}setEventListener(t){var r;de(this,Oo,t),(r=M(this,li))==null||r.call(this),de(this,li,t(this.setOnline.bind(this)))}setOnline(t){M(this,Ro)!==t&&(de(this,Ro,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return M(this,Ro)}},Ro=new WeakMap,li=new WeakMap,Oo=new WeakMap,Aj),Mf=new LR;function Ig(){let e,t;const r=new Promise((i,a)=>{e=i,t=a});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),e(i)},r.reject=i=>{n({status:"rejected",reason:i}),t(i)},r}function VR(e){return Math.min(1e3*2**e,3e4)}function gS(e){return(e??"online")==="online"?Mf.isOnline():!0}var xS=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function np(e){return e instanceof xS}function yS(e){let t=!1,r=0,n=!1,i;const a=Ig(),o=g=>{var b;n||(h(new xS(g)),(b=e.abort)==null||b.call(e))},l=()=>{t=!0},c=()=>{t=!1},d=()=>Uy.isFocused()&&(e.networkMode==="always"||Mf.isOnline())&&e.canRun(),u=()=>gS(e.networkMode)&&e.canRun(),f=g=>{var b;n||(n=!0,(b=e.onSuccess)==null||b.call(e,g),i==null||i(),a.resolve(g))},h=g=>{var b;n||(n=!0,(b=e.onError)==null||b.call(e,g),i==null||i(),a.reject(g))},p=()=>new Promise(g=>{var b;i=x=>{(n||d())&&g(x)},(b=e.onPause)==null||b.call(e)}).then(()=>{var g;i=void 0,n||(g=e.onContinue)==null||g.call(e)}),v=()=>{if(n)return;let g;const b=r===0?e.initialPromise:void 0;try{g=b??e.fn()}catch(x){g=Promise.reject(x)}Promise.resolve(g).then(f).catch(x=>{var P;if(n)return;const y=e.retry??(Ea?0:3),w=e.retryDelay??VR,j=typeof w=="function"?w(r,x):w,N=y===!0||typeof y=="number"&&r<y||typeof y=="function"&&y(r,x);if(t||!N){h(x);return}r++,(P=e.onFail)==null||P.call(e,r,x),RR(j).then(()=>d()?void 0:p()).then(()=>{t?h(x):v()})})};return{promise:a,cancel:o,continue:()=>(i==null||i(),a),cancelRetry:l,continueRetry:c,canStart:u,start:()=>(u()?v():p().then(v),a)}}function $R(){let e=[],t=0,r=l=>{l()},n=l=>{l()},i=l=>setTimeout(l,0);const a=l=>{t?e.push(l):i(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&i(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{i=l}}}var Kt=$R(),ha,Rj,vS=(Rj=class{constructor(){Ne(this,ha)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Rg(this.gcTime)&&de(this,ha,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Ea?1/0:5*60*1e3))}clearGcTimeout(){M(this,ha)&&(clearTimeout(M(this,ha)),de(this,ha,void 0))}},ha=new WeakMap,Rj),Fo,Io,pn,dr,jd,ma,Mn,Ns,Oj,zR=(Oj=class extends vS{constructor(t){super();Ne(this,Mn);Ne(this,Fo);Ne(this,Io);Ne(this,pn);Ne(this,dr);Ne(this,jd);Ne(this,ma);de(this,ma,!1),de(this,jd,t.defaultOptions),this.setOptions(t.options),this.observers=[],de(this,pn,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,de(this,Fo,BR(this.options)),this.state=t.state??M(this,Fo),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=M(this,dr))==null?void 0:t.promise}setOptions(t){this.options={...M(this,jd),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&M(this,pn).remove(this)}setData(t,r){const n=Fg(this.state.data,t,this.options);return Ke(this,Mn,Ns).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){Ke(this,Mn,Ns).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,i;const r=(n=M(this,dr))==null?void 0:n.promise;return(i=M(this,dr))==null||i.cancel(t),r?r.then(gn).catch(gn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(M(this,Fo))}isActive(){return this.observers.some(t=>On(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Wy||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!hS(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=M(this,dr))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=M(this,dr))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),M(this,pn).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(M(this,dr)&&(M(this,ma)?M(this,dr).cancel({revert:!0}):M(this,dr).cancelRetry()),this.scheduleGc()),M(this,pn).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ke(this,Mn,Ns).call(this,{type:"invalidate"})}fetch(t,r){var c,d,u;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(M(this,dr))return M(this,dr).continueRetry(),M(this,dr).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(h=>h.options.queryFn);f&&this.setOptions(f.options)}const n=new AbortController,i=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(de(this,ma,!0),n.signal)})},a=()=>{const f=pS(this.options,r),h={queryKey:this.queryKey,meta:this.meta};return i(h),de(this,ma,!1),this.options.persister?this.options.persister(f,h,this):f(h)},o={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:a};i(o),(c=this.options.behavior)==null||c.onFetch(o,this),de(this,Io,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=o.fetchOptions)==null?void 0:d.meta))&&Ke(this,Mn,Ns).call(this,{type:"fetch",meta:(u=o.fetchOptions)==null?void 0:u.meta});const l=f=>{var h,p,v,g;np(f)&&f.silent||Ke(this,Mn,Ns).call(this,{type:"error",error:f}),np(f)||((p=(h=M(this,pn).config).onError)==null||p.call(h,f,this),(g=(v=M(this,pn).config).onSettled)==null||g.call(v,this.state.data,f,this)),this.scheduleGc()};return de(this,dr,yS({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,abort:n.abort.bind(n),onSuccess:f=>{var h,p,v,g;if(f===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(b){l(b);return}(p=(h=M(this,pn).config).onSuccess)==null||p.call(h,f,this),(g=(v=M(this,pn).config).onSettled)==null||g.call(v,f,this.state.error,this),this.scheduleGc()},onError:l,onFail:(f,h)=>{Ke(this,Mn,Ns).call(this,{type:"failed",failureCount:f,error:h})},onPause:()=>{Ke(this,Mn,Ns).call(this,{type:"pause"})},onContinue:()=>{Ke(this,Mn,Ns).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),M(this,dr).start()}},Fo=new WeakMap,Io=new WeakMap,pn=new WeakMap,dr=new WeakMap,jd=new WeakMap,ma=new WeakMap,Mn=new WeakSet,Ns=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...wS(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=t.error;return np(i)&&i.revert&&M(this,Io)?{...M(this,Io),fetchStatus:"idle"}:{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),Kt.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),M(this,pn).notify({query:this,type:"updated",action:t})})},Oj);function wS(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:gS(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function BR(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Xn,Fj,WR=(Fj=class extends yl{constructor(t={}){super();Ne(this,Xn);this.config=t,de(this,Xn,new Map)}build(t,r,n){const i=r.queryKey,a=r.queryHash??By(i,r);let o=this.get(a);return o||(o=new zR({cache:this,queryKey:i,queryHash:a,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(i)}),this.add(o)),o}add(t){M(this,Xn).has(t.queryHash)||(M(this,Xn).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=M(this,Xn).get(t.queryHash);r&&(t.destroy(),r===t&&M(this,Xn).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Kt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return M(this,Xn).get(t)}getAll(){return[...M(this,Xn).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>rb(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>rb(t,n)):r}notify(t){Kt.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Kt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Kt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Xn=new WeakMap,Fj),Jn,br,pa,es,Xs,Ij,UR=(Ij=class extends vS{constructor(t){super();Ne(this,es);Ne(this,Jn);Ne(this,br);Ne(this,pa);this.mutationId=t.mutationId,de(this,br,t.mutationCache),de(this,Jn,[]),this.state=t.state||bS(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){M(this,Jn).includes(t)||(M(this,Jn).push(t),this.clearGcTimeout(),M(this,br).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){de(this,Jn,M(this,Jn).filter(r=>r!==t)),this.scheduleGc(),M(this,br).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){M(this,Jn).length||(this.state.status==="pending"?this.scheduleGc():M(this,br).remove(this))}continue(){var t;return((t=M(this,pa))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,a,o,l,c,d,u,f,h,p,v,g,b,x,y,w,j,N,P,S;de(this,pa,yS({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(E,R)=>{Ke(this,es,Xs).call(this,{type:"failed",failureCount:E,error:R})},onPause:()=>{Ke(this,es,Xs).call(this,{type:"pause"})},onContinue:()=>{Ke(this,es,Xs).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>M(this,br).canRun(this)}));const r=this.state.status==="pending",n=!M(this,pa).canStart();try{if(!r){Ke(this,es,Xs).call(this,{type:"pending",variables:t,isPaused:n}),await((a=(i=M(this,br).config).onMutate)==null?void 0:a.call(i,t,this));const R=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,t));R!==this.state.context&&Ke(this,es,Xs).call(this,{type:"pending",context:R,variables:t,isPaused:n})}const E=await M(this,pa).start();return await((d=(c=M(this,br).config).onSuccess)==null?void 0:d.call(c,E,t,this.state.context,this)),await((f=(u=this.options).onSuccess)==null?void 0:f.call(u,E,t,this.state.context)),await((p=(h=M(this,br).config).onSettled)==null?void 0:p.call(h,E,null,this.state.variables,this.state.context,this)),await((g=(v=this.options).onSettled)==null?void 0:g.call(v,E,null,t,this.state.context)),Ke(this,es,Xs).call(this,{type:"success",data:E}),E}catch(E){try{throw await((x=(b=M(this,br).config).onError)==null?void 0:x.call(b,E,t,this.state.context,this)),await((w=(y=this.options).onError)==null?void 0:w.call(y,E,t,this.state.context)),await((N=(j=M(this,br).config).onSettled)==null?void 0:N.call(j,void 0,E,this.state.variables,this.state.context,this)),await((S=(P=this.options).onSettled)==null?void 0:S.call(P,void 0,E,t,this.state.context)),E}finally{Ke(this,es,Xs).call(this,{type:"error",error:E})}}finally{M(this,br).runNext(this)}}},Jn=new WeakMap,br=new WeakMap,pa=new WeakMap,es=new WeakSet,Xs=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Kt.batch(()=>{M(this,Jn).forEach(n=>{n.onMutationUpdate(t)}),M(this,br).notify({mutation:this,type:"updated",action:t})})},Ij);function bS(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var qr,Nd,Lj,HR=(Lj=class extends yl{constructor(t={}){super();Ne(this,qr);Ne(this,Nd);this.config=t,de(this,qr,new Map),de(this,Nd,Date.now())}build(t,r,n){const i=new UR({mutationCache:this,mutationId:++tu(this,Nd)._,options:t.defaultMutationOptions(r),state:n});return this.add(i),i}add(t){const r=vu(t),n=M(this,qr).get(r)??[];n.push(t),M(this,qr).set(r,n),this.notify({type:"added",mutation:t})}remove(t){var n;const r=vu(t);if(M(this,qr).has(r)){const i=(n=M(this,qr).get(r))==null?void 0:n.filter(a=>a!==t);i&&(i.length===0?M(this,qr).delete(r):M(this,qr).set(r,i))}this.notify({type:"removed",mutation:t})}canRun(t){var n;const r=(n=M(this,qr).get(vu(t)))==null?void 0:n.find(i=>i.state.status==="pending");return!r||r===t}runNext(t){var n;const r=(n=M(this,qr).get(vu(t)))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){Kt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...M(this,qr).values()].flat()}find(t){const r={exact:!0,...t};return this.getAll().find(n=>nb(r,n))}findAll(t={}){return this.getAll().filter(r=>nb(t,r))}notify(t){Kt.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Kt.batch(()=>Promise.all(t.map(r=>r.continue().catch(gn))))}},qr=new WeakMap,Nd=new WeakMap,Lj);function vu(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function ab(e){return{onFetch:(t,r)=>{var u,f,h,p,v;const n=t.options,i=(h=(f=(u=t.fetchOptions)==null?void 0:u.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,a=((p=t.state.data)==null?void 0:p.pages)||[],o=((v=t.state.data)==null?void 0:v.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let g=!1;const b=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?g=!0:t.signal.addEventListener("abort",()=>{g=!0}),t.signal)})},x=pS(t.options,t.fetchOptions),y=async(w,j,N)=>{if(g)return Promise.reject();if(j==null&&w.pages.length)return Promise.resolve(w);const P={queryKey:t.queryKey,pageParam:j,direction:N?"backward":"forward",meta:t.options.meta};b(P);const S=await x(P),{maxPages:E}=t.options,R=N?FR:OR;return{pages:R(w.pages,S,E),pageParams:R(w.pageParams,j,E)}};if(i&&a.length){const w=i==="backward",j=w?KR:ob,N={pages:a,pageParams:o},P=j(n,N);l=await y(N,P,w)}else{const w=e??a.length;do{const j=c===0?o[0]??n.initialPageParam:ob(n,l);if(c>0&&j==null)break;l=await y(l,j),c++}while(c<w)}return l};t.options.persister?t.fetchFn=()=>{var g,b;return(b=(g=t.options).persister)==null?void 0:b.call(g,d,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=d}}}function ob(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function KR(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Mt,ci,di,Lo,Vo,ui,$o,zo,Vj,YR=(Vj=class{constructor(e={}){Ne(this,Mt);Ne(this,ci);Ne(this,di);Ne(this,Lo);Ne(this,Vo);Ne(this,ui);Ne(this,$o);Ne(this,zo);de(this,Mt,e.queryCache||new WR),de(this,ci,e.mutationCache||new HR),de(this,di,e.defaultOptions||{}),de(this,Lo,new Map),de(this,Vo,new Map),de(this,ui,0)}mount(){tu(this,ui)._++,M(this,ui)===1&&(de(this,$o,Uy.subscribe(async e=>{e&&(await this.resumePausedMutations(),M(this,Mt).onFocus())})),de(this,zo,Mf.subscribe(async e=>{e&&(await this.resumePausedMutations(),M(this,Mt).onOnline())})))}unmount(){var e,t;tu(this,ui)._--,M(this,ui)===0&&((e=M(this,$o))==null||e.call(this),de(this,$o,void 0),(t=M(this,zo))==null||t.call(this),de(this,zo,void 0))}isFetching(e){return M(this,Mt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return M(this,ci).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=M(this,Mt).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const r=this.defaultQueryOptions(e),n=M(this,Mt).build(this,r);return e.revalidateIfStale&&n.isStaleByTime(ko(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(t)}}getQueriesData(e){return M(this,Mt).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),i=M(this,Mt).get(n.queryHash),a=i==null?void 0:i.state.data,o=AR(t,a);if(o!==void 0)return M(this,Mt).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return Kt.batch(()=>M(this,Mt).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=M(this,Mt).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=M(this,Mt);Kt.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=M(this,Mt),n={type:"active",...e};return Kt.batch(()=>(r.findAll(e).forEach(i=>{i.reset()}),this.refetchQueries(n,t)))}cancelQueries(e={},t={}){const r={revert:!0,...t},n=Kt.batch(()=>M(this,Mt).findAll(e).map(i=>i.cancel(r)));return Promise.all(n).then(gn).catch(gn)}invalidateQueries(e={},t={}){return Kt.batch(()=>{if(M(this,Mt).findAll(e).forEach(n=>{n.invalidate()}),e.refetchType==="none")return Promise.resolve();const r={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(r,t)})}refetchQueries(e={},t){const r={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},n=Kt.batch(()=>M(this,Mt).findAll(e).filter(i=>!i.isDisabled()).map(i=>{let a=i.fetch(void 0,r);return r.throwOnError||(a=a.catch(gn)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then(gn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=M(this,Mt).build(this,t);return r.isStaleByTime(ko(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(gn).catch(gn)}fetchInfiniteQuery(e){return e.behavior=ab(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(gn).catch(gn)}ensureInfiniteQueryData(e){return e.behavior=ab(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Mf.isOnline()?M(this,ci).resumePausedMutations():Promise.resolve()}getQueryCache(){return M(this,Mt)}getMutationCache(){return M(this,ci)}getDefaultOptions(){return M(this,di)}setDefaultOptions(e){de(this,di,e)}setQueryDefaults(e,t){M(this,Lo).set(_a(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...M(this,Lo).values()];let r={};return t.forEach(n=>{Kc(e,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(e,t){M(this,Vo).set(_a(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...M(this,Vo).values()];let r={};return t.forEach(n=>{Kc(e,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...M(this,di).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=By(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===Wy&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...M(this,di).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){M(this,Mt).clear(),M(this,ci).clear()}},Mt=new WeakMap,ci=new WeakMap,di=new WeakMap,Lo=new WeakMap,Vo=new WeakMap,ui=new WeakMap,$o=new WeakMap,zo=new WeakMap,Vj),Or,Xe,kd,jr,ga,Bo,fi,ts,Sd,Wo,Uo,xa,ya,hi,Ho,ot,tc,Lg,Vg,$g,zg,Bg,Wg,Ug,jS,$j,qR=($j=class extends yl{constructor(t,r){super();Ne(this,ot);Ne(this,Or);Ne(this,Xe);Ne(this,kd);Ne(this,jr);Ne(this,ga);Ne(this,Bo);Ne(this,fi);Ne(this,ts);Ne(this,Sd);Ne(this,Wo);Ne(this,Uo);Ne(this,xa);Ne(this,ya);Ne(this,hi);Ne(this,Ho,new Set);this.options=r,de(this,Or,t),de(this,ts,null),de(this,fi,Ig()),this.options.experimental_prefetchInRender||M(this,fi).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(M(this,Xe).addObserver(this),lb(M(this,Xe),this.options)?Ke(this,ot,tc).call(this):this.updateResult(),Ke(this,ot,zg).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Hg(M(this,Xe),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Hg(M(this,Xe),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ke(this,ot,Bg).call(this),Ke(this,ot,Wg).call(this),M(this,Xe).removeObserver(this)}setOptions(t,r){const n=this.options,i=M(this,Xe);if(this.options=M(this,Or).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof On(this.options.enabled,M(this,Xe))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Ke(this,ot,Ug).call(this),M(this,Xe).setOptions(this.options),n._defaulted&&!Df(this.options,n)&&M(this,Or).getQueryCache().notify({type:"observerOptionsUpdated",query:M(this,Xe),observer:this});const a=this.hasListeners();a&&cb(M(this,Xe),i,this.options,n)&&Ke(this,ot,tc).call(this),this.updateResult(r),a&&(M(this,Xe)!==i||On(this.options.enabled,M(this,Xe))!==On(n.enabled,M(this,Xe))||ko(this.options.staleTime,M(this,Xe))!==ko(n.staleTime,M(this,Xe)))&&Ke(this,ot,Lg).call(this);const o=Ke(this,ot,Vg).call(this);a&&(M(this,Xe)!==i||On(this.options.enabled,M(this,Xe))!==On(n.enabled,M(this,Xe))||o!==M(this,hi))&&Ke(this,ot,$g).call(this,o)}getOptimisticResult(t){const r=M(this,Or).getQueryCache().build(M(this,Or),t),n=this.createResult(r,t);return QR(this,n)&&(de(this,jr,n),de(this,Bo,this.options),de(this,ga,M(this,Xe).state)),n}getCurrentResult(){return M(this,jr)}trackResult(t,r){const n={};return Object.keys(t).forEach(i=>{Object.defineProperty(n,i,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(i),r==null||r(i),t[i])})}),n}trackProp(t){M(this,Ho).add(t)}getCurrentQuery(){return M(this,Xe)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=M(this,Or).defaultQueryOptions(t),n=M(this,Or).getQueryCache().build(M(this,Or),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return Ke(this,ot,tc).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),M(this,jr)))}createResult(t,r){var E;const n=M(this,Xe),i=this.options,a=M(this,jr),o=M(this,ga),l=M(this,Bo),d=t!==n?t.state:M(this,kd),{state:u}=t;let f={...u},h=!1,p;if(r._optimisticResults){const R=this.hasListeners(),A=!R&&lb(t,r),W=R&&cb(t,n,r,i);(A||W)&&(f={...f,...wS(u.data,t.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:v,errorUpdatedAt:g,status:b}=f;if(r.select&&f.data!==void 0)if(a&&f.data===(o==null?void 0:o.data)&&r.select===M(this,Sd))p=M(this,Wo);else try{de(this,Sd,r.select),p=r.select(f.data),p=Fg(a==null?void 0:a.data,p,r),de(this,Wo,p),de(this,ts,null)}catch(R){de(this,ts,R)}else p=f.data;if(r.placeholderData!==void 0&&p===void 0&&b==="pending"){let R;if(a!=null&&a.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData))R=a.data;else if(R=typeof r.placeholderData=="function"?r.placeholderData((E=M(this,Uo))==null?void 0:E.state.data,M(this,Uo)):r.placeholderData,r.select&&R!==void 0)try{R=r.select(R),de(this,ts,null)}catch(A){de(this,ts,A)}R!==void 0&&(b="success",p=Fg(a==null?void 0:a.data,R,r),h=!0)}M(this,ts)&&(v=M(this,ts),p=M(this,Wo),g=Date.now(),b="error");const x=f.fetchStatus==="fetching",y=b==="pending",w=b==="error",j=y&&x,N=p!==void 0,S={status:b,fetchStatus:f.fetchStatus,isPending:y,isSuccess:b==="success",isError:w,isInitialLoading:j,isLoading:j,data:p,dataUpdatedAt:f.dataUpdatedAt,error:v,errorUpdatedAt:g,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>d.dataUpdateCount||f.errorUpdateCount>d.errorUpdateCount,isFetching:x,isRefetching:x&&!y,isLoadingError:w&&!N,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:w&&N,isStale:Hy(t,r),refetch:this.refetch,promise:M(this,fi)};if(this.options.experimental_prefetchInRender){const R=V=>{S.status==="error"?V.reject(S.error):S.data!==void 0&&V.resolve(S.data)},A=()=>{const V=de(this,fi,S.promise=Ig());R(V)},W=M(this,fi);switch(W.status){case"pending":t.queryHash===n.queryHash&&R(W);break;case"fulfilled":(S.status==="error"||S.data!==W.value)&&A();break;case"rejected":(S.status!=="error"||S.error!==W.reason)&&A();break}}return S}updateResult(t){const r=M(this,jr),n=this.createResult(M(this,Xe),this.options);if(de(this,ga,M(this,Xe).state),de(this,Bo,this.options),M(this,ga).data!==void 0&&de(this,Uo,M(this,Xe)),Df(n,r))return;de(this,jr,n);const i={},a=()=>{if(!r)return!0;const{notifyOnChangeProps:o}=this.options,l=typeof o=="function"?o():o;if(l==="all"||!l&&!M(this,Ho).size)return!0;const c=new Set(l??M(this,Ho));return this.options.throwOnError&&c.add("error"),Object.keys(M(this,jr)).some(d=>{const u=d;return M(this,jr)[u]!==r[u]&&c.has(u)})};(t==null?void 0:t.listeners)!==!1&&a()&&(i.listeners=!0),Ke(this,ot,jS).call(this,{...i,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ke(this,ot,zg).call(this)}},Or=new WeakMap,Xe=new WeakMap,kd=new WeakMap,jr=new WeakMap,ga=new WeakMap,Bo=new WeakMap,fi=new WeakMap,ts=new WeakMap,Sd=new WeakMap,Wo=new WeakMap,Uo=new WeakMap,xa=new WeakMap,ya=new WeakMap,hi=new WeakMap,Ho=new WeakMap,ot=new WeakSet,tc=function(t){Ke(this,ot,Ug).call(this);let r=M(this,Xe).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(gn)),r},Lg=function(){Ke(this,ot,Bg).call(this);const t=ko(this.options.staleTime,M(this,Xe));if(Ea||M(this,jr).isStale||!Rg(t))return;const n=hS(M(this,jr).dataUpdatedAt,t)+1;de(this,xa,setTimeout(()=>{M(this,jr).isStale||this.updateResult()},n))},Vg=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(M(this,Xe)):this.options.refetchInterval)??!1},$g=function(t){Ke(this,ot,Wg).call(this),de(this,hi,t),!(Ea||On(this.options.enabled,M(this,Xe))===!1||!Rg(M(this,hi))||M(this,hi)===0)&&de(this,ya,setInterval(()=>{(this.options.refetchIntervalInBackground||Uy.isFocused())&&Ke(this,ot,tc).call(this)},M(this,hi)))},zg=function(){Ke(this,ot,Lg).call(this),Ke(this,ot,$g).call(this,Ke(this,ot,Vg).call(this))},Bg=function(){M(this,xa)&&(clearTimeout(M(this,xa)),de(this,xa,void 0))},Wg=function(){M(this,ya)&&(clearInterval(M(this,ya)),de(this,ya,void 0))},Ug=function(){const t=M(this,Or).getQueryCache().build(M(this,Or),this.options);if(t===M(this,Xe))return;const r=M(this,Xe);de(this,Xe,t),de(this,kd,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},jS=function(t){Kt.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(M(this,jr))}),M(this,Or).getQueryCache().notify({query:M(this,Xe),type:"observerResultsUpdated"})})},$j);function GR(e,t){return On(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function lb(e,t){return GR(e,t)||e.state.data!==void 0&&Hg(e,t,t.refetchOnMount)}function Hg(e,t,r){if(On(t.enabled,e)!==!1){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&Hy(e,t)}return!1}function cb(e,t,r,n){return(e!==t||On(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&Hy(e,r)}function Hy(e,t){return On(t.enabled,e)!==!1&&e.isStaleByTime(ko(t.staleTime,e))}function QR(e,t){return!Df(e.getCurrentResult(),t)}var mi,pi,Fr,Ts,Fs,Hu,Kg,zj,ZR=(zj=class extends yl{constructor(r,n){super();Ne(this,Fs);Ne(this,mi);Ne(this,pi);Ne(this,Fr);Ne(this,Ts);de(this,mi,r),this.setOptions(n),this.bindMethods(),Ke(this,Fs,Hu).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var i;const n=this.options;this.options=M(this,mi).defaultMutationOptions(r),Df(this.options,n)||M(this,mi).getMutationCache().notify({type:"observerOptionsUpdated",mutation:M(this,Fr),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&_a(n.mutationKey)!==_a(this.options.mutationKey)?this.reset():((i=M(this,Fr))==null?void 0:i.state.status)==="pending"&&M(this,Fr).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=M(this,Fr))==null||r.removeObserver(this)}onMutationUpdate(r){Ke(this,Fs,Hu).call(this),Ke(this,Fs,Kg).call(this,r)}getCurrentResult(){return M(this,pi)}reset(){var r;(r=M(this,Fr))==null||r.removeObserver(this),de(this,Fr,void 0),Ke(this,Fs,Hu).call(this),Ke(this,Fs,Kg).call(this)}mutate(r,n){var i;return de(this,Ts,n),(i=M(this,Fr))==null||i.removeObserver(this),de(this,Fr,M(this,mi).getMutationCache().build(M(this,mi),this.options)),M(this,Fr).addObserver(this),M(this,Fr).execute(r)}},mi=new WeakMap,pi=new WeakMap,Fr=new WeakMap,Ts=new WeakMap,Fs=new WeakSet,Hu=function(){var n;const r=((n=M(this,Fr))==null?void 0:n.state)??bS();de(this,pi,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},Kg=function(r){Kt.batch(()=>{var n,i,a,o,l,c,d,u;if(M(this,Ts)&&this.hasListeners()){const f=M(this,pi).variables,h=M(this,pi).context;(r==null?void 0:r.type)==="success"?((i=(n=M(this,Ts)).onSuccess)==null||i.call(n,r.data,f,h),(o=(a=M(this,Ts)).onSettled)==null||o.call(a,r.data,null,f,h)):(r==null?void 0:r.type)==="error"&&((c=(l=M(this,Ts)).onError)==null||c.call(l,r.error,f,h),(u=(d=M(this,Ts)).onSettled)==null||u.call(d,void 0,r.error,f,h))}this.listeners.forEach(f=>{f(M(this,pi))})})},zj),NS=m.createContext(void 0),fn=e=>{const t=m.useContext(NS);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},XR=({client:e,children:t})=>(m.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(NS.Provider,{value:e,children:t})),kS=m.createContext(!1),JR=()=>m.useContext(kS);kS.Provider;function e5(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var t5=m.createContext(e5()),r5=()=>m.useContext(t5);function SS(e,t){return typeof e=="function"?e(...t):!!e}function Yg(){}var n5=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},s5=e=>{m.useEffect(()=>{e.clearReset()},[e])},i5=({result:e,errorResetBoundary:t,throwOnError:r,query:n})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&SS(r,[e.error,n]),a5=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},o5=(e,t)=>e.isLoading&&e.isFetching&&!t,l5=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,db=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function c5(e,t,r){var u,f,h,p,v;const n=fn(),i=JR(),a=r5(),o=n.defaultQueryOptions(e);(f=(u=n.getDefaultOptions().queries)==null?void 0:u._experimental_beforeQuery)==null||f.call(u,o),o._optimisticResults=i?"isRestoring":"optimistic",a5(o),n5(o,a),s5(a);const l=!n.getQueryCache().get(o.queryHash),[c]=m.useState(()=>new t(n,o)),d=c.getOptimisticResult(o);if(m.useSyncExternalStore(m.useCallback(g=>{const b=i?Yg:c.subscribe(Kt.batchCalls(g));return c.updateResult(),b},[c,i]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),m.useEffect(()=>{c.setOptions(o,{listeners:!1})},[o,c]),l5(o,d))throw db(o,c,a);if(i5({result:d,errorResetBoundary:a,throwOnError:o.throwOnError,query:n.getQueryCache().get(o.queryHash)}))throw d.error;if((p=(h=n.getDefaultOptions().queries)==null?void 0:h._experimental_afterQuery)==null||p.call(h,o,d),o.experimental_prefetchInRender&&!Ea&&o5(d,i)){const g=l?db(o,c,a):(v=n.getQueryCache().get(o.queryHash))==null?void 0:v.promise;g==null||g.catch(Yg).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?d:c.trackResult(d)}function kt(e,t){return c5(e,qR)}function Ae(e,t){const r=fn(),[n]=m.useState(()=>new ZR(r,e));m.useEffect(()=>{n.setOptions(e)},[n,e]);const i=m.useSyncExternalStore(m.useCallback(o=>n.subscribe(Kt.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),a=m.useCallback((o,l)=>{n.mutate(o,l).catch(Yg)},[n]);if(i.error&&SS(n.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}const d5=1,u5=1e6;let sp=0;function f5(){return sp=(sp+1)%Number.MAX_SAFE_INTEGER,sp.toString()}const ip=new Map,ub=e=>{if(ip.has(e))return;const t=setTimeout(()=>{ip.delete(e),yc({type:"REMOVE_TOAST",toastId:e})},u5);ip.set(e,t)},h5=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,d5)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?ub(r):e.toasts.forEach(n=>{ub(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Ku=[];let Yu={toasts:[]};function yc(e){Yu=h5(Yu,e),Ku.forEach(t=>{t(Yu)})}function ni({...e}){const t=f5(),r=i=>yc({type:"UPDATE_TOAST",toast:{...i,id:t}}),n=()=>yc({type:"DISMISS_TOAST",toastId:t});return yc({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:i=>{i||n()}}}),{id:t,dismiss:n,update:r}}function vt(){const[e,t]=m.useState(Yu);return m.useEffect(()=>(Ku.push(t),()=>{const r=Ku.indexOf(t);r>-1&&Ku.splice(r,1)}),[e]),{...e,toast:ni,dismiss:r=>yc({type:"DISMISS_TOAST",toastId:r})}}function Q(e,t,{checkForDefaultPrevented:r=!0}={}){return function(i){if(e==null||e(i),r===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function fb(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Ah(...e){return t=>{let r=!1;const n=e.map(i=>{const a=fb(i,t);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let i=0;i<n.length;i++){const a=n[i];typeof a=="function"?a():fb(e[i],null)}}}}function De(...e){return m.useCallback(Ah(...e),e)}function m5(e,t){const r=m.createContext(t),n=a=>{const{children:o,...l}=a,c=m.useMemo(()=>l,Object.values(l));return s.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function i(a){const o=m.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[n,i]}function yr(e,t=[]){let r=[];function n(a,o){const l=m.createContext(o),c=r.length;r=[...r,o];const d=f=>{var x;const{scope:h,children:p,...v}=f,g=((x=h==null?void 0:h[e])==null?void 0:x[c])||l,b=m.useMemo(()=>v,Object.values(v));return s.jsx(g.Provider,{value:b,children:p})};d.displayName=a+"Provider";function u(f,h){var g;const p=((g=h==null?void 0:h[e])==null?void 0:g[c])||l,v=m.useContext(p);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[d,u]}const i=()=>{const a=r.map(o=>m.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return i.scopeName=e,[n,p5(i,...t)]}function p5(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=n.reduce((l,{useScope:c,scopeName:d})=>{const f=c(a)[`__scope${d}`];return{...l,...f}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function Mi(e){const t=g5(e),r=m.forwardRef((n,i)=>{const{children:a,...o}=n,l=m.Children.toArray(a),c=l.find(x5);if(c){const d=c.props.children,u=l.map(f=>f===c?m.Children.count(d)>1?m.Children.only(null):m.isValidElement(d)?d.props.children:null:f);return s.jsx(t,{...o,ref:i,children:m.isValidElement(d)?m.cloneElement(d,void 0,u):null})}return s.jsx(t,{...o,ref:i,children:a})});return r.displayName=`${e}.Slot`,r}var CS=Mi("Slot");function g5(e){const t=m.forwardRef((r,n)=>{const{children:i,...a}=r;if(m.isValidElement(i)){const o=v5(i),l=y5(a,i.props);return i.type!==m.Fragment&&(l.ref=n?Ah(n,o):o),m.cloneElement(i,l)}return m.Children.count(i)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var PS=Symbol("radix.slottable");function TS(e){const t=({children:r})=>s.jsx(s.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=PS,t}function x5(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===PS}function y5(e,t){const r={...t};for(const n in t){const i=e[n],a=t[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...l)=>{a(...l),i(...l)}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...e,...r}}function v5(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Dd(e){const t=e+"CollectionProvider",[r,n]=yr(t),[i,a]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:b,children:x}=g,y=Be.useRef(null),w=Be.useRef(new Map).current;return s.jsx(i,{scope:b,itemMap:w,collectionRef:y,children:x})};o.displayName=t;const l=e+"CollectionSlot",c=Mi(l),d=Be.forwardRef((g,b)=>{const{scope:x,children:y}=g,w=a(l,x),j=De(b,w.collectionRef);return s.jsx(c,{ref:j,children:y})});d.displayName=l;const u=e+"CollectionItemSlot",f="data-radix-collection-item",h=Mi(u),p=Be.forwardRef((g,b)=>{const{scope:x,children:y,...w}=g,j=Be.useRef(null),N=De(b,j),P=a(u,x);return Be.useEffect(()=>(P.itemMap.set(j,{ref:j,...w}),()=>void P.itemMap.delete(j))),s.jsx(h,{[f]:"",ref:N,children:y})});p.displayName=u;function v(g){const b=a(e+"CollectionConsumer",g);return Be.useCallback(()=>{const y=b.collectionRef.current;if(!y)return[];const w=Array.from(y.querySelectorAll(`[${f}]`));return Array.from(b.itemMap.values()).sort((P,S)=>w.indexOf(P.ref.current)-w.indexOf(S.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:o,Slot:d,ItemSlot:p},v,n]}var w5=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ge=w5.reduce((e,t)=>{const r=Mi(`Primitive.${t}`),n=m.forwardRef((i,a)=>{const{asChild:o,...l}=i,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function Ky(e,t){e&&Ki.flushSync(()=>e.dispatchEvent(t))}function Tt(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function b5(e,t=globalThis==null?void 0:globalThis.document){const r=Tt(e);m.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var j5="DismissableLayer",qg="dismissableLayer.update",N5="dismissableLayer.pointerDownOutside",k5="dismissableLayer.focusOutside",hb,ES=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),za=m.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:o,onDismiss:l,...c}=e,d=m.useContext(ES),[u,f]=m.useState(null),h=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=m.useState({}),v=De(t,S=>f(S)),g=Array.from(d.layers),[b]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),x=g.indexOf(b),y=u?g.indexOf(u):-1,w=d.layersWithOutsidePointerEventsDisabled.size>0,j=y>=x,N=C5(S=>{const E=S.target,R=[...d.branches].some(A=>A.contains(E));!j||R||(i==null||i(S),o==null||o(S),S.defaultPrevented||l==null||l())},h),P=P5(S=>{const E=S.target;[...d.branches].some(A=>A.contains(E))||(a==null||a(S),o==null||o(S),S.defaultPrevented||l==null||l())},h);return b5(S=>{y===d.layers.size-1&&(n==null||n(S),!S.defaultPrevented&&l&&(S.preventDefault(),l()))},h),m.useEffect(()=>{if(u)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(hb=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),mb(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=hb)}},[u,h,r,d]),m.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),mb())},[u,d]),m.useEffect(()=>{const S=()=>p({});return document.addEventListener(qg,S),()=>document.removeEventListener(qg,S)},[]),s.jsx(ge.div,{...c,ref:v,style:{pointerEvents:w?j?"auto":"none":void 0,...e.style},onFocusCapture:Q(e.onFocusCapture,P.onFocusCapture),onBlurCapture:Q(e.onBlurCapture,P.onBlurCapture),onPointerDownCapture:Q(e.onPointerDownCapture,N.onPointerDownCapture)})});za.displayName=j5;var S5="DismissableLayerBranch",_S=m.forwardRef((e,t)=>{const r=m.useContext(ES),n=m.useRef(null),i=De(t,n);return m.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),s.jsx(ge.div,{...e,ref:i})});_S.displayName=S5;function C5(e,t=globalThis==null?void 0:globalThis.document){const r=Tt(e),n=m.useRef(!1),i=m.useRef(()=>{});return m.useEffect(()=>{const a=l=>{if(l.target&&!n.current){let c=function(){DS(N5,r,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=c,t.addEventListener("click",i.current,{once:!0})):c()}else t.removeEventListener("click",i.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",a),t.removeEventListener("click",i.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function P5(e,t=globalThis==null?void 0:globalThis.document){const r=Tt(e),n=m.useRef(!1);return m.useEffect(()=>{const i=a=>{a.target&&!n.current&&DS(k5,r,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function mb(){const e=new CustomEvent(qg);document.dispatchEvent(e)}function DS(e,t,r,{discrete:n}){const i=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?Ky(i,a):i.dispatchEvent(a)}var T5=za,E5=_S,or=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},_5="Portal",vl=m.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[i,a]=m.useState(!1);or(()=>a(!0),[]);const o=r||i&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?rR.createPortal(s.jsx(ge.div,{...n,ref:t}),o):null});vl.displayName=_5;function D5(e,t){return m.useReducer((r,n)=>t[r][n]??r,e)}var er=e=>{const{present:t,children:r}=e,n=M5(t),i=typeof r=="function"?r({present:n.isPresent}):m.Children.only(r),a=De(n.ref,A5(i));return typeof r=="function"||n.isPresent?m.cloneElement(i,{ref:a}):null};er.displayName="Presence";function M5(e){const[t,r]=m.useState(),n=m.useRef({}),i=m.useRef(e),a=m.useRef("none"),o=e?"mounted":"unmounted",[l,c]=D5(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const d=wu(n.current);a.current=l==="mounted"?d:"none"},[l]),or(()=>{const d=n.current,u=i.current;if(u!==e){const h=a.current,p=wu(d);e?c("MOUNT"):p==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(u&&h!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,c]),or(()=>{if(t){let d;const u=t.ownerDocument.defaultView??window,f=p=>{const g=wu(n.current).includes(p.animationName);if(p.target===t&&g&&(c("ANIMATION_END"),!i.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",d=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},h=p=>{p.target===t&&(a.current=wu(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{u.clearTimeout(d),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:m.useCallback(d=>{d&&(n.current=getComputedStyle(d)),r(d)},[])}}function wu(e){return(e==null?void 0:e.animationName)||"none"}function A5(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Sn({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,i]=R5({defaultProp:t,onChange:r}),a=e!==void 0,o=a?e:n,l=Tt(r),c=m.useCallback(d=>{if(a){const f=typeof d=="function"?d(e):d;f!==e&&l(f)}else i(d)},[a,e,i,l]);return[o,c]}function R5({defaultProp:e,onChange:t}){const r=m.useState(e),[n]=r,i=m.useRef(n),a=Tt(t);return m.useEffect(()=>{i.current!==n&&(a(n),i.current=n)},[n,i,a]),r}var O5="VisuallyHidden",Md=m.forwardRef((e,t)=>s.jsx(ge.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));Md.displayName=O5;var F5=Md,Yy="ToastProvider",[qy,I5,L5]=Dd("Toast"),[MS,SY]=yr("Toast",[L5]),[V5,Rh]=MS(Yy),AS=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:o}=e,[l,c]=m.useState(null),[d,u]=m.useState(0),f=m.useRef(!1),h=m.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${Yy}\`. Expected non-empty \`string\`.`),s.jsx(qy.Provider,{scope:t,children:s.jsx(V5,{scope:t,label:r,duration:n,swipeDirection:i,swipeThreshold:a,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:m.useCallback(()=>u(p=>p+1),[]),onToastRemove:m.useCallback(()=>u(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:o})})};AS.displayName=Yy;var RS="ToastViewport",$5=["F8"],Gg="toast.viewportPause",Qg="toast.viewportResume",OS=m.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=$5,label:i="Notifications ({hotkey})",...a}=e,o=Rh(RS,r),l=I5(r),c=m.useRef(null),d=m.useRef(null),u=m.useRef(null),f=m.useRef(null),h=De(t,f,o.onViewportChange),p=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=o.toastCount>0;m.useEffect(()=>{const b=x=>{var w;n.length!==0&&n.every(j=>x[j]||x.code===j)&&((w=f.current)==null||w.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[n]),m.useEffect(()=>{const b=c.current,x=f.current;if(v&&b&&x){const y=()=>{if(!o.isClosePausedRef.current){const P=new CustomEvent(Gg);x.dispatchEvent(P),o.isClosePausedRef.current=!0}},w=()=>{if(o.isClosePausedRef.current){const P=new CustomEvent(Qg);x.dispatchEvent(P),o.isClosePausedRef.current=!1}},j=P=>{!b.contains(P.relatedTarget)&&w()},N=()=>{b.contains(document.activeElement)||w()};return b.addEventListener("focusin",y),b.addEventListener("focusout",j),b.addEventListener("pointermove",y),b.addEventListener("pointerleave",N),window.addEventListener("blur",y),window.addEventListener("focus",w),()=>{b.removeEventListener("focusin",y),b.removeEventListener("focusout",j),b.removeEventListener("pointermove",y),b.removeEventListener("pointerleave",N),window.removeEventListener("blur",y),window.removeEventListener("focus",w)}}},[v,o.isClosePausedRef]);const g=m.useCallback(({tabbingDirection:b})=>{const y=l().map(w=>{const j=w.ref.current,N=[j,...J5(j)];return b==="forwards"?N:N.reverse()});return(b==="forwards"?y.reverse():y).flat()},[l]);return m.useEffect(()=>{const b=f.current;if(b){const x=y=>{var N,P,S;const w=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!w){const E=document.activeElement,R=y.shiftKey;if(y.target===b&&R){(N=d.current)==null||N.focus();return}const V=g({tabbingDirection:R?"backwards":"forwards"}),O=V.findIndex(B=>B===E);ap(V.slice(O+1))?y.preventDefault():R?(P=d.current)==null||P.focus():(S=u.current)==null||S.focus()}};return b.addEventListener("keydown",x),()=>b.removeEventListener("keydown",x)}},[l,g]),s.jsxs(E5,{ref:c,role:"region","aria-label":i.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&s.jsx(Zg,{ref:d,onFocusFromOutsideViewport:()=>{const b=g({tabbingDirection:"forwards"});ap(b)}}),s.jsx(qy.Slot,{scope:r,children:s.jsx(ge.ol,{tabIndex:-1,...a,ref:h})}),v&&s.jsx(Zg,{ref:u,onFocusFromOutsideViewport:()=>{const b=g({tabbingDirection:"backwards"});ap(b)}})]})});OS.displayName=RS;var FS="ToastFocusProxy",Zg=m.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...i}=e,a=Rh(FS,r);return s.jsx(Md,{"aria-hidden":!0,tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:o=>{var d;const l=o.relatedTarget;!((d=a.viewport)!=null&&d.contains(l))&&n()}})});Zg.displayName=FS;var Oh="Toast",z5="toast.swipeStart",B5="toast.swipeMove",W5="toast.swipeCancel",U5="toast.swipeEnd",IS=m.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:i,onOpenChange:a,...o}=e,[l=!0,c]=Sn({prop:n,defaultProp:i,onChange:a});return s.jsx(er,{present:r||l,children:s.jsx(Y5,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:Tt(e.onPause),onResume:Tt(e.onResume),onSwipeStart:Q(e.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Q(e.onSwipeMove,d=>{const{x:u,y:f}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Q(e.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Q(e.onSwipeEnd,d=>{const{x:u,y:f}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});IS.displayName=Oh;var[H5,K5]=MS(Oh,{onClose(){}}),Y5=m.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:i,open:a,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:u,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:p,...v}=e,g=Rh(Oh,r),[b,x]=m.useState(null),y=De(t,B=>x(B)),w=m.useRef(null),j=m.useRef(null),N=i||g.duration,P=m.useRef(0),S=m.useRef(N),E=m.useRef(0),{onToastAdd:R,onToastRemove:A}=g,W=Tt(()=>{var Y;(b==null?void 0:b.contains(document.activeElement))&&((Y=g.viewport)==null||Y.focus()),o()}),V=m.useCallback(B=>{!B||B===1/0||(window.clearTimeout(E.current),P.current=new Date().getTime(),E.current=window.setTimeout(W,B))},[W]);m.useEffect(()=>{const B=g.viewport;if(B){const Y=()=>{V(S.current),d==null||d()},H=()=>{const _=new Date().getTime()-P.current;S.current=S.current-_,window.clearTimeout(E.current),c==null||c()};return B.addEventListener(Gg,H),B.addEventListener(Qg,Y),()=>{B.removeEventListener(Gg,H),B.removeEventListener(Qg,Y)}}},[g.viewport,N,c,d,V]),m.useEffect(()=>{a&&!g.isClosePausedRef.current&&V(N)},[a,N,g.isClosePausedRef,V]),m.useEffect(()=>(R(),()=>A()),[R,A]);const O=m.useMemo(()=>b?US(b):null,[b]);return g.viewport?s.jsxs(s.Fragment,{children:[O&&s.jsx(q5,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:O}),s.jsx(H5,{scope:r,onClose:W,children:Ki.createPortal(s.jsx(qy.ItemSlot,{scope:r,children:s.jsx(T5,{asChild:!0,onEscapeKeyDown:Q(l,()=>{g.isFocusedToastEscapeKeyDownRef.current||W(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(ge.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":g.swipeDirection,...v,ref:y,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Q(e.onKeyDown,B=>{B.key==="Escape"&&(l==null||l(B.nativeEvent),B.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,W()))}),onPointerDown:Q(e.onPointerDown,B=>{B.button===0&&(w.current={x:B.clientX,y:B.clientY})}),onPointerMove:Q(e.onPointerMove,B=>{if(!w.current)return;const Y=B.clientX-w.current.x,H=B.clientY-w.current.y,_=!!j.current,C=["left","right"].includes(g.swipeDirection),T=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,$=C?T(0,Y):0,U=C?0:T(0,H),fe=B.pointerType==="touch"?10:2,Te={x:$,y:U},$e={originalEvent:B,delta:Te};_?(j.current=Te,bu(B5,f,$e,{discrete:!1})):pb(Te,g.swipeDirection,fe)?(j.current=Te,bu(z5,u,$e,{discrete:!1}),B.target.setPointerCapture(B.pointerId)):(Math.abs(Y)>fe||Math.abs(H)>fe)&&(w.current=null)}),onPointerUp:Q(e.onPointerUp,B=>{const Y=j.current,H=B.target;if(H.hasPointerCapture(B.pointerId)&&H.releasePointerCapture(B.pointerId),j.current=null,w.current=null,Y){const _=B.currentTarget,C={originalEvent:B,delta:Y};pb(Y,g.swipeDirection,g.swipeThreshold)?bu(U5,p,C,{discrete:!0}):bu(W5,h,C,{discrete:!0}),_.addEventListener("click",T=>T.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),q5=e=>{const{__scopeToast:t,children:r,...n}=e,i=Rh(Oh,t),[a,o]=m.useState(!1),[l,c]=m.useState(!1);return Z5(()=>o(!0)),m.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:s.jsx(vl,{asChild:!0,children:s.jsx(Md,{...n,children:a&&s.jsxs(s.Fragment,{children:[i.label," ",r]})})})},G5="ToastTitle",LS=m.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(ge.div,{...n,ref:t})});LS.displayName=G5;var Q5="ToastDescription",VS=m.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(ge.div,{...n,ref:t})});VS.displayName=Q5;var $S="ToastAction",zS=m.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?s.jsx(WS,{altText:r,asChild:!0,children:s.jsx(Gy,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${$S}\`. Expected non-empty \`string\`.`),null)});zS.displayName=$S;var BS="ToastClose",Gy=m.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,i=K5(BS,r);return s.jsx(WS,{asChild:!0,children:s.jsx(ge.button,{type:"button",...n,ref:t,onClick:Q(e.onClick,i.onClose)})})});Gy.displayName=BS;var WS=m.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...i}=e;return s.jsx(ge.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...i,ref:t})});function US(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),X5(n)){const i=n.ariaHidden||n.hidden||n.style.display==="none",a=n.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const o=n.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...US(n))}}),t}function bu(e,t,r,{discrete:n}){const i=r.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?Ky(i,a):i.dispatchEvent(a)}var pb=(e,t,r=0)=>{const n=Math.abs(e.x),i=Math.abs(e.y),a=n>i;return t==="left"||t==="right"?a&&n>r:!a&&i>r};function Z5(e=()=>{}){const t=Tt(e);or(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function X5(e){return e.nodeType===e.ELEMENT_NODE}function J5(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function ap(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var eO=AS,HS=OS,KS=IS,YS=LS,qS=VS,GS=zS,QS=Gy;function ZS(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=ZS(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function XS(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=ZS(e))&&(n&&(n+=" "),n+=t);return n}const gb=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,xb=XS,Ad=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return xb(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:i,defaultVariants:a}=t,o=Object.keys(i).map(d=>{const u=r==null?void 0:r[d],f=a==null?void 0:a[d];if(u===null)return null;const h=gb(u)||gb(f);return i[d][h]}),l=r&&Object.entries(r).reduce((d,u)=>{let[f,h]=u;return h===void 0||(d[f]=h),d},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((d,u)=>{let{class:f,className:h,...p}=u;return Object.entries(p).every(v=>{let[g,b]=v;return Array.isArray(b)?b.includes({...a,...l}[g]):{...a,...l}[g]===b})?[...d,f,h]:d},[]);return xb(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tO=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),JS=(...e)=>e.filter((t,r,n)=>!!t&&n.indexOf(t)===r).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var rO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nO=m.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:o,...l},c)=>m.createElement("svg",{ref:c,...rO,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:JS("lucide",i),...l},[...o.map(([d,u])=>m.createElement(d,u)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=(e,t)=>{const r=m.forwardRef(({className:n,...i},a)=>m.createElement(nO,{ref:a,iconNode:t,className:JS(`lucide-${tO(e)}`,n),...i}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sO=J("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yb=J("ArrowDownWideNarrow",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h10",key:"1w87gc"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h4",key:"q8tih4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fh=J("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eC=J("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vb=J("ArrowUpNarrowWide",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tC=J("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vc=J("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iO=J("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yt=J("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rC=J("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aO=J("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oO=J("ChartNoAxesColumnIncreasing",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lO=J("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cO=J("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rd=J("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const So=J("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dO=J("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qy=J("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Af=J("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rc=J("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nC=J("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $l=J("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wb=J("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uO=J("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fO=J("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ai=J("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sC=J("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iC=J("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bt=J("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aC=J("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hO=J("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const la=J("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const op=J("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zy=J("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mO=J("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pO=J("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wc=J("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gO=J("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ba=J("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xO=J("KeyRound",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yO=J("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bb=J("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vO=J("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wO=J("ListFilter",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M7 12h10",key:"b7w52i"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pr=J("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bc=J("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oC=J("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const As=J("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lC=J("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ci=J("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bO=J("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jO=J("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NO=J("Mountain",[["path",{d:"m8 3 4 8 5-5 5 15H2L8 3z",key:"otkl63"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kO=J("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SO=J("PackageCheck",[["path",{d:"m16 16 2 2 4-4",key:"gfu2re"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qu=J("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CO=J("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jb=J("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cC=J("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dC=J("PencilLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}],["path",{d:"m15 5 3 3",key:"1w25hb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uC=J("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PO=J("PlaneLanding",[["path",{d:"M2 22h20",key:"272qi7"}],["path",{d:"M3.77 10.77 2 9l2-4.5 1.1.55c.55.28.9.84.9 1.45s.35 1.17.9 1.45L8 8.5l3-6 1.05.53a2 2 0 0 1 1.09 1.52l.72 5.4a2 2 0 0 0 1.09 1.52l4.4 2.2c.42.22.78.55 1.01.96l.6 1.03c.49.88-.06 1.98-1.06 2.1l-1.18.15c-.47.06-.95-.02-1.37-.24L4.29 11.15a2 2 0 0 1-.52-.38Z",key:"1ma21e"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fC=J("PlaneTakeoff",[["path",{d:"M2 22h20",key:"272qi7"}],["path",{d:"M6.36 17.4 4 17l-2-4 1.1-.55a2 2 0 0 1 1.8 0l.17.1a2 2 0 0 0 1.8 0L8 12 5 6l.9-.45a2 2 0 0 1 2.09.2l4.02 3a2 2 0 0 0 2.1.2l4.19-2.06a2.41 2.41 0 0 1 1.73-.17L21 7a1.4 1.4 0 0 1 .87 1.99l-.38.76c-.23.46-.6.84-1.07 1.08L7.58 17.2a2 2 0 0 1-1.22.18Z",key:"fkigj9"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vr=J("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xg=J("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nb=J("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TO=J("Sailboat",[["path",{d:"M22 18H2a4 4 0 0 0 4 4h12a4 4 0 0 0 4-4Z",key:"1404fh"}],["path",{d:"M21 14 10 2 3 14h18Z",key:"1nzg7v"}],["path",{d:"M10 2v16",key:"1labyt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hC=J("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EO=J("ScanSearch",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["path",{d:"m16 16-1.9-1.9",key:"1dq9hf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jg=J("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _O=J("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rf=J("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Of=J("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DO=J("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gu=J("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ca=J("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MO=J("StickyNote",[["path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z",key:"qazsjp"}],["path",{d:"M15 3v4a2 2 0 0 0 2 2h4",key:"40519r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AO=J("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RO=J("ThumbsDown",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mC=J("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pC=J("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tr=J("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OO=J("TreePalm",[["path",{d:"M13 8c0-2.76-2.46-5-5.5-5S2 5.24 2 8h2l1-1 1 1h4",key:"foxbe7"}],["path",{d:"M13 7.14A5.82 5.82 0 0 1 16.5 6c3.04 0 5.5 2.24 5.5 5h-3l-1-1-1 1h-3",key:"18arnh"}],["path",{d:"M5.89 9.71c-2.15 2.15-2.3 5.47-.35 7.43l4.24-4.25.7-.7.71-.71 2.12-2.12c-1.95-1.96-5.27-1.8-7.42.35",key:"ywahnh"}],["path",{d:"M11 15.5c.5 2.5-.17 4.5-1 6.5h4c2-5.5-.5-12-1-14",key:"ft0feo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FO=J("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IO=J("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yc=J("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ex=J("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const en=J("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xt=J("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LO=J("Vote",[["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}],["path",{d:"M5 7c0-1.1.9-2 2-2h10a2 2 0 0 1 2 2v12H5V7Z",key:"1ezoue"}],["path",{d:"M22 19H2",key:"nuriw5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gC=J("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VO=J("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Co=J("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Xy="-",$O=e=>{const t=BO(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(Xy);return l[0]===""&&l.length!==1&&l.shift(),xC(l,t)||zO(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},xC=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),i=n?xC(e.slice(1),n):void 0;if(i)return i;if(t.validators.length===0)return;const a=e.join(Xy);return(o=t.validators.find(({validator:l})=>l(a)))==null?void 0:o.classGroupId},kb=/^\[(.+)\]$/,zO=e=>{if(kb.test(e)){const t=kb.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},BO=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return UO(Object.entries(e.classGroups),r).forEach(([a,o])=>{tx(o,n,a,t)}),n},tx=(e,t,r,n)=>{e.forEach(i=>{if(typeof i=="string"){const a=i===""?t:Sb(t,i);a.classGroupId=r;return}if(typeof i=="function"){if(WO(i)){tx(i(n),t,r,n);return}t.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([a,o])=>{tx(o,Sb(t,a),r,n)})})},Sb=(e,t)=>{let r=e;return t.split(Xy).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},WO=e=>e.isThemeGetter,UO=(e,t)=>t?e.map(([r,n])=>{const i=n.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,l])=>[t+o,l])):a);return[r,i]}):e,HO=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const i=(a,o)=>{r.set(a,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(a){let o=r.get(a);if(o!==void 0)return o;if((o=n.get(a))!==void 0)return i(a,o),o},set(a,o){r.has(a)?r.set(a,o):i(a,o)}}},yC="!",KO=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,i=t[0],a=t.length,o=l=>{const c=[];let d=0,u=0,f;for(let b=0;b<l.length;b++){let x=l[b];if(d===0){if(x===i&&(n||l.slice(b,b+a)===t)){c.push(l.slice(u,b)),u=b+a;continue}if(x==="/"){f=b;continue}}x==="["?d++:x==="]"&&d--}const h=c.length===0?l:l.substring(u),p=h.startsWith(yC),v=p?h.substring(1):h,g=f&&f>u?f-u:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:v,maybePostfixModifierPosition:g}};return r?l=>r({className:l,parseClassName:o}):o},YO=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},qO=e=>({cache:HO(e.cacheSize),parseClassName:KO(e),...$O(e)}),GO=/\s+/,QO=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i}=t,a=[],o=e.trim().split(GO);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:u,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:p}=r(d);let v=!!p,g=n(v?h.substring(0,p):h);if(!g){if(!v){l=d+(l.length>0?" "+l:l);continue}if(g=n(h),!g){l=d+(l.length>0?" "+l:l);continue}v=!1}const b=YO(u).join(":"),x=f?b+yC:b,y=x+g;if(a.includes(y))continue;a.push(y);const w=i(g,v);for(let j=0;j<w.length;++j){const N=w[j];a.push(x+N)}l=d+(l.length>0?" "+l:l)}return l};function ZO(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=vC(t))&&(n&&(n+=" "),n+=r);return n}const vC=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=vC(e[n]))&&(r&&(r+=" "),r+=t);return r};function XO(e,...t){let r,n,i,a=o;function o(c){const d=t.reduce((u,f)=>f(u),e());return r=qO(d),n=r.cache.get,i=r.cache.set,a=l,l(c)}function l(c){const d=n(c);if(d)return d;const u=QO(c,r);return i(c,u),u}return function(){return a(ZO.apply(null,arguments))}}const bt=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},wC=/^\[(?:([a-z-]+):)?(.+)\]$/i,JO=/^\d+\/\d+$/,e3=new Set(["px","full","screen"]),t3=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,r3=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,n3=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,s3=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,i3=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ws=e=>Po(e)||e3.has(e)||JO.test(e),qs=e=>wl(e,"length",h3),Po=e=>!!e&&!Number.isNaN(Number(e)),lp=e=>wl(e,"number",Po),zl=e=>!!e&&Number.isInteger(Number(e)),a3=e=>e.endsWith("%")&&Po(e.slice(0,-1)),Ue=e=>wC.test(e),Gs=e=>t3.test(e),o3=new Set(["length","size","percentage"]),l3=e=>wl(e,o3,bC),c3=e=>wl(e,"position",bC),d3=new Set(["image","url"]),u3=e=>wl(e,d3,p3),f3=e=>wl(e,"",m3),Bl=()=>!0,wl=(e,t,r)=>{const n=wC.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},h3=e=>r3.test(e)&&!n3.test(e),bC=()=>!1,m3=e=>s3.test(e),p3=e=>i3.test(e),g3=()=>{const e=bt("colors"),t=bt("spacing"),r=bt("blur"),n=bt("brightness"),i=bt("borderColor"),a=bt("borderRadius"),o=bt("borderSpacing"),l=bt("borderWidth"),c=bt("contrast"),d=bt("grayscale"),u=bt("hueRotate"),f=bt("invert"),h=bt("gap"),p=bt("gradientColorStops"),v=bt("gradientColorStopPositions"),g=bt("inset"),b=bt("margin"),x=bt("opacity"),y=bt("padding"),w=bt("saturate"),j=bt("scale"),N=bt("sepia"),P=bt("skew"),S=bt("space"),E=bt("translate"),R=()=>["auto","contain","none"],A=()=>["auto","hidden","clip","visible","scroll"],W=()=>["auto",Ue,t],V=()=>[Ue,t],O=()=>["",ws,qs],B=()=>["auto",Po,Ue],Y=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],H=()=>["solid","dashed","dotted","double","none"],_=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],C=()=>["start","end","center","between","around","evenly","stretch"],T=()=>["","0",Ue],$=()=>["auto","avoid","all","avoid-page","page","left","right","column"],U=()=>[Po,Ue];return{cacheSize:500,separator:":",theme:{colors:[Bl],spacing:[ws,qs],blur:["none","",Gs,Ue],brightness:U(),borderColor:[e],borderRadius:["none","","full",Gs,Ue],borderSpacing:V(),borderWidth:O(),contrast:U(),grayscale:T(),hueRotate:U(),invert:T(),gap:V(),gradientColorStops:[e],gradientColorStopPositions:[a3,qs],inset:W(),margin:W(),opacity:U(),padding:V(),saturate:U(),scale:U(),sepia:T(),skew:U(),space:V(),translate:V()},classGroups:{aspect:[{aspect:["auto","square","video",Ue]}],container:["container"],columns:[{columns:[Gs]}],"break-after":[{"break-after":$()}],"break-before":[{"break-before":$()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Y(),Ue]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",zl,Ue]}],basis:[{basis:W()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ue]}],grow:[{grow:T()}],shrink:[{shrink:T()}],order:[{order:["first","last","none",zl,Ue]}],"grid-cols":[{"grid-cols":[Bl]}],"col-start-end":[{col:["auto",{span:["full",zl,Ue]},Ue]}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":[Bl]}],"row-start-end":[{row:["auto",{span:[zl,Ue]},Ue]}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ue]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ue]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...C()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...C(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...C(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ue,t]}],"min-w":[{"min-w":[Ue,t,"min","max","fit"]}],"max-w":[{"max-w":[Ue,t,"none","full","min","max","fit","prose",{screen:[Gs]},Gs]}],h:[{h:[Ue,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ue,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ue,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ue,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Gs,qs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",lp]}],"font-family":[{font:[Bl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ue]}],"line-clamp":[{"line-clamp":["none",Po,lp]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ws,Ue]}],"list-image":[{"list-image":["none",Ue]}],"list-style-type":[{list:["none","disc","decimal",Ue]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...H(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ws,qs]}],"underline-offset":[{"underline-offset":["auto",ws,Ue]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:V()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Y(),c3]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",l3]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},u3]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...H(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:H()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...H()]}],"outline-offset":[{"outline-offset":[ws,Ue]}],"outline-w":[{outline:[ws,qs]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:O()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[ws,qs]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Gs,f3]}],"shadow-color":[{shadow:[Bl]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[..._(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":_()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Gs,Ue]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ue]}],duration:[{duration:U()}],ease:[{ease:["linear","in","out","in-out",Ue]}],delay:[{delay:U()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ue]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[zl,Ue]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[P]}],"skew-y":[{"skew-y":[P]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ue]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ue]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":V()}],"scroll-mx":[{"scroll-mx":V()}],"scroll-my":[{"scroll-my":V()}],"scroll-ms":[{"scroll-ms":V()}],"scroll-me":[{"scroll-me":V()}],"scroll-mt":[{"scroll-mt":V()}],"scroll-mr":[{"scroll-mr":V()}],"scroll-mb":[{"scroll-mb":V()}],"scroll-ml":[{"scroll-ml":V()}],"scroll-p":[{"scroll-p":V()}],"scroll-px":[{"scroll-px":V()}],"scroll-py":[{"scroll-py":V()}],"scroll-ps":[{"scroll-ps":V()}],"scroll-pe":[{"scroll-pe":V()}],"scroll-pt":[{"scroll-pt":V()}],"scroll-pr":[{"scroll-pr":V()}],"scroll-pb":[{"scroll-pb":V()}],"scroll-pl":[{"scroll-pl":V()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ue]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[ws,qs,lp]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},x3=XO(g3);function re(...e){return x3(XS(e))}function jC(e,t){if(!e)return"No dates set";let r;try{if(r=e instanceof Date?e:new Date(e),isNaN(r.getTime()))return console.error("Invalid start date:",e),"No dates set"}catch(i){return console.error("Error parsing start date:",i),"No dates set"}if(!t)return Wl(r);let n;try{if(n=t instanceof Date?t:new Date(t),isNaN(n.getTime()))return console.error("Invalid end date:",t),Wl(r)}catch(i){return console.error("Error parsing end date:",i),Wl(r)}return r.getMonth()===n.getMonth()&&r.getFullYear()===n.getFullYear()?`${r.toLocaleDateString("en-US",{month:"short"})} ${r.getDate()}-${n.getDate()}, ${r.getFullYear()}`:r.getFullYear()===n.getFullYear()?`${r.toLocaleDateString("en-US",{month:"short"})} ${r.getDate()} - ${n.toLocaleDateString("en-US",{month:"short"})} ${n.getDate()}, ${r.getFullYear()}`:`${Wl(r)} - ${Wl(n)}`}function Wl(e){return e.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}function NC(e){const t=new Date(e),n=new Date().getTime()-t.getTime(),i=Math.round(n/1e3),a=Math.round(i/60),o=Math.round(a/60),l=Math.round(o/24);return i<60?"just now":a<60?`${a} ${a===1?"minute":"minutes"} ago`:o<24?`${o} ${o===1?"hour":"hours"} ago`:l<7?`${l} ${l===1?"day":"days"} ago`:t.toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"})}const y3=eO,kC=m.forwardRef(({className:e,...t},r)=>s.jsx(HS,{ref:r,className:re("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));kC.displayName=HS.displayName;const v3=Ad("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),SC=m.forwardRef(({className:e,variant:t,...r},n)=>s.jsx(KS,{ref:n,className:re(v3({variant:t}),e),...r}));SC.displayName=KS.displayName;const w3=m.forwardRef(({className:e,...t},r)=>s.jsx(GS,{ref:r,className:re("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));w3.displayName=GS.displayName;const CC=m.forwardRef(({className:e,...t},r)=>s.jsx(QS,{ref:r,className:re("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:s.jsx(Co,{className:"h-4 w-4"})}));CC.displayName=QS.displayName;const PC=m.forwardRef(({className:e,...t},r)=>s.jsx(YS,{ref:r,className:re("text-sm font-semibold",e),...t}));PC.displayName=YS.displayName;const TC=m.forwardRef(({className:e,...t},r)=>s.jsx(qS,{ref:r,className:re("text-sm opacity-90",e),...t}));TC.displayName=qS.displayName;function b3(){const{toasts:e}=vt();return s.jsxs(y3,{children:[e.map(function({id:t,title:r,description:n,action:i,...a}){return s.jsxs(SC,{...a,children:[s.jsxs("div",{className:"grid gap-1",children:[r&&s.jsx(PC,{children:r}),n&&s.jsx(TC,{children:n})]}),i,s.jsx(CC,{})]},t)}),s.jsx(kC,{})]})}var j3=Jj[" useId ".trim().toString()]||(()=>{}),N3=0;function bn(e){const[t,r]=m.useState(j3());return or(()=>{e||r(n=>n??String(N3++))},[e]),e||(t?`radix-${t}`:"")}const k3=["top","right","bottom","left"],Ri=Math.min,Zr=Math.max,Ff=Math.round,ju=Math.floor,cs=e=>({x:e,y:e}),S3={left:"right",right:"left",bottom:"top",top:"bottom"},C3={start:"end",end:"start"};function rx(e,t,r){return Zr(e,Ri(t,r))}function zs(e,t){return typeof e=="function"?e(t):e}function Bs(e){return e.split("-")[0]}function bl(e){return e.split("-")[1]}function Jy(e){return e==="x"?"y":"x"}function ev(e){return e==="y"?"height":"width"}function Oi(e){return["top","bottom"].includes(Bs(e))?"y":"x"}function tv(e){return Jy(Oi(e))}function P3(e,t,r){r===void 0&&(r=!1);const n=bl(e),i=tv(e),a=ev(i);let o=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(o=If(o)),[o,If(o)]}function T3(e){const t=If(e);return[nx(e),t,nx(t)]}function nx(e){return e.replace(/start|end/g,t=>C3[t])}function E3(e,t,r){const n=["left","right"],i=["right","left"],a=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return r?t?i:n:t?n:i;case"left":case"right":return t?a:o;default:return[]}}function _3(e,t,r,n){const i=bl(e);let a=E3(Bs(e),r==="start",n);return i&&(a=a.map(o=>o+"-"+i),t&&(a=a.concat(a.map(nx)))),a}function If(e){return e.replace(/left|right|bottom|top/g,t=>S3[t])}function D3(e){return{top:0,right:0,bottom:0,left:0,...e}}function EC(e){return typeof e!="number"?D3(e):{top:e,right:e,bottom:e,left:e}}function Lf(e){const{x:t,y:r,width:n,height:i}=e;return{width:n,height:i,top:r,left:t,right:t+n,bottom:r+i,x:t,y:r}}function Cb(e,t,r){let{reference:n,floating:i}=e;const a=Oi(t),o=tv(t),l=ev(o),c=Bs(t),d=a==="y",u=n.x+n.width/2-i.width/2,f=n.y+n.height/2-i.height/2,h=n[l]/2-i[l]/2;let p;switch(c){case"top":p={x:u,y:n.y-i.height};break;case"bottom":p={x:u,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:f};break;case"left":p={x:n.x-i.width,y:f};break;default:p={x:n.x,y:n.y}}switch(bl(t)){case"start":p[o]-=h*(r&&d?-1:1);break;case"end":p[o]+=h*(r&&d?-1:1);break}return p}const M3=async(e,t,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:a=[],platform:o}=r,l=a.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let d=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:u,y:f}=Cb(d,n,c),h=n,p={},v=0;for(let g=0;g<l.length;g++){const{name:b,fn:x}=l[g],{x:y,y:w,data:j,reset:N}=await x({x:u,y:f,initialPlacement:n,placement:h,strategy:i,middlewareData:p,rects:d,platform:o,elements:{reference:e,floating:t}});u=y??u,f=w??f,p={...p,[b]:{...p[b],...j}},N&&v<=50&&(v++,typeof N=="object"&&(N.placement&&(h=N.placement),N.rects&&(d=N.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):N.rects),{x:u,y:f}=Cb(d,h,c)),g=-1)}return{x:u,y:f,placement:h,strategy:i,middlewareData:p}};async function qc(e,t){var r;t===void 0&&(t={});const{x:n,y:i,platform:a,rects:o,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:h=!1,padding:p=0}=zs(t,e),v=EC(p),b=l[h?f==="floating"?"reference":"floating":f],x=Lf(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(b)))==null||r?b:b.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:d,rootBoundary:u,strategy:c})),y=f==="floating"?{x:n,y:i,width:o.floating.width,height:o.floating.height}:o.reference,w=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),j=await(a.isElement==null?void 0:a.isElement(w))?await(a.getScale==null?void 0:a.getScale(w))||{x:1,y:1}:{x:1,y:1},N=Lf(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:y,offsetParent:w,strategy:c}):y);return{top:(x.top-N.top+v.top)/j.y,bottom:(N.bottom-x.bottom+v.bottom)/j.y,left:(x.left-N.left+v.left)/j.x,right:(N.right-x.right+v.right)/j.x}}const A3=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:i,rects:a,platform:o,elements:l,middlewareData:c}=t,{element:d,padding:u=0}=zs(e,t)||{};if(d==null)return{};const f=EC(u),h={x:r,y:n},p=tv(i),v=ev(p),g=await o.getDimensions(d),b=p==="y",x=b?"top":"left",y=b?"bottom":"right",w=b?"clientHeight":"clientWidth",j=a.reference[v]+a.reference[p]-h[p]-a.floating[v],N=h[p]-a.reference[p],P=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let S=P?P[w]:0;(!S||!await(o.isElement==null?void 0:o.isElement(P)))&&(S=l.floating[w]||a.floating[v]);const E=j/2-N/2,R=S/2-g[v]/2-1,A=Ri(f[x],R),W=Ri(f[y],R),V=A,O=S-g[v]-W,B=S/2-g[v]/2+E,Y=rx(V,B,O),H=!c.arrow&&bl(i)!=null&&B!==Y&&a.reference[v]/2-(B<V?A:W)-g[v]/2<0,_=H?B<V?B-V:B-O:0;return{[p]:h[p]+_,data:{[p]:Y,centerOffset:B-Y-_,...H&&{alignmentOffset:_}},reset:H}}}),R3=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:i,middlewareData:a,rects:o,initialPlacement:l,platform:c,elements:d}=t,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:g=!0,...b}=zs(e,t);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const x=Bs(i),y=Oi(l),w=Bs(l)===l,j=await(c.isRTL==null?void 0:c.isRTL(d.floating)),N=h||(w||!g?[If(l)]:T3(l)),P=v!=="none";!h&&P&&N.push(..._3(l,g,v,j));const S=[l,...N],E=await qc(t,b),R=[];let A=((n=a.flip)==null?void 0:n.overflows)||[];if(u&&R.push(E[x]),f){const B=P3(i,o,j);R.push(E[B[0]],E[B[1]])}if(A=[...A,{placement:i,overflows:R}],!R.every(B=>B<=0)){var W,V;const B=(((W=a.flip)==null?void 0:W.index)||0)+1,Y=S[B];if(Y)return{data:{index:B,overflows:A},reset:{placement:Y}};let H=(V=A.filter(_=>_.overflows[0]<=0).sort((_,C)=>_.overflows[1]-C.overflows[1])[0])==null?void 0:V.placement;if(!H)switch(p){case"bestFit":{var O;const _=(O=A.filter(C=>{if(P){const T=Oi(C.placement);return T===y||T==="y"}return!0}).map(C=>[C.placement,C.overflows.filter(T=>T>0).reduce((T,$)=>T+$,0)]).sort((C,T)=>C[1]-T[1])[0])==null?void 0:O[0];_&&(H=_);break}case"initialPlacement":H=l;break}if(i!==H)return{reset:{placement:H}}}return{}}}};function Pb(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Tb(e){return k3.some(t=>e[t]>=0)}const O3=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...i}=zs(e,t);switch(n){case"referenceHidden":{const a=await qc(t,{...i,elementContext:"reference"}),o=Pb(a,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Tb(o)}}}case"escaped":{const a=await qc(t,{...i,altBoundary:!0}),o=Pb(a,r.floating);return{data:{escapedOffsets:o,escaped:Tb(o)}}}default:return{}}}}};async function F3(e,t){const{placement:r,platform:n,elements:i}=e,a=await(n.isRTL==null?void 0:n.isRTL(i.floating)),o=Bs(r),l=bl(r),c=Oi(r)==="y",d=["left","top"].includes(o)?-1:1,u=a&&c?-1:1,f=zs(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:v}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof v=="number"&&(p=l==="end"?v*-1:v),c?{x:p*u,y:h*d}:{x:h*d,y:p*u}}const I3=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:i,y:a,placement:o,middlewareData:l}=t,c=await F3(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:i+c.x,y:a+c.y,data:{...c,placement:o}}}}},L3=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:i}=t,{mainAxis:a=!0,crossAxis:o=!1,limiter:l={fn:b=>{let{x,y}=b;return{x,y}}},...c}=zs(e,t),d={x:r,y:n},u=await qc(t,c),f=Oi(Bs(i)),h=Jy(f);let p=d[h],v=d[f];if(a){const b=h==="y"?"top":"left",x=h==="y"?"bottom":"right",y=p+u[b],w=p-u[x];p=rx(y,p,w)}if(o){const b=f==="y"?"top":"left",x=f==="y"?"bottom":"right",y=v+u[b],w=v-u[x];v=rx(y,v,w)}const g=l.fn({...t,[h]:p,[f]:v});return{...g,data:{x:g.x-r,y:g.y-n,enabled:{[h]:a,[f]:o}}}}}},V3=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:i,rects:a,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=zs(e,t),u={x:r,y:n},f=Oi(i),h=Jy(f);let p=u[h],v=u[f];const g=zs(l,t),b=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const w=h==="y"?"height":"width",j=a.reference[h]-a.floating[w]+b.mainAxis,N=a.reference[h]+a.reference[w]-b.mainAxis;p<j?p=j:p>N&&(p=N)}if(d){var x,y;const w=h==="y"?"width":"height",j=["top","left"].includes(Bs(i)),N=a.reference[f]-a.floating[w]+(j&&((x=o.offset)==null?void 0:x[f])||0)+(j?0:b.crossAxis),P=a.reference[f]+a.reference[w]+(j?0:((y=o.offset)==null?void 0:y[f])||0)-(j?b.crossAxis:0);v<N?v=N:v>P&&(v=P)}return{[h]:p,[f]:v}}}},$3=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:i,rects:a,platform:o,elements:l}=t,{apply:c=()=>{},...d}=zs(e,t),u=await qc(t,d),f=Bs(i),h=bl(i),p=Oi(i)==="y",{width:v,height:g}=a.floating;let b,x;f==="top"||f==="bottom"?(b=f,x=h===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(x=f,b=h==="end"?"top":"bottom");const y=g-u.top-u.bottom,w=v-u.left-u.right,j=Ri(g-u[b],y),N=Ri(v-u[x],w),P=!t.middlewareData.shift;let S=j,E=N;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(E=w),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(S=y),P&&!h){const A=Zr(u.left,0),W=Zr(u.right,0),V=Zr(u.top,0),O=Zr(u.bottom,0);p?E=v-2*(A!==0||W!==0?A+W:Zr(u.left,u.right)):S=g-2*(V!==0||O!==0?V+O:Zr(u.top,u.bottom))}await c({...t,availableWidth:E,availableHeight:S});const R=await o.getDimensions(l.floating);return v!==R.width||g!==R.height?{reset:{rects:!0}}:{}}}};function Ih(){return typeof window<"u"}function jl(e){return _C(e)?(e.nodeName||"").toLowerCase():"#document"}function sn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function xs(e){var t;return(t=(_C(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function _C(e){return Ih()?e instanceof Node||e instanceof sn(e).Node:!1}function Wn(e){return Ih()?e instanceof Element||e instanceof sn(e).Element:!1}function hs(e){return Ih()?e instanceof HTMLElement||e instanceof sn(e).HTMLElement:!1}function Eb(e){return!Ih()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof sn(e).ShadowRoot}function Od(e){const{overflow:t,overflowX:r,overflowY:n,display:i}=Un(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(i)}function z3(e){return["table","td","th"].includes(jl(e))}function Lh(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function rv(e){const t=nv(),r=Wn(e)?Un(e):e;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function B3(e){let t=Fi(e);for(;hs(t)&&!el(t);){if(rv(t))return t;if(Lh(t))return null;t=Fi(t)}return null}function nv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function el(e){return["html","body","#document"].includes(jl(e))}function Un(e){return sn(e).getComputedStyle(e)}function Vh(e){return Wn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Fi(e){if(jl(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Eb(e)&&e.host||xs(e);return Eb(t)?t.host:t}function DC(e){const t=Fi(e);return el(t)?e.ownerDocument?e.ownerDocument.body:e.body:hs(t)&&Od(t)?t:DC(t)}function Gc(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const i=DC(e),a=i===((n=e.ownerDocument)==null?void 0:n.body),o=sn(i);if(a){const l=sx(o);return t.concat(o,o.visualViewport||[],Od(i)?i:[],l&&r?Gc(l):[])}return t.concat(i,Gc(i,[],r))}function sx(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function MC(e){const t=Un(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const i=hs(e),a=i?e.offsetWidth:r,o=i?e.offsetHeight:n,l=Ff(r)!==a||Ff(n)!==o;return l&&(r=a,n=o),{width:r,height:n,$:l}}function sv(e){return Wn(e)?e:e.contextElement}function To(e){const t=sv(e);if(!hs(t))return cs(1);const r=t.getBoundingClientRect(),{width:n,height:i,$:a}=MC(t);let o=(a?Ff(r.width):r.width)/n,l=(a?Ff(r.height):r.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const W3=cs(0);function AC(e){const t=sn(e);return!nv()||!t.visualViewport?W3:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function U3(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==sn(e)?!1:t}function Da(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const i=e.getBoundingClientRect(),a=sv(e);let o=cs(1);t&&(n?Wn(n)&&(o=To(n)):o=To(e));const l=U3(a,r,n)?AC(a):cs(0);let c=(i.left+l.x)/o.x,d=(i.top+l.y)/o.y,u=i.width/o.x,f=i.height/o.y;if(a){const h=sn(a),p=n&&Wn(n)?sn(n):n;let v=h,g=sx(v);for(;g&&n&&p!==v;){const b=To(g),x=g.getBoundingClientRect(),y=Un(g),w=x.left+(g.clientLeft+parseFloat(y.paddingLeft))*b.x,j=x.top+(g.clientTop+parseFloat(y.paddingTop))*b.y;c*=b.x,d*=b.y,u*=b.x,f*=b.y,c+=w,d+=j,v=sn(g),g=sx(v)}}return Lf({width:u,height:f,x:c,y:d})}function iv(e,t){const r=Vh(e).scrollLeft;return t?t.left+r:Da(xs(e)).left+r}function RC(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),i=n.left+t.scrollLeft-(r?0:iv(e,n)),a=n.top+t.scrollTop;return{x:i,y:a}}function H3(e){let{elements:t,rect:r,offsetParent:n,strategy:i}=e;const a=i==="fixed",o=xs(n),l=t?Lh(t.floating):!1;if(n===o||l&&a)return r;let c={scrollLeft:0,scrollTop:0},d=cs(1);const u=cs(0),f=hs(n);if((f||!f&&!a)&&((jl(n)!=="body"||Od(o))&&(c=Vh(n)),hs(n))){const p=Da(n);d=To(n),u.x=p.x+n.clientLeft,u.y=p.y+n.clientTop}const h=o&&!f&&!a?RC(o,c,!0):cs(0);return{width:r.width*d.x,height:r.height*d.y,x:r.x*d.x-c.scrollLeft*d.x+u.x+h.x,y:r.y*d.y-c.scrollTop*d.y+u.y+h.y}}function K3(e){return Array.from(e.getClientRects())}function Y3(e){const t=xs(e),r=Vh(e),n=e.ownerDocument.body,i=Zr(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),a=Zr(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+iv(e);const l=-r.scrollTop;return Un(n).direction==="rtl"&&(o+=Zr(t.clientWidth,n.clientWidth)-i),{width:i,height:a,x:o,y:l}}function q3(e,t){const r=sn(e),n=xs(e),i=r.visualViewport;let a=n.clientWidth,o=n.clientHeight,l=0,c=0;if(i){a=i.width,o=i.height;const d=nv();(!d||d&&t==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}return{width:a,height:o,x:l,y:c}}function G3(e,t){const r=Da(e,!0,t==="fixed"),n=r.top+e.clientTop,i=r.left+e.clientLeft,a=hs(e)?To(e):cs(1),o=e.clientWidth*a.x,l=e.clientHeight*a.y,c=i*a.x,d=n*a.y;return{width:o,height:l,x:c,y:d}}function _b(e,t,r){let n;if(t==="viewport")n=q3(e,r);else if(t==="document")n=Y3(xs(e));else if(Wn(t))n=G3(t,r);else{const i=AC(e);n={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return Lf(n)}function OC(e,t){const r=Fi(e);return r===t||!Wn(r)||el(r)?!1:Un(r).position==="fixed"||OC(r,t)}function Q3(e,t){const r=t.get(e);if(r)return r;let n=Gc(e,[],!1).filter(l=>Wn(l)&&jl(l)!=="body"),i=null;const a=Un(e).position==="fixed";let o=a?Fi(e):e;for(;Wn(o)&&!el(o);){const l=Un(o),c=rv(o);!c&&l.position==="fixed"&&(i=null),(a?!c&&!i:!c&&l.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Od(o)&&!c&&OC(e,o))?n=n.filter(u=>u!==o):i=l,o=Fi(o)}return t.set(e,n),n}function Z3(e){let{element:t,boundary:r,rootBoundary:n,strategy:i}=e;const o=[...r==="clippingAncestors"?Lh(t)?[]:Q3(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((d,u)=>{const f=_b(t,u,i);return d.top=Zr(f.top,d.top),d.right=Ri(f.right,d.right),d.bottom=Ri(f.bottom,d.bottom),d.left=Zr(f.left,d.left),d},_b(t,l,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function X3(e){const{width:t,height:r}=MC(e);return{width:t,height:r}}function J3(e,t,r){const n=hs(t),i=xs(t),a=r==="fixed",o=Da(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const c=cs(0);if(n||!n&&!a)if((jl(t)!=="body"||Od(i))&&(l=Vh(t)),n){const h=Da(t,!0,a,t);c.x=h.x+t.clientLeft,c.y=h.y+t.clientTop}else i&&(c.x=iv(i));const d=i&&!n&&!a?RC(i,l):cs(0),u=o.left+l.scrollLeft-c.x-d.x,f=o.top+l.scrollTop-c.y-d.y;return{x:u,y:f,width:o.width,height:o.height}}function cp(e){return Un(e).position==="static"}function Db(e,t){if(!hs(e)||Un(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return xs(e)===r&&(r=r.ownerDocument.body),r}function FC(e,t){const r=sn(e);if(Lh(e))return r;if(!hs(e)){let i=Fi(e);for(;i&&!el(i);){if(Wn(i)&&!cp(i))return i;i=Fi(i)}return r}let n=Db(e,t);for(;n&&z3(n)&&cp(n);)n=Db(n,t);return n&&el(n)&&cp(n)&&!rv(n)?r:n||B3(e)||r}const eF=async function(e){const t=this.getOffsetParent||FC,r=this.getDimensions,n=await r(e.floating);return{reference:J3(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function tF(e){return Un(e).direction==="rtl"}const rF={convertOffsetParentRelativeRectToViewportRelativeRect:H3,getDocumentElement:xs,getClippingRect:Z3,getOffsetParent:FC,getElementRects:eF,getClientRects:K3,getDimensions:X3,getScale:To,isElement:Wn,isRTL:tF};function IC(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function nF(e,t){let r=null,n;const i=xs(e);function a(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const d=e.getBoundingClientRect(),{left:u,top:f,width:h,height:p}=d;if(l||t(),!h||!p)return;const v=ju(f),g=ju(i.clientWidth-(u+h)),b=ju(i.clientHeight-(f+p)),x=ju(u),w={rootMargin:-v+"px "+-g+"px "+-b+"px "+-x+"px",threshold:Zr(0,Ri(1,c))||1};let j=!0;function N(P){const S=P[0].intersectionRatio;if(S!==c){if(!j)return o();S?o(!1,S):n=setTimeout(()=>{o(!1,1e-7)},1e3)}S===1&&!IC(d,e.getBoundingClientRect())&&o(),j=!1}try{r=new IntersectionObserver(N,{...w,root:i.ownerDocument})}catch{r=new IntersectionObserver(N,w)}r.observe(e)}return o(!0),a}function sF(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,d=sv(e),u=i||a?[...d?Gc(d):[],...Gc(t)]:[];u.forEach(x=>{i&&x.addEventListener("scroll",r,{passive:!0}),a&&x.addEventListener("resize",r)});const f=d&&l?nF(d,r):null;let h=-1,p=null;o&&(p=new ResizeObserver(x=>{let[y]=x;y&&y.target===d&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=p)==null||w.observe(t)})),r()}),d&&!c&&p.observe(d),p.observe(t));let v,g=c?Da(e):null;c&&b();function b(){const x=Da(e);g&&!IC(g,x)&&r(),g=x,v=requestAnimationFrame(b)}return r(),()=>{var x;u.forEach(y=>{i&&y.removeEventListener("scroll",r),a&&y.removeEventListener("resize",r)}),f==null||f(),(x=p)==null||x.disconnect(),p=null,c&&cancelAnimationFrame(v)}}const iF=I3,aF=L3,oF=R3,lF=$3,cF=O3,Mb=A3,dF=V3,uF=(e,t,r)=>{const n=new Map,i={platform:rF,...r},a={...i.platform,_c:n};return M3(e,t,{...i,platform:a})};var Qu=typeof document<"u"?m.useLayoutEffect:m.useEffect;function Vf(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Vf(e[n],t[n]))return!1;return!0}if(i=Object.keys(e),r=i.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,i[n]))return!1;for(n=r;n--!==0;){const a=i[n];if(!(a==="_owner"&&e.$$typeof)&&!Vf(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function LC(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Ab(e,t){const r=LC(e);return Math.round(t*r)/r}function dp(e){const t=m.useRef(e);return Qu(()=>{t.current=e}),t}function fF(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:a,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[u,f]=m.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,p]=m.useState(n);Vf(h,n)||p(n);const[v,g]=m.useState(null),[b,x]=m.useState(null),y=m.useCallback(C=>{C!==P.current&&(P.current=C,g(C))},[]),w=m.useCallback(C=>{C!==S.current&&(S.current=C,x(C))},[]),j=a||v,N=o||b,P=m.useRef(null),S=m.useRef(null),E=m.useRef(u),R=c!=null,A=dp(c),W=dp(i),V=dp(d),O=m.useCallback(()=>{if(!P.current||!S.current)return;const C={placement:t,strategy:r,middleware:h};W.current&&(C.platform=W.current),uF(P.current,S.current,C).then(T=>{const $={...T,isPositioned:V.current!==!1};B.current&&!Vf(E.current,$)&&(E.current=$,Ki.flushSync(()=>{f($)}))})},[h,t,r,W,V]);Qu(()=>{d===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,f(C=>({...C,isPositioned:!1})))},[d]);const B=m.useRef(!1);Qu(()=>(B.current=!0,()=>{B.current=!1}),[]),Qu(()=>{if(j&&(P.current=j),N&&(S.current=N),j&&N){if(A.current)return A.current(j,N,O);O()}},[j,N,O,A,R]);const Y=m.useMemo(()=>({reference:P,floating:S,setReference:y,setFloating:w}),[y,w]),H=m.useMemo(()=>({reference:j,floating:N}),[j,N]),_=m.useMemo(()=>{const C={position:r,left:0,top:0};if(!H.floating)return C;const T=Ab(H.floating,u.x),$=Ab(H.floating,u.y);return l?{...C,transform:"translate("+T+"px, "+$+"px)",...LC(H.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:T,top:$}},[r,l,H.floating,u.x,u.y]);return m.useMemo(()=>({...u,update:O,refs:Y,elements:H,floatingStyles:_}),[u,O,Y,H,_])}const hF=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:i}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?Mb({element:n.current,padding:i}).fn(r):{}:n?Mb({element:n,padding:i}).fn(r):{}}}},mF=(e,t)=>({...iF(e),options:[e,t]}),pF=(e,t)=>({...aF(e),options:[e,t]}),gF=(e,t)=>({...dF(e),options:[e,t]}),xF=(e,t)=>({...oF(e),options:[e,t]}),yF=(e,t)=>({...lF(e),options:[e,t]}),vF=(e,t)=>({...cF(e),options:[e,t]}),wF=(e,t)=>({...hF(e),options:[e,t]});var bF="Arrow",VC=m.forwardRef((e,t)=>{const{children:r,width:n=10,height:i=5,...a}=e;return s.jsx(ge.svg,{...a,ref:t,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});VC.displayName=bF;var jF=VC;function $h(e){const[t,r]=m.useState(void 0);return or(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let o,l;if("borderBoxSize"in a){const c=a.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var av="Popper",[$C,Yi]=yr(av),[NF,zC]=$C(av),BC=e=>{const{__scopePopper:t,children:r}=e,[n,i]=m.useState(null);return s.jsx(NF,{scope:t,anchor:n,onAnchorChange:i,children:r})};BC.displayName=av;var WC="PopperAnchor",UC=m.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...i}=e,a=zC(WC,r),o=m.useRef(null),l=De(t,o);return m.useEffect(()=>{a.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:s.jsx(ge.div,{...i,ref:l})});UC.displayName=WC;var ov="PopperContent",[kF,SF]=$C(ov),HC=m.forwardRef((e,t)=>{var te,K,ce,ve,xe,Se;const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:a="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:v,...g}=e,b=zC(ov,r),[x,y]=m.useState(null),w=De(t,I=>y(I)),[j,N]=m.useState(null),P=$h(j),S=(P==null?void 0:P.width)??0,E=(P==null?void 0:P.height)??0,R=n+(a!=="center"?"-"+a:""),A=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},W=Array.isArray(d)?d:[d],V=W.length>0,O={padding:A,boundary:W.filter(PF),altBoundary:V},{refs:B,floatingStyles:Y,placement:H,isPositioned:_,middlewareData:C}=fF({strategy:"fixed",placement:R,whileElementsMounted:(...I)=>sF(...I,{animationFrame:p==="always"}),elements:{reference:b.anchor},middleware:[mF({mainAxis:i+E,alignmentAxis:o}),c&&pF({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?gF():void 0,...O}),c&&xF({...O}),yF({...O,apply:({elements:I,rects:ae,availableWidth:pe,availableHeight:z})=>{const{width:q,height:Fe}=ae.reference,Ve=I.floating.style;Ve.setProperty("--radix-popper-available-width",`${pe}px`),Ve.setProperty("--radix-popper-available-height",`${z}px`),Ve.setProperty("--radix-popper-anchor-width",`${q}px`),Ve.setProperty("--radix-popper-anchor-height",`${Fe}px`)}}),j&&wF({element:j,padding:l}),TF({arrowWidth:S,arrowHeight:E}),h&&vF({strategy:"referenceHidden",...O})]}),[T,$]=qC(H),U=Tt(v);or(()=>{_&&(U==null||U())},[_,U]);const fe=(te=C.arrow)==null?void 0:te.x,Te=(K=C.arrow)==null?void 0:K.y,$e=((ce=C.arrow)==null?void 0:ce.centerOffset)!==0,[pt,ze]=m.useState();return or(()=>{x&&ze(window.getComputedStyle(x).zIndex)},[x]),s.jsx("div",{ref:B.setFloating,"data-radix-popper-content-wrapper":"",style:{...Y,transform:_?Y.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:pt,"--radix-popper-transform-origin":[(ve=C.transformOrigin)==null?void 0:ve.x,(xe=C.transformOrigin)==null?void 0:xe.y].join(" "),...((Se=C.hide)==null?void 0:Se.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(kF,{scope:r,placedSide:T,onArrowChange:N,arrowX:fe,arrowY:Te,shouldHideArrow:$e,children:s.jsx(ge.div,{"data-side":T,"data-align":$,...g,ref:w,style:{...g.style,animation:_?void 0:"none"}})})})});HC.displayName=ov;var KC="PopperArrow",CF={top:"bottom",right:"left",bottom:"top",left:"right"},YC=m.forwardRef(function(t,r){const{__scopePopper:n,...i}=t,a=SF(KC,n),o=CF[a.placedSide];return s.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:s.jsx(jF,{...i,ref:r,style:{...i.style,display:"block"}})})});YC.displayName=KC;function PF(e){return e!==null}var TF=e=>({name:"transformOrigin",options:e,fn(t){var b,x,y;const{placement:r,rects:n,middlewareData:i}=t,o=((b=i.arrow)==null?void 0:b.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[d,u]=qC(r),f={start:"0%",center:"50%",end:"100%"}[u],h=(((x=i.arrow)==null?void 0:x.x)??0)+l/2,p=(((y=i.arrow)==null?void 0:y.y)??0)+c/2;let v="",g="";return d==="bottom"?(v=o?f:`${h}px`,g=`${-c}px`):d==="top"?(v=o?f:`${h}px`,g=`${n.floating.height+c}px`):d==="right"?(v=`${-c}px`,g=o?f:`${p}px`):d==="left"&&(v=`${n.floating.width+c}px`,g=o?f:`${p}px`),{data:{x:v,y:g}}}});function qC(e){const[t,r="center"]=e.split("-");return[t,r]}var zh=BC,Fd=UC,Bh=HC,Wh=YC,[Uh,CY]=yr("Tooltip",[Yi]),Hh=Yi(),GC="TooltipProvider",EF=700,ix="tooltip.open",[_F,lv]=Uh(GC),QC=e=>{const{__scopeTooltip:t,delayDuration:r=EF,skipDelayDuration:n=300,disableHoverableContent:i=!1,children:a}=e,o=m.useRef(!0),l=m.useRef(!1),c=m.useRef(0);return m.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),s.jsx(_F,{scope:t,isOpenDelayedRef:o,delayDuration:r,onOpen:m.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:m.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:m.useCallback(d=>{l.current=d},[]),disableHoverableContent:i,children:a})};QC.displayName=GC;var Kh="Tooltip",[DF,Yh]=Uh(Kh),ZC=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:i=!1,onOpenChange:a,disableHoverableContent:o,delayDuration:l}=e,c=lv(Kh,e.__scopeTooltip),d=Hh(t),[u,f]=m.useState(null),h=bn(),p=m.useRef(0),v=o??c.disableHoverableContent,g=l??c.delayDuration,b=m.useRef(!1),[x=!1,y]=Sn({prop:n,defaultProp:i,onChange:S=>{S?(c.onOpen(),document.dispatchEvent(new CustomEvent(ix))):c.onClose(),a==null||a(S)}}),w=m.useMemo(()=>x?b.current?"delayed-open":"instant-open":"closed",[x]),j=m.useCallback(()=>{window.clearTimeout(p.current),p.current=0,b.current=!1,y(!0)},[y]),N=m.useCallback(()=>{window.clearTimeout(p.current),p.current=0,y(!1)},[y]),P=m.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{b.current=!0,y(!0),p.current=0},g)},[g,y]);return m.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),s.jsx(zh,{...d,children:s.jsx(DF,{scope:t,contentId:h,open:x,stateAttribute:w,trigger:u,onTriggerChange:f,onTriggerEnter:m.useCallback(()=>{c.isOpenDelayedRef.current?P():j()},[c.isOpenDelayedRef,P,j]),onTriggerLeave:m.useCallback(()=>{v?N():(window.clearTimeout(p.current),p.current=0)},[N,v]),onOpen:j,onClose:N,disableHoverableContent:v,children:r})})};ZC.displayName=Kh;var ax="TooltipTrigger",XC=m.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,i=Yh(ax,r),a=lv(ax,r),o=Hh(r),l=m.useRef(null),c=De(t,l,i.onTriggerChange),d=m.useRef(!1),u=m.useRef(!1),f=m.useCallback(()=>d.current=!1,[]);return m.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),s.jsx(Fd,{asChild:!0,...o,children:s.jsx(ge.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...n,ref:c,onPointerMove:Q(e.onPointerMove,h=>{h.pointerType!=="touch"&&!u.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),u.current=!0)}),onPointerLeave:Q(e.onPointerLeave,()=>{i.onTriggerLeave(),u.current=!1}),onPointerDown:Q(e.onPointerDown,()=>{i.open&&i.onClose(),d.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Q(e.onFocus,()=>{d.current||i.onOpen()}),onBlur:Q(e.onBlur,i.onClose),onClick:Q(e.onClick,i.onClose)})})});XC.displayName=ax;var MF="TooltipPortal",[PY,AF]=Uh(MF,{forceMount:void 0}),tl="TooltipContent",JC=m.forwardRef((e,t)=>{const r=AF(tl,e.__scopeTooltip),{forceMount:n=r.forceMount,side:i="top",...a}=e,o=Yh(tl,e.__scopeTooltip);return s.jsx(er,{present:n||o.open,children:o.disableHoverableContent?s.jsx(e2,{side:i,...a,ref:t}):s.jsx(RF,{side:i,...a,ref:t})})}),RF=m.forwardRef((e,t)=>{const r=Yh(tl,e.__scopeTooltip),n=lv(tl,e.__scopeTooltip),i=m.useRef(null),a=De(t,i),[o,l]=m.useState(null),{trigger:c,onClose:d}=r,u=i.current,{onPointerInTransitChange:f}=n,h=m.useCallback(()=>{l(null),f(!1)},[f]),p=m.useCallback((v,g)=>{const b=v.currentTarget,x={x:v.clientX,y:v.clientY},y=VF(x,b.getBoundingClientRect()),w=$F(x,y),j=zF(g.getBoundingClientRect()),N=WF([...w,...j]);l(N),f(!0)},[f]);return m.useEffect(()=>()=>h(),[h]),m.useEffect(()=>{if(c&&u){const v=b=>p(b,u),g=b=>p(b,c);return c.addEventListener("pointerleave",v),u.addEventListener("pointerleave",g),()=>{c.removeEventListener("pointerleave",v),u.removeEventListener("pointerleave",g)}}},[c,u,p,h]),m.useEffect(()=>{if(o){const v=g=>{const b=g.target,x={x:g.clientX,y:g.clientY},y=(c==null?void 0:c.contains(b))||(u==null?void 0:u.contains(b)),w=!BF(x,o);y?h():w&&(h(),d())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[c,u,o,d,h]),s.jsx(e2,{...e,ref:a})}),[OF,FF]=Uh(Kh,{isInside:!1}),IF=TS("TooltipContent"),e2=m.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:o,...l}=e,c=Yh(tl,r),d=Hh(r),{onClose:u}=c;return m.useEffect(()=>(document.addEventListener(ix,u),()=>document.removeEventListener(ix,u)),[u]),m.useEffect(()=>{if(c.trigger){const f=h=>{const p=h.target;p!=null&&p.contains(c.trigger)&&u()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,u]),s.jsx(za,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:u,children:s.jsxs(Bh,{"data-state":c.stateAttribute,...d,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(IF,{children:n}),s.jsx(OF,{scope:r,isInside:!0,children:s.jsx(F5,{id:c.contentId,role:"tooltip",children:i||n})})]})})});JC.displayName=tl;var t2="TooltipArrow",LF=m.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,i=Hh(r);return FF(t2,r).isInside?null:s.jsx(Wh,{...i,...n,ref:t})});LF.displayName=t2;function VF(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(r,n,i,a)){case a:return"left";case i:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function $F(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function zF(e){const{top:t,right:r,bottom:n,left:i}=e;return[{x:i,y:t},{x:r,y:t},{x:r,y:n},{x:i,y:n}]}function BF(e,t){const{x:r,y:n}=e;let i=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const l=t[a].x,c=t[a].y,d=t[o].x,u=t[o].y;c>n!=u>n&&r<(d-l)*(n-c)/(u-c)+l&&(i=!i)}return i}function WF(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),UF(t)}function UF(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const i=e[n];for(;t.length>=2;){const a=t[t.length-1],o=t[t.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))t.pop();else break}t.push(i)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const i=e[n];for(;r.length>=2;){const a=r[r.length-1],o=r[r.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))r.pop();else break}r.push(i)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var HF=QC,KF=ZC,YF=XC,r2=JC;const Re=HF,Ie=KF,Le=YF,Oe=m.forwardRef(({className:e,sideOffset:t=4,...r},n)=>s.jsx(r2,{ref:n,sideOffset:t,className:re("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...r}));Oe.displayName=r2.displayName;async function n2(e){if(!e.ok){const t=await e.text()||e.statusText;throw new Error(`${e.status}: ${t}`)}}async function je(e,t,r){const n=await fetch(t,{method:e,headers:r?{"Content-Type":"application/json"}:{},body:r?JSON.stringify(r):void 0,credentials:"include"});return await n2(n),n}const s2=({on401:e})=>async({queryKey:t})=>{const r=await fetch(t[0],{credentials:"include"});return e==="returnNull"&&r.status===401?null:(await n2(r),await r.json())},et=new YR({defaultOptions:{queries:{queryFn:s2({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),Nl=m.createContext({currentUser:null,isLoading:!0,isDarkMode:!1,notifications:[],setCurrentUser:()=>{},login:async()=>({id:0}),register:async()=>({id:0}),logout:()=>{},toggleDarkMode:()=>{},addNotification:()=>{},markNotificationAsRead:()=>{},deleteNotification:()=>{},clearNotifications:()=>{}}),qF=({children:e})=>{const[t,r]=m.useState(null),[n,i]=m.useState(!0),[a,o]=m.useState(!1),[l,c]=m.useState([]),{toast:d}=vt();m.useEffect(()=>{const w=localStorage.getItem("darkMode");if(w){const j=JSON.parse(w);o(j),j?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")}},[]),m.useEffect(()=>{(async()=>{try{const j=await fetch("/api/auth/user");if(j.ok){const N=await j.json();console.log("Current user from server:",N),r(N),localStorage.setItem("user",JSON.stringify(N)),u(N.id)}else{const N=localStorage.getItem("user");if(N)try{const P=JSON.parse(N),S=await fetch("/api/auth/user");if(S.ok){const E=await S.json();r(E),u(E.id)}else localStorage.removeItem("user")}catch{localStorage.removeItem("user")}}}catch(j){console.error("Error fetching current user:",j)}finally{i(!1)}})()},[]);const u=w=>{const j=setInterval(()=>{t&&et.invalidateQueries({queryKey:["/api/trips"]})},3e4);return()=>clearInterval(j)},f=async(w,j)=>{try{console.log(`Attempting to login with username: ${w}`);const N=await je("POST","/api/auth/login",{username:w,password:j});if(!N.ok){const S=await N.json();throw new Error(S.message||"Login failed")}const P=await N.json();return console.log("Login successful:",P),r(P),localStorage.setItem("user",JSON.stringify(P)),u(P.id),d({title:"Login successful",description:`Welcome back, ${P.displayName}!`}),P}catch(N){throw console.error("Login error details:",N),d({title:"Login failed",description:N instanceof Error?N.message:"Invalid username or password",variant:"destructive"}),N}},h=async w=>{try{console.log("Attempting to register:",w.username);const j=await je("POST","/api/auth/register",w);if(!j.ok){const P=await j.json();throw new Error(P.message||"Registration failed")}const N=await j.json();return console.log("Registration successful:",N),r(N),localStorage.setItem("user",JSON.stringify(N)),u(N.id),d({title:"Registration successful",description:`Welcome, ${N.displayName}!`}),N}catch(j){throw console.error("Registration error details:",j),d({title:"Registration failed",description:j instanceof Error?j.message:"Unable to create account",variant:"destructive"}),j}},p=async()=>{try{await je("POST","/api/auth/logout"),r(null),localStorage.removeItem("user"),d({title:"Logged out",description:"You have been logged out successfully"})}catch(w){console.error("Logout error:",w),r(null),localStorage.removeItem("user"),d({title:"Logged out",description:"You have been logged out locally"})}},v=()=>{o(w=>{const j=!w;return localStorage.setItem("darkMode",JSON.stringify(j)),j?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),j})},g=w=>{const j={...w,id:`notification-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,timestamp:new Date,read:!1};c(N=>[j,...N.slice(0,19)]),d({title:w.title,description:w.message,variant:w.type==="error"?"destructive":"default"})},b=w=>{c(j=>j.map(N=>N.id===w?{...N,read:!0}:N))},x=w=>{c(j=>j.filter(N=>N.id!==w))},y=()=>{c([])};return s.jsx(Nl.Provider,{value:{currentUser:t,isLoading:n,isDarkMode:a,notifications:l,setCurrentUser:r,login:f,register:h,logout:p,toggleDarkMode:v,addNotification:g,markNotificationAsRead:b,deleteNotification:x,clearNotifications:y},children:e})},jc=[{id:"ocean",name:"Ocean Blue",light:{name:"Ocean Blue Light",id:"ocean-light",colors:{primary:"#0EA5E9",secondary:"#0891B2",accent:"#06B6D4",background:"#F0FDFF",surface:"#FFFFFF",text:"#0F172A",textSecondary:"#334155",border:"#E0F2FE",error:"#EF4444",success:"#10B981",warning:"#F59E0B"}},dark:{name:"Ocean Blue Dark",id:"ocean-dark",colors:{primary:"#38BDF8",secondary:"#22D3EE",accent:"#67E8F9",background:"#0F172A",surface:"#1E293B",text:"#F1F5F9",textSecondary:"#CBD5E1",border:"#334155",error:"#F87171",success:"#34D399",warning:"#FBBF24"}}},{id:"forest",name:"Forest Green",light:{name:"Forest Green Light",id:"forest-light",colors:{primary:"#059669",secondary:"#047857",accent:"#10B981",background:"#F0FDF4",surface:"#FFFFFF",text:"#064E3B",textSecondary:"#065F46",border:"#DCFCE7",error:"#EF4444",success:"#10B981",warning:"#F59E0B"}},dark:{name:"Forest Green Dark",id:"forest-dark",colors:{primary:"#34D399",secondary:"#6EE7B7",accent:"#A7F3D0",background:"#064E3B",surface:"#065F46",text:"#F0FDF4",textSecondary:"#D1FAE5",border:"#14532D",error:"#F87171",success:"#34D399",warning:"#FBBF24"}}},{id:"royal",name:"Royal Purple",light:{name:"Royal Purple Light",id:"royal-light",colors:{primary:"#7C3AED",secondary:"#6D28D9",accent:"#8B5CF6",background:"#F5F3FF",surface:"#FFFFFF",text:"#4C1D95",textSecondary:"#5B21B6",border:"#EDE9FE",error:"#EF4444",success:"#10B981",warning:"#F59E0B"}},dark:{name:"Royal Purple Dark",id:"royal-dark",colors:{primary:"#A78BFA",secondary:"#C4B5FD",accent:"#DDD6FE",background:"#2E1065",surface:"#4C1D95",text:"#F5F3FF",textSecondary:"#E0E7FF",border:"#7C3AED",error:"#F87171",success:"#34D399",warning:"#FBBF24"}}},{id:"monochrome",name:"Monochrome",light:{name:"Monochrome Light",id:"monochrome-light",colors:{primary:"#525252",secondary:"#404040",accent:"#737373",background:"#FAFAFA",surface:"#F5F5F5",text:"#171717",textSecondary:"#525252",border:"#D4D4D4",error:"#DC2626",success:"#16A34A",warning:"#CA8A04"}},dark:{name:"Monochrome Dark",id:"monochrome-dark",colors:{primary:"#A3A3A3",secondary:"#737373",accent:"#525252",background:"#0A0A0A",surface:"#171717",text:"#FAFAFA",textSecondary:"#D4D4D4",border:"#404040",error:"#EF4444",success:"#22C55E",warning:"#EAB308"}}}],i2={mode:"light",presetId:"ocean"},GF={config:i2,currentTheme:jc[0].light,setMode:()=>null,setPreset:()=>null,setTheme:()=>null,presets:jc},a2=m.createContext(GF);function gt(e){const t=parseInt(e.slice(1,3),16)/255,r=parseInt(e.slice(3,5),16)/255,n=parseInt(e.slice(5,7),16)/255,i=Math.max(t,r,n),a=Math.min(t,r,n);let o,l,c=(i+a)/2;if(i===a)o=l=0;else{const d=i-a;switch(l=c>.5?d/(2-i-a):d/(i+a),i){case t:o=(r-n)/d+(r<n?6:0);break;case r:o=(n-t)/d+2;break;case n:o=(t-r)/d+4;break;default:o=0}o/=6}return`${Math.round(o*360)} ${Math.round(l*100)}% ${Math.round(c*100)}%`}function QF(e){return e.id.includes("dark")?"#FFFFFF":"#000000"}function ZF(e){const t=document.documentElement,r=QF(e),n=e.id.includes("dark"),i=n?"#FFFFFF":e.colors.text;t.style.setProperty("--background",gt(e.colors.background)),t.style.setProperty("--foreground",gt(i)),t.style.setProperty("--card",gt(e.colors.surface)),t.style.setProperty("--card-foreground",gt(i)),t.style.setProperty("--popover",gt(e.colors.surface)),t.style.setProperty("--popover-foreground",gt(i)),t.style.setProperty("--primary",gt(e.colors.primary)),t.style.setProperty("--primary-foreground",gt(r)),t.style.setProperty("--secondary",gt(e.colors.secondary)),t.style.setProperty("--secondary-foreground",gt(r)),t.style.setProperty("--muted",gt(e.colors.surface)),t.style.setProperty("--muted-foreground",gt(n?"#D1D5DB":e.colors.textSecondary)),t.style.setProperty("--accent",gt(e.colors.accent)),t.style.setProperty("--accent-foreground",gt(r)),t.style.setProperty("--destructive",gt(e.colors.error)),t.style.setProperty("--destructive-foreground",gt(r)),t.style.setProperty("--border",gt(e.colors.border)),t.style.setProperty("--input",gt(e.colors.border)),t.style.setProperty("--ring",gt(e.colors.primary)),t.style.setProperty("--sidebar-background",gt(e.colors.surface)),t.style.setProperty("--sidebar-foreground",gt(i)),t.style.setProperty("--sidebar-primary",gt(e.colors.primary)),t.style.setProperty("--sidebar-primary-foreground",gt(r)),t.style.setProperty("--sidebar-accent",gt(e.colors.accent)),t.style.setProperty("--sidebar-accent-foreground",gt(i)),t.style.setProperty("--sidebar-border",gt(e.colors.border)),t.style.setProperty("--sidebar-ring",gt(e.colors.primary))}function XF({children:e,defaultTheme:t=i2,storageKey:r="vite-ui-theme",...n}){const[i,a]=m.useState(()=>{const h=localStorage.getItem(r);if(h)try{return JSON.parse(h)}catch{return t}return t}),o=h=>{const p=jc.find(g=>g.id===h.presetId)||jc[0];let v=h.mode;return h.mode==="system"&&(v=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),v==="dark"?p.dark:p.light},[l,c]=m.useState(()=>o(i));m.useEffect(()=>{const h=o(i);c(h),ZF(h),localStorage.setItem(r,JSON.stringify(i))},[i,r]);const f={config:i,currentTheme:l,setMode:h=>{a(p=>({...p,mode:h}))},setPreset:h=>{a(p=>({...p,presetId:h}))},setTheme:a,presets:jc};return s.jsx(a2.Provider,{...n,value:f,children:e})}const o2=()=>{const e=m.useContext(a2);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e},cv=()=>{const[e,t]=m.useState(navigator.onLine);return m.useEffect(()=>{const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r),window.addEventListener("offline",n),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}},[]),{isOnline:e,isOffline:!e}},l2=()=>{const{isOffline:e}=cv(),[t,r]=m.useState(null);return m.useEffect(()=>{if(e){const a=localStorage.getItem("tripmate_offline_user");if(a)try{r(JSON.parse(a))}catch(o){console.log("Error parsing cached user data:",o)}}else r(null)},[e]),{offlineUser:t,isOfflineMode:e&&!!t,cacheUserForOffline:a=>{const o={...a,lastSync:Date.now()};localStorage.setItem("tripmate_offline_user",JSON.stringify(o))},clearOfflineUser:()=>{localStorage.removeItem("tripmate_offline_user"),r(null)}}},c2=m.createContext(null);function JF({children:e}){const{toast:t}=vt(),{isOffline:r}=cv(),{offlineUser:n,isOfflineMode:i,cacheUserForOffline:a}=l2(),{data:o,error:l,isLoading:c}=kt({queryKey:["/api/auth/user"],queryFn:s2({on401:"returnNull"}),enabled:!r}),d=i?n:o;m.useEffect(()=>{o&&!r&&a(o)},[o,r,a]);const u=Ae({mutationFn:async p=>await(await je("POST","/api/auth/login",p)).json(),onSuccess:p=>{et.setQueryData(["/api/auth/user"],p),a(p),t({title:"Login successful",description:`Welcome back, ${p.displayName}!`})},onError:p=>{t({title:"Login failed",description:p.message,variant:"destructive"})}}),f=Ae({mutationFn:async p=>await(await je("POST","/api/auth/register",p)).json(),onSuccess:p=>{et.setQueryData(["/api/auth/user"],p),a(p),t({title:"Registration successful",description:`Welcome to TripMate, ${p.displayName}!`})},onError:p=>{t({title:"Registration failed",description:p.message,variant:"destructive"})}}),h=Ae({mutationFn:async()=>{await je("POST","/api/auth/logout")},onSuccess:()=>{et.setQueryData(["/api/auth/user"],null),t({title:"Logged out",description:"You have been successfully logged out."})},onError:p=>{t({title:"Logout failed",description:p.message,variant:"destructive"})}});return s.jsx(c2.Provider,{value:{user:d??null,isLoading:i?!1:c,error:i?null:l,loginMutation:u,logoutMutation:h,registerMutation:f},children:e})}function vr(){const e=m.useContext(c2);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e}class eI{constructor(){this.socket=null,this.reconnectAttempts=0,this.maxReconnectAttempts=10,this.reconnectTimeout=null,this.pingInterval=null,this.eventHandlers=new Map,this.reconnectHandler=null,this.errorCount=0,this.maxErrorsBeforeReconnect=3,this.connectionToastShown=!1,this.activeConnections=0,this.isInitialized=!1,this._status="disconnected"}get connected(){return this._status==="connected"}get status(){return this._status}connect(t=!1){if(this.socket&&this.socket.readyState===WebSocket.OPEN&&!t)return console.log("WebSocket already connected"),Promise.resolve();if(this._status==="connecting"&&this.socket&&this.socket.readyState===WebSocket.CONNECTING&&!t)return console.log("WebSocket already connecting, waiting for it to complete"),new Promise((r,n)=>{const i=setInterval(()=>{this._status==="connected"?(clearInterval(i),r()):(this._status==="error"||this._status==="disconnected")&&(clearInterval(i),n(new Error("Connection failed during wait")))},100);setTimeout(()=>{clearInterval(i),n(new Error("Timed out waiting for connection"))},1e4)});if(this.socket){const r=this.socket.readyState;if(r!==WebSocket.CLOSING&&r!==WebSocket.CLOSED)try{this.socket.close(1e3,"Normal closure")}catch(n){console.error("Error closing existing socket:",n)}this.socket.onopen=null,this.socket.onclose=null,this.socket.onerror=null,this.socket.onmessage=null,this.socket=null}return new Promise((r,n)=>{try{this._status="connecting";const a=`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}/api/ws`;console.log(`Attempting to connect to WebSocket at ${a}`),this.socket=new WebSocket(a);const o=setTimeout(()=>{var l;console.log("WebSocket connection timed out"),((l=this.socket)==null?void 0:l.readyState)!==WebSocket.OPEN&&(this._status="error",n(new Error("WebSocket connection timed out")),this.attemptReconnect())},1e4);this.socket.onopen=()=>{clearTimeout(o),console.log("WebSocket connected successfully"),this._status="connected",this.reconnectAttempts=0,this.errorCount=0,this.startPingInterval(),this.connectionToastShown&&(ni({title:"Connection Restored",description:"You are now connected to the server.",variant:"default"}),this.connectionToastShown=!1),r()},this.socket.onmessage=l=>{try{const c=JSON.parse(l.data);this.handleEvent(c)}catch(c){console.error("Error parsing WebSocket message:",c),this.errorCount++,this.errorCount>=this.maxErrorsBeforeReconnect&&(console.log(`Reached max error count (${this.errorCount}), reconnecting...`),this.reconnect())}},this.socket.onerror=l=>{clearTimeout(o),console.error("WebSocket error:",l),this._status="error",n(l)},this.socket.onclose=l=>{clearTimeout(o);const c=l.code===1e3&&l.reason==="Normal closure";console.log(`WebSocket disconnected with code ${l.code}, reason: ${l.reason}, clean: ${c}`),this.stopPingInterval(),c||(this._status="disconnected",this.activeConnections>0&&this.attemptReconnect())}}catch(i){console.error("Error setting up WebSocket connection:",i),this._status="error",n(i),this.attemptReconnect()}})}startPingInterval(){this.stopPingInterval(),this.pingInterval=setInterval(()=>{if(this.socket&&this.socket.readyState===WebSocket.OPEN)try{this.send("connected",{ping:Date.now()})}catch(t){console.error("Error sending ping:",t),this._status!=="reconnecting"&&this.reconnect()}else this._status!=="reconnecting"&&this._status!=="connecting"&&(console.warn("Cannot send ping: WebSocket not open"),this.reconnect())},25e3)}stopPingInterval(){this.pingInterval&&(clearInterval(this.pingInterval),this.pingInterval=null)}reconnect(){if(console.log("Forcing WebSocket reconnection"),this._status="reconnecting",this.socket){try{this.socket.close()}catch(t){console.error("Error closing socket during reconnect:",t)}this.socket=null}this.connect(!0).catch(t=>{console.error("Reconnection failed:",t),this.attemptReconnect()})}attemptReconnect(){if(this.reconnectAttempts>=this.maxReconnectAttempts){console.log("Max reconnection attempts reached"),this._status="error",this.connectionToastShown||(ni({title:"Connection Error",description:"Not connected to server. Your changes may not be synchronized.",variant:"destructive"}),this.connectionToastShown=!0),setTimeout(()=>{this.reconnectAttempts=0,this.connect(!0).catch(r=>console.error("Final reconnection attempt failed:",r))},3e4);return}this.reconnectAttempts++,this._status="reconnecting";const t=Math.min(1e3*Math.pow(1.5,this.reconnectAttempts),1e4);console.log(`Attempting to reconnect in ${t}ms (attempt ${this.reconnectAttempts}/${this.maxReconnectAttempts})`),this.reconnectTimeout&&clearTimeout(this.reconnectTimeout),this.reconnectTimeout=setTimeout(()=>{this.connect(!0).catch(r=>{console.error("Reconnection attempt failed:",r)})},t),this.reconnectHandler&&this.reconnectHandler()}onReconnecting(t){this.reconnectHandler=t}registerConnection(){if(this.activeConnections++,console.log(`WebSocket: Component registered (total: ${this.activeConnections})`),this.socket&&this.socket.readyState===WebSocket.OPEN){console.log("WebSocket: Connection already active, no need to reconnect");return}if(this._status==="connecting"){console.log("WebSocket: Already connecting, skipping duplicate connection attempt");return}if(this._status==="reconnecting"){console.log("WebSocket: Already reconnecting, skipping duplicate connection attempt");return}(!this.isInitialized||this._status==="disconnected"||this._status==="error")&&(this.isInitialized=!0,console.log("WebSocket: Initializing connection"),this.connect())}deregisterConnection(){this.activeConnections=Math.max(0,this.activeConnections-1),console.log(`WebSocket: Component deregistered (total: ${this.activeConnections})`),this.activeConnections===0&&this.disconnect(!0)}disconnect(t=!1){if(!t&&this.activeConnections>0){console.log(`WebSocket: Not disconnecting, ${this.activeConnections} connections still active`);return}if(console.log("WebSocket: Disconnecting with clean close"),this._status="disconnected",this.reconnectTimeout&&(clearTimeout(this.reconnectTimeout),this.reconnectTimeout=null),this.stopPingInterval(),this.socket){if(this.socket.readyState===WebSocket.OPEN||this.socket.readyState===WebSocket.CONNECTING)try{this.socket.close(1e3,"Normal closure")}catch(r){console.error("Error during disconnect:",r)}this.socket.onopen=null,this.socket.onclose=null,this.socket.onerror=null,this.socket.onmessage=null,this.socket=null}this.reconnectAttempts=0,this.errorCount=0}send(t,r){if(!this.socket||this.socket.readyState!==WebSocket.OPEN)return console.warn("WebSocket not connected, attempting to connect"),this._status==="error"&&!this.connectionToastShown&&(ni({title:"Connection Error",description:"Not connected to server. Your changes may not be synchronized.",variant:"destructive"}),this.connectionToastShown=!0),this.connect().then(()=>{this.send(t,r)}).catch(i=>{console.error("Failed to connect before sending message:",i)}),!1;const n={type:t,payload:r,timestamp:new Date().toISOString()};try{return this.socket.send(JSON.stringify(n)),!0}catch(i){return console.error("Error sending WebSocket message:",i),t!=="connected"&&ni({title:"Error",description:"Failed to send message. Please try again.",variant:"destructive"}),this.reconnect(),!1}}on(t,r){this.eventHandlers.has(t)||this.eventHandlers.set(t,[]),this.eventHandlers.get(t).push(r)}off(t,r){if(!this.eventHandlers.has(t))return;const n=this.eventHandlers.get(t),i=n.indexOf(r);i!==-1&&n.splice(i,1)}handleEvent(t){const{type:r}=t;if(r!=="connected"&&console.log(`Received WebSocket event: ${r}`),r==="error"&&(ni({title:"Server Error",description:t.payload.message||"An error occurred on the server",variant:"destructive"}),console.error("WebSocket error:",t.payload.message)),!this.eventHandlers.has(r))return;const n=this.eventHandlers.get(r);for(const i of n)try{i(t)}catch(a){console.error(`Error in WebSocket event handler for type ${r}:`,a),ni({title:"Error Processing Message",description:"There was an error processing the latest update. Please refresh the page.",variant:"destructive"})}}}const Je=new eI,tI=e=>{const{type:t,title:r,message:n}=e;let i=" ";t==="chat_message"?i=" ":t.includes("grocery")?t==="grocery_add"?i=" ":t==="grocery_update"?i=n.includes("marked complete")?" ":" ":t==="grocery_delete"&&(i=" "):t.includes("expense")?i=" ":t.includes("packing")?t==="packing_add"?i=" ":t==="packing_update"?i=n.includes("marked complete")?" ":" ":t==="packing_delete"&&(i=" "):t==="trip_update"?i=" ":t==="member_joined"&&(i=" "),ni({title:r,description:`${i}${n}`,className:"notification-toast bg-white dark:bg-slate-800 border-blue-500"})},d2=m.createContext({notifications:[],clearNotifications:()=>{},deleteNotification:()=>{},markAsRead:()=>{}}),rI=({children:e})=>{const[t,r]=m.useState([]),{user:n}=vr(),i=()=>{r([])},a=l=>{r(c=>c.filter(d=>d.id!==l))},o=l=>{r(c=>c.map(d=>d.id===l?{...d,read:!0}:d))};return m.useEffect(()=>{if(!(n!=null&&n.id))return;Je.registerConnection(),Je.send("auth",{userId:n.id});const l=c=>{if(console.log("WebSocket notification received:",c),!c||!c.payload){console.error("Invalid notification data received:",c);return}const d=c.payload;console.log("Parsed notification:",d);const u={...d,id:`notification-${Date.now()}-${Math.random().toString(36).substring(2,9)}`,read:!1};console.log("Adding notification to state:",u),r(f=>(console.log("Previous notifications:",f),[...f,u])),tI(u)};return console.log("Registering for WebSocket notifications"),Je.on("notification",l),()=>{Je.off("notification",l),Je.deregisterConnection()}},[n==null?void 0:n.id]),s.jsx(d2.Provider,{value:{notifications:t,clearNotifications:i,deleteNotification:a,markAsRead:o},children:e})},qh=()=>{const e=m.useContext(d2);if(!e)throw new Error("useNotifications must be used within a NotificationProvider");return e};function Qs({path:e,component:t}){const{user:r,isLoading:n}=vr();return s.jsx(ec,{path:e,children:()=>n?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx(Pr,{className:"h-8 w-8 animate-spin text-primary"})}):r?s.jsx(t,{}):s.jsx(MR,{to:"/auth"})})}const Ce=m.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:re("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Ce.displayName="Card";const Ot=m.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:re("flex flex-col space-y-1.5 p-6",e),...t}));Ot.displayName="CardHeader";const Ft=m.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:re("text-2xl font-semibold leading-none tracking-tight",e),...t}));Ft.displayName="CardTitle";const Kr=m.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:re("text-sm text-muted-foreground",e),...t}));Kr.displayName="CardDescription";const Me=m.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:re("p-6 pt-0",e),...t}));Me.displayName="CardContent";const Hn=m.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:re("flex items-center p-6 pt-0",e),...t}));Hn.displayName="CardFooter";const nI=Ad("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",warning:"border-transparent bg-amber-500 text-white hover:bg-amber-600"}},defaultVariants:{variant:"default"}});function He({className:e,variant:t,...r}){return s.jsx("div",{className:re(nI({variant:t}),e),...r})}const Zu=({trip:e,isPast:t=!1})=>{const[r,n]=Qt(),i=()=>{n(`/trips/${e.id}`)},a=u=>{switch(u){case"beach":return"from-blue-500 to-cyan-500 dark:from-blue-400 dark:to-cyan-400";case"camping":return"from-emerald-500 to-green-600 dark:from-emerald-400 dark:to-green-500";case"city":return"from-violet-500 to-purple-600 dark:from-violet-400 dark:to-purple-500";case"road":return"from-red-700 to-red-900 dark:from-red-600 dark:to-red-800";default:return"from-primary to-primary-600 dark:from-primary-400 dark:to-primary-500"}},o=u=>{switch(u){case"beach":return"ri-sailboat-line";case"camping":return"ri-mountain-line";case"city":return"ri-building-line";case"road":return"ri-road-map-line";default:return"ri-map-pin-line"}},l=u=>{if(u.target.closest(".invite-code-section")){u.stopPropagation();return}i()},c=jC(e.startDate,e.endDate),d=t?"border-amber-300 dark:border-amber-400":"border-primary/30 dark:border-primary-400/50";return s.jsxs(Ce,{className:`rounded-xl overflow-hidden hover:shadow-md transition cursor-pointer ${d} 
        ${t?"hover:opacity-95":""} dark:bg-slate-800`,onClick:l,tabIndex:0,onKeyDown:u=>{(u.key==="Enter"||u.key===" ")&&(u.preventDefault(),i())},"aria-label":`${e.name} trip to ${e.location||"unspecified location"}${t?", past trip":""}`,role:"button",children:[s.jsxs("div",{className:`h-36 bg-gradient-to-r ${t?"from-amber-500 to-amber-600 dark:from-amber-400 dark:to-amber-500":a(e.tripType)} relative`,children:[s.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-white",children:s.jsx("i",{className:`${t?"ri-time-line":o(e.tripType)} text-5xl opacity-50`})}),t&&s.jsx("div",{className:"absolute top-0 left-0 p-3",children:s.jsxs(He,{variant:"secondary",className:"bg-amber-100 text-amber-800 dark:bg-amber-300/90 dark:text-amber-900 border border-amber-200 dark:border-amber-400/50 shadow-sm font-medium gap-1.5 px-2.5 py-1",children:[s.jsx("i",{className:"ri-time-line"}),s.jsx("span",{children:"PAST TRIP"})]})}),!t&&s.jsx("div",{className:"absolute top-0 left-0 p-3",children:s.jsxs(He,{variant:"secondary",className:"bg-green-100 text-green-800 dark:bg-green-300/90 dark:text-green-900 border border-green-200 dark:border-green-400/50 shadow-sm font-medium gap-1.5 px-2.5 py-1",children:[s.jsx("i",{className:"ri-checkbox-circle-line"}),s.jsx("span",{children:"ACTIVE"})]})}),s.jsx("div",{className:"absolute bottom-0 left-0 p-3",children:s.jsxs(He,{variant:"secondary",className:"bg-white/95 dark:bg-black/80 text-gray-800 dark:text-white shadow-lg gap-1.5 px-3 py-1.5 border border-gray-200 dark:border-white/20",children:[s.jsx(Yt,{className:"h-3.5 w-3.5 text-gray-600 dark:text-white"}),s.jsx("span",{className:"font-medium",children:c||"No dates set"})]})}),e.inviteCode&&s.jsx("div",{className:"absolute top-0 right-0 p-3",children:s.jsxs(He,{variant:"secondary",className:"bg-white/95 dark:bg-black/80 text-gray-800 dark:text-white border border-gray-200 dark:border-white/20 invite-code-section h-7 gap-1.5 px-3 py-1 font-medium shadow-lg",children:[s.jsx(Rf,{className:"h-3.5 w-3.5"}),s.jsx("span",{children:e.inviteCode})]})})]}),s.jsxs("div",{className:"p-4",children:[s.jsx("h3",{className:"font-semibold text-xl mb-1 text-foreground dark:text-white",children:e.name}),s.jsxs("p",{className:"text-foreground/80 dark:text-white/90 text-sm mb-3 flex items-center gap-1.5",children:[s.jsx(As,{className:"h-3.5 w-3.5 text-primary-600 dark:text-primary-400"}),s.jsx("span",{children:e.location||"No location set"})]}),s.jsxs("div",{className:"flex items-center justify-between mt-3",children:[s.jsxs("div",{className:"flex -space-x-2","aria-label":"Trip members",children:[s.jsx("div",{className:"w-8 h-8 rounded-full border-2 border-card dark:border-slate-700 bg-primary/20 dark:bg-primary-400/30 flex items-center justify-center text-xs font-medium text-primary-700 dark:text-primary-300",children:"TU"}),s.jsx("div",{className:"w-8 h-8 rounded-full border-2 border-card dark:border-slate-700 bg-secondary/20 dark:bg-secondary-400/30 flex items-center justify-center text-xs font-medium text-secondary-700 dark:text-secondary-300",children:"+1"})]}),s.jsxs("div",{className:"flex items-center gap-1.5 text-sm font-semibold px-3 py-1.5 rounded-full bg-indigo-600 hover:bg-indigo-700 dark:bg-indigo-500 dark:hover:bg-indigo-600 transition-colors shadow-md text-white font-semibold border border-indigo-400 dark:border-indigo-600",children:[s.jsx("span",{children:"View Trip"}),s.jsx(Qy,{className:"h-4 w-4"})]})]})]})]})},sI=({onNewTrip:e})=>{const[t,r]=Qt(),{toast:n}=vt(),i=()=>{r("/join-trip")},a=()=>{r("/past-trips")},o=()=>{n({title:"Coming Soon",description:"Trip templates will be available in the next update."})};return s.jsxs("section",{className:"mb-10","aria-labelledby":"quick-actions-heading",children:[s.jsx("h2",{id:"quick-actions-heading",className:"text-xl font-bold mb-5",children:"Quick Actions"}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsx(Re,{children:s.jsxs(Ie,{children:[s.jsx(Le,{asChild:!0,children:s.jsxs("button",{className:`bg-card dark:bg-slate-800 p-5 rounded-xl shadow-sm border border-gray-200 dark:border-slate-600 flex flex-col items-center justify-center
                  hover:bg-primary/5 hover:border-primary-400/30 dark:hover:border-primary-400/50 transition
                  focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 focus:ring-offset-background`,onClick:e,"aria-label":"Create a new trip",children:[s.jsx("div",{className:"w-14 h-14 bg-primary/15 dark:bg-primary-400/20 rounded-full flex items-center justify-center text-primary-600 dark:text-primary-400 mb-3 shadow-sm",children:s.jsx(Vr,{className:"h-6 w-6"})}),s.jsx("span",{className:"text-sm font-semibold text-foreground dark:text-white",children:"New Trip"})]})}),s.jsx(Oe,{children:s.jsx("p",{children:"Create a new trip from scratch"})})]})}),s.jsx(Re,{children:s.jsxs(Ie,{children:[s.jsx(Le,{asChild:!0,children:s.jsxs("button",{className:`bg-card dark:bg-slate-800 p-5 rounded-xl shadow-sm border border-gray-200 dark:border-slate-600 flex flex-col items-center justify-center
                  hover:bg-secondary/5 hover:border-secondary-400/30 dark:hover:border-secondary-400/50 transition
                  focus:outline-none focus:ring-2 focus:ring-secondary focus:ring-offset-2 focus:ring-offset-background`,onClick:i,"aria-label":"Join an existing trip with an invite code",children:[s.jsx("div",{className:"w-14 h-14 bg-secondary/15 dark:bg-secondary-400/20 rounded-full flex items-center justify-center text-secondary-600 dark:text-secondary-400 mb-3 shadow-sm",children:s.jsx(vO,{className:"h-6 w-6"})}),s.jsx("span",{className:"text-sm font-semibold text-foreground dark:text-white",children:"Join Trip"})]})}),s.jsx(Oe,{children:s.jsx("p",{children:"Join an existing trip with an invite code"})})]})}),s.jsx(Re,{children:s.jsxs(Ie,{children:[s.jsx(Le,{asChild:!0,children:s.jsxs("button",{className:`bg-card dark:bg-slate-800 p-5 rounded-xl shadow-sm border border-gray-200 dark:border-slate-600 flex flex-col items-center justify-center
                  hover:bg-purple-500/5 hover:border-purple-400/30 dark:hover:border-purple-400/50 transition
                  focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 focus:ring-offset-background`,onClick:a,"aria-label":"View past trips",children:[s.jsx("div",{className:"w-14 h-14 bg-purple-500/15 dark:bg-purple-400/20 rounded-full flex items-center justify-center text-purple-700 dark:text-purple-400 mb-3 shadow-sm",children:s.jsx(Ai,{className:"h-6 w-6"})}),s.jsx("span",{className:"text-sm font-semibold text-foreground dark:text-white",children:"Past Trips"})]})}),s.jsx(Oe,{children:s.jsx("p",{children:"View your past trips history"})})]})}),s.jsx(Re,{children:s.jsxs(Ie,{children:[s.jsx(Le,{asChild:!0,children:s.jsxs("button",{className:`bg-card dark:bg-slate-800 p-5 rounded-xl shadow-sm border border-gray-200 dark:border-slate-600 flex flex-col items-center justify-center
                  hover:bg-amber-500/5 hover:border-amber-400/30 dark:hover:border-amber-400/50 transition
                  focus:outline-none focus:ring-2 focus:ring-amber-500 focus:ring-offset-2 focus:ring-offset-background`,onClick:o,"aria-label":"Trip templates (coming soon)",children:[s.jsx("div",{className:"w-14 h-14 bg-amber-500/15 dark:bg-amber-400/20 rounded-full flex items-center justify-center text-amber-700 dark:text-amber-400 mb-3 shadow-sm",children:s.jsx(Zy,{className:"h-6 w-6"})}),s.jsx("span",{className:"text-sm font-semibold text-foreground dark:text-white",children:"Templates"}),s.jsx("span",{className:"absolute top-2 right-2 text-xs px-1.5 py-0.5 bg-amber-100 text-amber-800 dark:bg-amber-500 dark:text-white rounded-full font-medium shadow-sm",children:"Soon"})]})}),s.jsx(Oe,{children:s.jsx("p",{children:"Create trips from templates (coming soon)"})})]})})]})]})},Qc=Ad("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),F=m.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...i},a)=>{const o=n?CS:"button";return s.jsx(o,{className:re(Qc({variant:t,size:r,className:e})),ref:a,...i})});F.displayName="Button";var iI=m.createContext(void 0);function kl(e){const t=m.useContext(iI);return e||t||"ltr"}var up=0;function Gh(){m.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Rb()),document.body.insertAdjacentElement("beforeend",e[1]??Rb()),up++,()=>{up===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),up--}},[])}function Rb(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var fp="focusScope.autoFocusOnMount",hp="focusScope.autoFocusOnUnmount",Ob={bubbles:!1,cancelable:!0},aI="FocusScope",Id=m.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...o}=e,[l,c]=m.useState(null),d=Tt(i),u=Tt(a),f=m.useRef(null),h=De(t,g=>c(g)),p=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(n){let g=function(w){if(p.paused||!l)return;const j=w.target;l.contains(j)?f.current=j:Js(f.current,{select:!0})},b=function(w){if(p.paused||!l)return;const j=w.relatedTarget;j!==null&&(l.contains(j)||Js(f.current,{select:!0}))},x=function(w){if(document.activeElement===document.body)for(const N of w)N.removedNodes.length>0&&Js(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",b);const y=new MutationObserver(x);return l&&y.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",b),y.disconnect()}}},[n,l,p.paused]),m.useEffect(()=>{if(l){Ib.add(p);const g=document.activeElement;if(!l.contains(g)){const x=new CustomEvent(fp,Ob);l.addEventListener(fp,d),l.dispatchEvent(x),x.defaultPrevented||(oI(fI(u2(l)),{select:!0}),document.activeElement===g&&Js(l))}return()=>{l.removeEventListener(fp,d),setTimeout(()=>{const x=new CustomEvent(hp,Ob);l.addEventListener(hp,u),l.dispatchEvent(x),x.defaultPrevented||Js(g??document.body,{select:!0}),l.removeEventListener(hp,u),Ib.remove(p)},0)}}},[l,d,u,p]);const v=m.useCallback(g=>{if(!r&&!n||p.paused)return;const b=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,x=document.activeElement;if(b&&x){const y=g.currentTarget,[w,j]=lI(y);w&&j?!g.shiftKey&&x===j?(g.preventDefault(),r&&Js(w,{select:!0})):g.shiftKey&&x===w&&(g.preventDefault(),r&&Js(j,{select:!0})):x===y&&g.preventDefault()}},[r,n,p.paused]);return s.jsx(ge.div,{tabIndex:-1,...o,ref:h,onKeyDown:v})});Id.displayName=aI;function oI(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Js(n,{select:t}),document.activeElement!==r)return}function lI(e){const t=u2(e),r=Fb(t,e),n=Fb(t.reverse(),e);return[r,n]}function u2(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Fb(e,t){for(const r of e)if(!cI(r,{upTo:t}))return r}function cI(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function dI(e){return e instanceof HTMLInputElement&&"select"in e}function Js(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&dI(e)&&t&&e.select()}}var Ib=uI();function uI(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=Lb(e,t),e.unshift(t)},remove(t){var r;e=Lb(e,t),(r=e[0])==null||r.resume()}}}function Lb(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function fI(e){return e.filter(t=>t.tagName!=="A")}var mp="rovingFocusGroup.onEntryFocus",hI={bubbles:!1,cancelable:!0},Qh="RovingFocusGroup",[ox,f2,mI]=Dd(Qh),[pI,Zh]=yr(Qh,[mI]),[gI,xI]=pI(Qh),h2=m.forwardRef((e,t)=>s.jsx(ox.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(ox.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(yI,{...e,ref:t})})}));h2.displayName=Qh;var yI=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:i=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:u=!1,...f}=e,h=m.useRef(null),p=De(t,h),v=kl(a),[g=null,b]=Sn({prop:o,defaultProp:l,onChange:c}),[x,y]=m.useState(!1),w=Tt(d),j=f2(r),N=m.useRef(!1),[P,S]=m.useState(0);return m.useEffect(()=>{const E=h.current;if(E)return E.addEventListener(mp,w),()=>E.removeEventListener(mp,w)},[w]),s.jsx(gI,{scope:r,orientation:n,dir:v,loop:i,currentTabStopId:g,onItemFocus:m.useCallback(E=>b(E),[b]),onItemShiftTab:m.useCallback(()=>y(!0),[]),onFocusableItemAdd:m.useCallback(()=>S(E=>E+1),[]),onFocusableItemRemove:m.useCallback(()=>S(E=>E-1),[]),children:s.jsx(ge.div,{tabIndex:x||P===0?-1:0,"data-orientation":n,...f,ref:p,style:{outline:"none",...e.style},onMouseDown:Q(e.onMouseDown,()=>{N.current=!0}),onFocus:Q(e.onFocus,E=>{const R=!N.current;if(E.target===E.currentTarget&&R&&!x){const A=new CustomEvent(mp,hI);if(E.currentTarget.dispatchEvent(A),!A.defaultPrevented){const W=j().filter(H=>H.focusable),V=W.find(H=>H.active),O=W.find(H=>H.id===g),Y=[V,O,...W].filter(Boolean).map(H=>H.ref.current);g2(Y,u)}}N.current=!1}),onBlur:Q(e.onBlur,()=>y(!1))})})}),m2="RovingFocusGroupItem",p2=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:i=!1,tabStopId:a,...o}=e,l=bn(),c=a||l,d=xI(m2,r),u=d.currentTabStopId===c,f=f2(r),{onFocusableItemAdd:h,onFocusableItemRemove:p}=d;return m.useEffect(()=>{if(n)return h(),()=>p()},[n,h,p]),s.jsx(ox.ItemSlot,{scope:r,id:c,focusable:n,active:i,children:s.jsx(ge.span,{tabIndex:u?0:-1,"data-orientation":d.orientation,...o,ref:t,onMouseDown:Q(e.onMouseDown,v=>{n?d.onItemFocus(c):v.preventDefault()}),onFocus:Q(e.onFocus,()=>d.onItemFocus(c)),onKeyDown:Q(e.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){d.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const g=bI(v,d.orientation,d.dir);if(g!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let x=f().filter(y=>y.focusable).map(y=>y.ref.current);if(g==="last")x.reverse();else if(g==="prev"||g==="next"){g==="prev"&&x.reverse();const y=x.indexOf(v.currentTarget);x=d.loop?jI(x,y+1):x.slice(y+1)}setTimeout(()=>g2(x))}})})})});p2.displayName=m2;var vI={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function wI(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function bI(e,t,r){const n=wI(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return vI[n]}function g2(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function jI(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var x2=h2,y2=p2,NI=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Ka=new WeakMap,Nu=new WeakMap,ku={},pp=0,v2=function(e){return e&&(e.host||v2(e.parentNode))},kI=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=v2(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},SI=function(e,t,r,n){var i=kI(t,Array.isArray(e)?e:[e]);ku[r]||(ku[r]=new WeakMap);var a=ku[r],o=[],l=new Set,c=new Set(i),d=function(f){!f||l.has(f)||(l.add(f),d(f.parentNode))};i.forEach(d);var u=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))u(h);else try{var p=h.getAttribute(n),v=p!==null&&p!=="false",g=(Ka.get(h)||0)+1,b=(a.get(h)||0)+1;Ka.set(h,g),a.set(h,b),o.push(h),g===1&&v&&Nu.set(h,!0),b===1&&h.setAttribute(r,"true"),v||h.setAttribute(n,"true")}catch(x){console.error("aria-hidden: cannot operate on ",h,x)}})};return u(t),l.clear(),pp++,function(){o.forEach(function(f){var h=Ka.get(f)-1,p=a.get(f)-1;Ka.set(f,h),a.set(f,p),h||(Nu.has(f)||f.removeAttribute(n),Nu.delete(f)),p||f.removeAttribute(r)}),pp--,pp||(Ka=new WeakMap,Ka=new WeakMap,Nu=new WeakMap,ku={})}},Xh=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),i=NI(e);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live]"))),SI(n,i,r,"aria-hidden")):function(){return null}},ns=function(){return ns=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},ns.apply(this,arguments)};function w2(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function CI(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,a;n<i;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}var Xu="right-scroll-bar-position",Ju="width-before-scroll-bar",PI="with-scroll-bars-hidden",TI="--removed-body-scroll-bar-size";function gp(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function EI(e,t){var r=m.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=t,r.facade}var _I=typeof window<"u"?m.useLayoutEffect:m.useEffect,Vb=new WeakMap;function DI(e,t){var r=EI(null,function(n){return e.forEach(function(i){return gp(i,n)})});return _I(function(){var n=Vb.get(r);if(n){var i=new Set(n),a=new Set(e),o=r.current;i.forEach(function(l){a.has(l)||gp(l,null)}),a.forEach(function(l){i.has(l)||gp(l,o)})}Vb.set(r,e)},[e]),r}function MI(e){return e}function AI(e,t){t===void 0&&(t=MI);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(a){var o=t(a,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(a){for(n=!0;r.length;){var o=r;r=[],o.forEach(a)}r={push:function(l){return a(l)},filter:function(){return r}}},assignMedium:function(a){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(a),o=r}var c=function(){var u=o;o=[],u.forEach(a)},d=function(){return Promise.resolve().then(c)};d(),r={push:function(u){o.push(u),d()},filter:function(u){return o=o.filter(u),r}}}};return i}function RI(e){e===void 0&&(e={});var t=AI(null);return t.options=ns({async:!0,ssr:!1},e),t}var b2=function(e){var t=e.sideCar,r=w2(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return m.createElement(n,ns({},r))};b2.isSideCarExport=!0;function OI(e,t){return e.useMedium(t),b2}var j2=RI(),xp=function(){},Jh=m.forwardRef(function(e,t){var r=m.useRef(null),n=m.useState({onScrollCapture:xp,onWheelCapture:xp,onTouchMoveCapture:xp}),i=n[0],a=n[1],o=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,u=e.enabled,f=e.shards,h=e.sideCar,p=e.noIsolation,v=e.inert,g=e.allowPinchZoom,b=e.as,x=b===void 0?"div":b,y=e.gapMode,w=w2(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=h,N=DI([r,t]),P=ns(ns({},w),i);return m.createElement(m.Fragment,null,u&&m.createElement(j,{sideCar:j2,removeScrollBar:d,shards:f,noIsolation:p,inert:v,setCallbacks:a,allowPinchZoom:!!g,lockRef:r,gapMode:y}),o?m.cloneElement(m.Children.only(l),ns(ns({},P),{ref:N})):m.createElement(x,ns({},P,{className:c,ref:N}),l))});Jh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Jh.classNames={fullWidth:Ju,zeroRight:Xu};var FI=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function II(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=FI();return t&&e.setAttribute("nonce",t),e}function LI(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function VI(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var $I=function(){var e=0,t=null;return{add:function(r){e==0&&(t=II())&&(LI(t,r),VI(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},zI=function(){var e=$I();return function(t,r){m.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},N2=function(){var e=zI(),t=function(r){var n=r.styles,i=r.dynamic;return e(n,i),null};return t},BI={left:0,top:0,right:0,gap:0},yp=function(e){return parseInt(e||"",10)||0},WI=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[yp(r),yp(n),yp(i)]},UI=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return BI;var t=WI(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},HI=N2(),Eo="data-scroll-locked",KI=function(e,t,r,n){var i=e.left,a=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(PI,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Eo,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Xu,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Ju,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Xu," .").concat(Xu,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Ju," .").concat(Ju,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Eo,`] {
    `).concat(TI,": ").concat(l,`px;
  }
`)},$b=function(){var e=parseInt(document.body.getAttribute(Eo)||"0",10);return isFinite(e)?e:0},YI=function(){m.useEffect(function(){return document.body.setAttribute(Eo,($b()+1).toString()),function(){var e=$b()-1;e<=0?document.body.removeAttribute(Eo):document.body.setAttribute(Eo,e.toString())}},[])},qI=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,i=n===void 0?"margin":n;YI();var a=m.useMemo(function(){return UI(i)},[i]);return m.createElement(HI,{styles:KI(a,!t,i,r?"":"!important")})},lx=!1;if(typeof window<"u")try{var Su=Object.defineProperty({},"passive",{get:function(){return lx=!0,!0}});window.addEventListener("test",Su,Su),window.removeEventListener("test",Su,Su)}catch{lx=!1}var Ya=lx?{passive:!1}:!1,GI=function(e){return e.tagName==="TEXTAREA"},k2=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!GI(e)&&r[t]==="visible")},QI=function(e){return k2(e,"overflowY")},ZI=function(e){return k2(e,"overflowX")},zb=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=S2(e,n);if(i){var a=C2(e,n),o=a[1],l=a[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},XI=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},JI=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},S2=function(e,t){return e==="v"?QI(t):ZI(t)},C2=function(e,t){return e==="v"?XI(t):JI(t)},eL=function(e,t){return e==="h"&&t==="rtl"?-1:1},tL=function(e,t,r,n,i){var a=eL(e,window.getComputedStyle(t).direction),o=a*n,l=r.target,c=t.contains(l),d=!1,u=o>0,f=0,h=0;do{var p=C2(e,l),v=p[0],g=p[1],b=p[2],x=g-b-a*v;(v||x)&&S2(e,l)&&(f+=x,h+=v),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(u&&(Math.abs(f)<1||!i)||!u&&(Math.abs(h)<1||!i))&&(d=!0),d},Cu=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Bb=function(e){return[e.deltaX,e.deltaY]},Wb=function(e){return e&&"current"in e?e.current:e},rL=function(e,t){return e[0]===t[0]&&e[1]===t[1]},nL=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},sL=0,qa=[];function iL(e){var t=m.useRef([]),r=m.useRef([0,0]),n=m.useRef(),i=m.useState(sL++)[0],a=m.useState(N2)[0],o=m.useRef(e);m.useEffect(function(){o.current=e},[e]),m.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var g=CI([e.lockRef.current],(e.shards||[]).map(Wb),!0).filter(Boolean);return g.forEach(function(b){return b.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),g.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var l=m.useCallback(function(g,b){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var x=Cu(g),y=r.current,w="deltaX"in g?g.deltaX:y[0]-x[0],j="deltaY"in g?g.deltaY:y[1]-x[1],N,P=g.target,S=Math.abs(w)>Math.abs(j)?"h":"v";if("touches"in g&&S==="h"&&P.type==="range")return!1;var E=zb(S,P);if(!E)return!0;if(E?N=S:(N=S==="v"?"h":"v",E=zb(S,P)),!E)return!1;if(!n.current&&"changedTouches"in g&&(w||j)&&(n.current=N),!N)return!0;var R=n.current||N;return tL(R,b,g,R==="h"?w:j,!0)},[]),c=m.useCallback(function(g){var b=g;if(!(!qa.length||qa[qa.length-1]!==a)){var x="deltaY"in b?Bb(b):Cu(b),y=t.current.filter(function(N){return N.name===b.type&&(N.target===b.target||b.target===N.shadowParent)&&rL(N.delta,x)})[0];if(y&&y.should){b.cancelable&&b.preventDefault();return}if(!y){var w=(o.current.shards||[]).map(Wb).filter(Boolean).filter(function(N){return N.contains(b.target)}),j=w.length>0?l(b,w[0]):!o.current.noIsolation;j&&b.cancelable&&b.preventDefault()}}},[]),d=m.useCallback(function(g,b,x,y){var w={name:g,delta:b,target:x,should:y,shadowParent:aL(x)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(j){return j!==w})},1)},[]),u=m.useCallback(function(g){r.current=Cu(g),n.current=void 0},[]),f=m.useCallback(function(g){d(g.type,Bb(g),g.target,l(g,e.lockRef.current))},[]),h=m.useCallback(function(g){d(g.type,Cu(g),g.target,l(g,e.lockRef.current))},[]);m.useEffect(function(){return qa.push(a),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Ya),document.addEventListener("touchmove",c,Ya),document.addEventListener("touchstart",u,Ya),function(){qa=qa.filter(function(g){return g!==a}),document.removeEventListener("wheel",c,Ya),document.removeEventListener("touchmove",c,Ya),document.removeEventListener("touchstart",u,Ya)}},[]);var p=e.removeScrollBar,v=e.inert;return m.createElement(m.Fragment,null,v?m.createElement(a,{styles:nL(i)}):null,p?m.createElement(qI,{gapMode:e.gapMode}):null)}function aL(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const oL=OI(j2,iL);var Ld=m.forwardRef(function(e,t){return m.createElement(Jh,ns({},e,{ref:t,sideCar:oL}))});Ld.classNames=Jh.classNames;var cx=["Enter"," "],lL=["ArrowDown","PageUp","Home"],P2=["ArrowUp","PageDown","End"],cL=[...lL,...P2],dL={ltr:[...cx,"ArrowRight"],rtl:[...cx,"ArrowLeft"]},uL={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Vd="Menu",[Zc,fL,hL]=Dd(Vd),[Ba,T2]=yr(Vd,[hL,Yi,Zh]),em=Yi(),E2=Zh(),[mL,Wa]=Ba(Vd),[pL,$d]=Ba(Vd),_2=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:i,onOpenChange:a,modal:o=!0}=e,l=em(t),[c,d]=m.useState(null),u=m.useRef(!1),f=Tt(a),h=kl(i);return m.useEffect(()=>{const p=()=>{u.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>u.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),s.jsx(zh,{...l,children:s.jsx(mL,{scope:t,open:r,onOpenChange:f,content:c,onContentChange:d,children:s.jsx(pL,{scope:t,onClose:m.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:u,dir:h,modal:o,children:n})})})};_2.displayName=Vd;var gL="MenuAnchor",dv=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,i=em(r);return s.jsx(Fd,{...i,...n,ref:t})});dv.displayName=gL;var uv="MenuPortal",[xL,D2]=Ba(uv,{forceMount:void 0}),M2=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:i}=e,a=Wa(uv,t);return s.jsx(xL,{scope:t,forceMount:r,children:s.jsx(er,{present:r||a.open,children:s.jsx(vl,{asChild:!0,container:i,children:n})})})};M2.displayName=uv;var jn="MenuContent",[yL,fv]=Ba(jn),A2=m.forwardRef((e,t)=>{const r=D2(jn,e.__scopeMenu),{forceMount:n=r.forceMount,...i}=e,a=Wa(jn,e.__scopeMenu),o=$d(jn,e.__scopeMenu);return s.jsx(Zc.Provider,{scope:e.__scopeMenu,children:s.jsx(er,{present:n||a.open,children:s.jsx(Zc.Slot,{scope:e.__scopeMenu,children:o.modal?s.jsx(vL,{...i,ref:t}):s.jsx(wL,{...i,ref:t})})})})}),vL=m.forwardRef((e,t)=>{const r=Wa(jn,e.__scopeMenu),n=m.useRef(null),i=De(t,n);return m.useEffect(()=>{const a=n.current;if(a)return Xh(a)},[]),s.jsx(hv,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Q(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),wL=m.forwardRef((e,t)=>{const r=Wa(jn,e.__scopeMenu);return s.jsx(hv,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),bL=Mi("MenuContent.ScrollLock"),hv=m.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:f,onInteractOutside:h,onDismiss:p,disableOutsideScroll:v,...g}=e,b=Wa(jn,r),x=$d(jn,r),y=em(r),w=E2(r),j=fL(r),[N,P]=m.useState(null),S=m.useRef(null),E=De(t,S,b.onContentChange),R=m.useRef(0),A=m.useRef(""),W=m.useRef(0),V=m.useRef(null),O=m.useRef("right"),B=m.useRef(0),Y=v?Ld:m.Fragment,H=v?{as:bL,allowPinchZoom:!0}:void 0,_=T=>{var te,K;const $=A.current+T,U=j().filter(ce=>!ce.disabled),fe=document.activeElement,Te=(te=U.find(ce=>ce.ref.current===fe))==null?void 0:te.textValue,$e=U.map(ce=>ce.textValue),pt=AL($e,$,Te),ze=(K=U.find(ce=>ce.textValue===pt))==null?void 0:K.ref.current;(function ce(ve){A.current=ve,window.clearTimeout(R.current),ve!==""&&(R.current=window.setTimeout(()=>ce(""),1e3))})($),ze&&setTimeout(()=>ze.focus())};m.useEffect(()=>()=>window.clearTimeout(R.current),[]),Gh();const C=m.useCallback(T=>{var U,fe;return O.current===((U=V.current)==null?void 0:U.side)&&OL(T,(fe=V.current)==null?void 0:fe.area)},[]);return s.jsx(yL,{scope:r,searchRef:A,onItemEnter:m.useCallback(T=>{C(T)&&T.preventDefault()},[C]),onItemLeave:m.useCallback(T=>{var $;C(T)||(($=S.current)==null||$.focus(),P(null))},[C]),onTriggerLeave:m.useCallback(T=>{C(T)&&T.preventDefault()},[C]),pointerGraceTimerRef:W,onPointerGraceIntentChange:m.useCallback(T=>{V.current=T},[]),children:s.jsx(Y,{...H,children:s.jsx(Id,{asChild:!0,trapped:i,onMountAutoFocus:Q(a,T=>{var $;T.preventDefault(),($=S.current)==null||$.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:s.jsx(za,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:f,onInteractOutside:h,onDismiss:p,children:s.jsx(x2,{asChild:!0,...w,dir:x.dir,orientation:"vertical",loop:n,currentTabStopId:N,onCurrentTabStopIdChange:P,onEntryFocus:Q(c,T=>{x.isUsingKeyboardRef.current||T.preventDefault()}),preventScrollOnEntryFocus:!0,children:s.jsx(Bh,{role:"menu","aria-orientation":"vertical","data-state":G2(b.open),"data-radix-menu-content":"",dir:x.dir,...y,...g,ref:E,style:{outline:"none",...g.style},onKeyDown:Q(g.onKeyDown,T=>{const U=T.target.closest("[data-radix-menu-content]")===T.currentTarget,fe=T.ctrlKey||T.altKey||T.metaKey,Te=T.key.length===1;U&&(T.key==="Tab"&&T.preventDefault(),!fe&&Te&&_(T.key));const $e=S.current;if(T.target!==$e||!cL.includes(T.key))return;T.preventDefault();const ze=j().filter(te=>!te.disabled).map(te=>te.ref.current);P2.includes(T.key)&&ze.reverse(),DL(ze)}),onBlur:Q(e.onBlur,T=>{T.currentTarget.contains(T.target)||(window.clearTimeout(R.current),A.current="")}),onPointerMove:Q(e.onPointerMove,Xc(T=>{const $=T.target,U=B.current!==T.clientX;if(T.currentTarget.contains($)&&U){const fe=T.clientX>B.current?"right":"left";O.current=fe,B.current=T.clientX}}))})})})})})})});A2.displayName=jn;var jL="MenuGroup",mv=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(ge.div,{role:"group",...n,ref:t})});mv.displayName=jL;var NL="MenuLabel",R2=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(ge.div,{...n,ref:t})});R2.displayName=NL;var $f="MenuItem",Ub="menu.itemSelect",tm=m.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...i}=e,a=m.useRef(null),o=$d($f,e.__scopeMenu),l=fv($f,e.__scopeMenu),c=De(t,a),d=m.useRef(!1),u=()=>{const f=a.current;if(!r&&f){const h=new CustomEvent(Ub,{bubbles:!0,cancelable:!0});f.addEventListener(Ub,p=>n==null?void 0:n(p),{once:!0}),Ky(f,h),h.defaultPrevented?d.current=!1:o.onClose()}};return s.jsx(O2,{...i,ref:c,disabled:r,onClick:Q(e.onClick,u),onPointerDown:f=>{var h;(h=e.onPointerDown)==null||h.call(e,f),d.current=!0},onPointerUp:Q(e.onPointerUp,f=>{var h;d.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:Q(e.onKeyDown,f=>{const h=l.searchRef.current!=="";r||h&&f.key===" "||cx.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});tm.displayName=$f;var O2=m.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:i,...a}=e,o=fv($f,r),l=E2(r),c=m.useRef(null),d=De(t,c),[u,f]=m.useState(!1),[h,p]=m.useState("");return m.useEffect(()=>{const v=c.current;v&&p((v.textContent??"").trim())},[a.children]),s.jsx(Zc.ItemSlot,{scope:r,disabled:n,textValue:i??h,children:s.jsx(y2,{asChild:!0,...l,focusable:!n,children:s.jsx(ge.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...a,ref:d,onPointerMove:Q(e.onPointerMove,Xc(v=>{n?o.onItemLeave(v):(o.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Q(e.onPointerLeave,Xc(v=>o.onItemLeave(v))),onFocus:Q(e.onFocus,()=>f(!0)),onBlur:Q(e.onBlur,()=>f(!1))})})})}),kL="MenuCheckboxItem",F2=m.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...i}=e;return s.jsx(z2,{scope:e.__scopeMenu,checked:r,children:s.jsx(tm,{role:"menuitemcheckbox","aria-checked":zf(r)?"mixed":r,...i,ref:t,"data-state":gv(r),onSelect:Q(i.onSelect,()=>n==null?void 0:n(zf(r)?!0:!r),{checkForDefaultPrevented:!1})})})});F2.displayName=kL;var I2="MenuRadioGroup",[SL,CL]=Ba(I2,{value:void 0,onValueChange:()=>{}}),L2=m.forwardRef((e,t)=>{const{value:r,onValueChange:n,...i}=e,a=Tt(n);return s.jsx(SL,{scope:e.__scopeMenu,value:r,onValueChange:a,children:s.jsx(mv,{...i,ref:t})})});L2.displayName=I2;var V2="MenuRadioItem",$2=m.forwardRef((e,t)=>{const{value:r,...n}=e,i=CL(V2,e.__scopeMenu),a=r===i.value;return s.jsx(z2,{scope:e.__scopeMenu,checked:a,children:s.jsx(tm,{role:"menuitemradio","aria-checked":a,...n,ref:t,"data-state":gv(a),onSelect:Q(n.onSelect,()=>{var o;return(o=i.onValueChange)==null?void 0:o.call(i,r)},{checkForDefaultPrevented:!1})})})});$2.displayName=V2;var pv="MenuItemIndicator",[z2,PL]=Ba(pv,{checked:!1}),B2=m.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...i}=e,a=PL(pv,r);return s.jsx(er,{present:n||zf(a.checked)||a.checked===!0,children:s.jsx(ge.span,{...i,ref:t,"data-state":gv(a.checked)})})});B2.displayName=pv;var TL="MenuSeparator",W2=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(ge.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});W2.displayName=TL;var EL="MenuArrow",U2=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,i=em(r);return s.jsx(Wh,{...i,...n,ref:t})});U2.displayName=EL;var _L="MenuSub",[TY,H2]=Ba(_L),nc="MenuSubTrigger",K2=m.forwardRef((e,t)=>{const r=Wa(nc,e.__scopeMenu),n=$d(nc,e.__scopeMenu),i=H2(nc,e.__scopeMenu),a=fv(nc,e.__scopeMenu),o=m.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=a,d={__scopeMenu:e.__scopeMenu},u=m.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return m.useEffect(()=>u,[u]),m.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),s.jsx(dv,{asChild:!0,...d,children:s.jsx(O2,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":i.contentId,"data-state":G2(r.open),...e,ref:Ah(t,i.onTriggerChange),onClick:f=>{var h;(h=e.onClick)==null||h.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Q(e.onPointerMove,Xc(f=>{a.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(a.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),u()},100))})),onPointerLeave:Q(e.onPointerLeave,Xc(f=>{var p,v;u();const h=(p=r.content)==null?void 0:p.getBoundingClientRect();if(h){const g=(v=r.content)==null?void 0:v.dataset.side,b=g==="right",x=b?-5:5,y=h[b?"left":"right"],w=h[b?"right":"left"];a.onPointerGraceIntentChange({area:[{x:f.clientX+x,y:f.clientY},{x:y,y:h.top},{x:w,y:h.top},{x:w,y:h.bottom},{x:y,y:h.bottom}],side:g}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(f),f.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:Q(e.onKeyDown,f=>{var p;const h=a.searchRef.current!=="";e.disabled||h&&f.key===" "||dL[n.dir].includes(f.key)&&(r.onOpenChange(!0),(p=r.content)==null||p.focus(),f.preventDefault())})})})});K2.displayName=nc;var Y2="MenuSubContent",q2=m.forwardRef((e,t)=>{const r=D2(jn,e.__scopeMenu),{forceMount:n=r.forceMount,...i}=e,a=Wa(jn,e.__scopeMenu),o=$d(jn,e.__scopeMenu),l=H2(Y2,e.__scopeMenu),c=m.useRef(null),d=De(t,c);return s.jsx(Zc.Provider,{scope:e.__scopeMenu,children:s.jsx(er,{present:n||a.open,children:s.jsx(Zc.Slot,{scope:e.__scopeMenu,children:s.jsx(hv,{id:l.contentId,"aria-labelledby":l.triggerId,...i,ref:d,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var f;o.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:Q(e.onFocusOutside,u=>{u.target!==l.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:Q(e.onEscapeKeyDown,u=>{o.onClose(),u.preventDefault()}),onKeyDown:Q(e.onKeyDown,u=>{var p;const f=u.currentTarget.contains(u.target),h=uL[o.dir].includes(u.key);f&&h&&(a.onOpenChange(!1),(p=l.trigger)==null||p.focus(),u.preventDefault())})})})})})});q2.displayName=Y2;function G2(e){return e?"open":"closed"}function zf(e){return e==="indeterminate"}function gv(e){return zf(e)?"indeterminate":e?"checked":"unchecked"}function DL(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function ML(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function AL(e,t,r){const i=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let o=ML(e,Math.max(a,0));i.length===1&&(o=o.filter(d=>d!==r));const c=o.find(d=>d.toLowerCase().startsWith(i.toLowerCase()));return c!==r?c:void 0}function RL(e,t){const{x:r,y:n}=e;let i=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const l=t[a].x,c=t[a].y,d=t[o].x,u=t[o].y;c>n!=u>n&&r<(d-l)*(n-c)/(u-c)+l&&(i=!i)}return i}function OL(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return RL(r,t)}function Xc(e){return t=>t.pointerType==="mouse"?e(t):void 0}var FL=_2,IL=dv,LL=M2,VL=A2,$L=mv,zL=R2,BL=tm,WL=F2,UL=L2,HL=$2,KL=B2,YL=W2,qL=U2,GL=K2,QL=q2,xv="DropdownMenu",[ZL,EY]=yr(xv,[T2]),Rr=T2(),[XL,Q2]=ZL(xv),Z2=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:i,defaultOpen:a,onOpenChange:o,modal:l=!0}=e,c=Rr(t),d=m.useRef(null),[u=!1,f]=Sn({prop:i,defaultProp:a,onChange:o});return s.jsx(XL,{scope:t,triggerId:bn(),triggerRef:d,contentId:bn(),open:u,onOpenChange:f,onOpenToggle:m.useCallback(()=>f(h=>!h),[f]),modal:l,children:s.jsx(FL,{...c,open:u,onOpenChange:f,dir:n,modal:l,children:r})})};Z2.displayName=xv;var X2="DropdownMenuTrigger",J2=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...i}=e,a=Q2(X2,r),o=Rr(r);return s.jsx(IL,{asChild:!0,...o,children:s.jsx(ge.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...i,ref:Ah(t,a.triggerRef),onPointerDown:Q(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(a.onOpenToggle(),a.open||l.preventDefault())}),onKeyDown:Q(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&a.onOpenToggle(),l.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});J2.displayName=X2;var JL="DropdownMenuPortal",eP=e=>{const{__scopeDropdownMenu:t,...r}=e,n=Rr(t);return s.jsx(LL,{...n,...r})};eP.displayName=JL;var tP="DropdownMenuContent",rP=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Q2(tP,r),a=Rr(r),o=m.useRef(!1);return s.jsx(VL,{id:i.contentId,"aria-labelledby":i.triggerId,...a,...n,ref:t,onCloseAutoFocus:Q(e.onCloseAutoFocus,l=>{var c;o.current||(c=i.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:Q(e.onInteractOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,u=c.button===2||d;(!i.modal||u)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});rP.displayName=tP;var e6="DropdownMenuGroup",t6=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Rr(r);return s.jsx($L,{...i,...n,ref:t})});t6.displayName=e6;var r6="DropdownMenuLabel",nP=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Rr(r);return s.jsx(zL,{...i,...n,ref:t})});nP.displayName=r6;var n6="DropdownMenuItem",sP=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Rr(r);return s.jsx(BL,{...i,...n,ref:t})});sP.displayName=n6;var s6="DropdownMenuCheckboxItem",iP=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Rr(r);return s.jsx(WL,{...i,...n,ref:t})});iP.displayName=s6;var i6="DropdownMenuRadioGroup",a6=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Rr(r);return s.jsx(UL,{...i,...n,ref:t})});a6.displayName=i6;var o6="DropdownMenuRadioItem",aP=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Rr(r);return s.jsx(HL,{...i,...n,ref:t})});aP.displayName=o6;var l6="DropdownMenuItemIndicator",oP=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Rr(r);return s.jsx(KL,{...i,...n,ref:t})});oP.displayName=l6;var c6="DropdownMenuSeparator",lP=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Rr(r);return s.jsx(YL,{...i,...n,ref:t})});lP.displayName=c6;var d6="DropdownMenuArrow",u6=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Rr(r);return s.jsx(qL,{...i,...n,ref:t})});u6.displayName=d6;var f6="DropdownMenuSubTrigger",cP=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Rr(r);return s.jsx(GL,{...i,...n,ref:t})});cP.displayName=f6;var h6="DropdownMenuSubContent",dP=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Rr(r);return s.jsx(QL,{...i,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});dP.displayName=h6;var m6=Z2,p6=J2,g6=eP,uP=rP,fP=nP,hP=sP,mP=iP,pP=aP,gP=oP,xP=lP,yP=cP,vP=dP;const Jc=m6,ed=p6,x6=m.forwardRef(({className:e,inset:t,children:r,...n},i)=>s.jsxs(yP,{ref:i,className:re("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...n,children:[r,s.jsx(Qy,{className:"ml-auto"})]}));x6.displayName=yP.displayName;const y6=m.forwardRef(({className:e,...t},r)=>s.jsx(vP,{ref:r,className:re("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...t}));y6.displayName=vP.displayName;const rl=m.forwardRef(({className:e,sideOffset:t=4,...r},n)=>s.jsx(g6,{children:s.jsx(uP,{ref:n,sideOffset:t,className:re("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...r})}));rl.displayName=uP.displayName;const dt=m.forwardRef(({className:e,inset:t,...r},n)=>s.jsx(hP,{ref:n,className:re("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...r}));dt.displayName=hP.displayName;const v6=m.forwardRef(({className:e,children:t,checked:r,...n},i)=>s.jsxs(mP,{ref:i,className:re("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(gP,{children:s.jsx(Rd,{className:"h-4 w-4"})})}),t]}));v6.displayName=mP.displayName;const w6=m.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(pP,{ref:n,className:re("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(gP,{children:s.jsx(fO,{className:"h-2 w-2 fill-current"})})}),t]}));w6.displayName=pP.displayName;const b6=m.forwardRef(({className:e,inset:t,...r},n)=>s.jsx(fP,{ref:n,className:re("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));b6.displayName=fP.displayName;const j6=m.forwardRef(({className:e,...t},r)=>s.jsx(xP,{ref:r,className:re("-mx-1 my-1 h-px bg-muted",e),...t}));j6.displayName=xP.displayName;const N6=()=>{const[e,t]=Qt(),{user:r}=vr(),{toast:n}=vt(),[i,a]=m.useState(!1),[o,l]=m.useState(!1),c=fn(),d=()=>{a(!1)},{data:u,isLoading:f}=kt({queryKey:["/api/trips",r==null?void 0:r.id],enabled:!!(r!=null&&r.id),queryFn:async()=>{if(!(r!=null&&r.id))return[];const w=await fetch(`/api/trips?userId=${r.id}`);if(!w.ok)throw new Error("Failed to fetch trips");return w.json()}}),{data:h,isLoading:p}=kt({queryKey:["/api/trips/hidden",r==null?void 0:r.id],enabled:!!(r!=null&&r.id),queryFn:async()=>{if(!(r!=null&&r.id))return[];const w=await fetch("/api/trips/hidden");if(!w.ok)throw new Error("Failed to fetch hidden trips");return w.json()}}),v=Ae({mutationFn:async w=>(await je("POST",`/api/trips/${w}/unhide`)).json(),onSuccess:()=>{n({title:"Trip Unhidden",description:"The trip has been restored to your dashboard.",variant:"default"}),c.invalidateQueries({queryKey:["/api/trips",r==null?void 0:r.id]}),c.invalidateQueries({queryKey:["/api/trips/hidden",r==null?void 0:r.id]})},onError:w=>{n({title:"Error",description:"Failed to unhide trip. Please try again.",variant:"destructive"}),console.error("Error unhiding trip:",w)}}),g=()=>{t("/create-trip")},b=(h==null?void 0:h.map(w=>w.id))||[],x=(u==null?void 0:u.filter(w=>w.isPast?!1:o?!0:!b.includes(w.id)))||[],y=(u==null?void 0:u.filter(w=>w.isPast?o?!0:!b.includes(w.id):!1))||[];return m.useEffect(()=>{(!localStorage.getItem("hasSeenWelcome")||u&&u.length===0)&&(a(!0),localStorage.setItem("hasSeenWelcome","true"))},[u]),s.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 pb-20 md:pb-6",children:[s.jsxs("div",{className:"md:hidden mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Dashboard"}),s.jsxs("p",{className:"text-muted-foreground mt-1",children:["Welcome back, ",(r==null?void 0:r.displayName)||"Traveler"]})]}),s.jsxs("div",{className:"hidden md:flex items-center justify-between mb-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Your Trips"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Plan, organize, and enjoy your travels"})]}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx(Re,{children:s.jsxs(Ie,{children:[s.jsx(Le,{asChild:!0,children:s.jsxs(F,{onClick:()=>t("/join-trip"),variant:"outline",size:"lg",className:"inline-flex items-center gap-2","aria-label":"Join an existing trip using an invite code",children:[s.jsx("i",{className:"ri-link-m text-base"}),s.jsx("span",{children:"Join Trip"})]})}),s.jsx(Oe,{children:s.jsx("p",{children:"Join an existing trip using an invite code"})})]})}),s.jsx(Re,{children:s.jsxs(Ie,{children:[s.jsx(Le,{asChild:!0,children:s.jsxs(F,{onClick:g,size:"lg",className:"inline-flex items-center gap-2 bg-primary hover:bg-primary/90","aria-label":"Create a new trip",children:[s.jsx(Vr,{className:"h-5 w-5"}),s.jsx("span",{children:"New Trip"})]})}),s.jsx(Oe,{children:s.jsx("p",{children:"Create a new trip from scratch"})})]})})]})]}),i&&s.jsxs(Ce,{className:"mb-8 border-primary-300 dark:border-primary-400 bg-gradient-to-r from-primary/5 to-blue-50 dark:from-primary-900/20 dark:to-blue-900/20 shadow-md relative overflow-hidden animate-fadeIn",children:[s.jsx("div",{className:"absolute top-0 right-0 p-1.5",children:s.jsx(F,{variant:"ghost",size:"sm",className:"h-8 w-8 rounded-full p-0 hover:bg-primary-100 dark:hover:bg-primary-800/50 text-gray-700 dark:text-gray-200",onClick:d,"aria-label":"Dismiss welcome message",children:""})}),s.jsxs(Ot,{children:[s.jsx(Ft,{className:"text-xl md:text-2xl flex items-center gap-2",children:s.jsx("span",{className:"text-gradient font-bold dark:text-primary-300",children:"Welcome to TripMate!"})}),s.jsx(Kr,{className:"text-base md:text-lg text-gray-700 dark:text-gray-200",children:"Your all-in-one solution for stress-free group travel planning"})]}),s.jsxs(Me,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-2",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 dark:bg-primary-400/20 flex items-center justify-center text-primary-600 dark:text-primary-300 shrink-0 shadow-sm",children:s.jsx(lC,{className:"h-5 w-5"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:"Create a Trip"}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Start by creating your first trip or joining one"})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 dark:bg-primary-400/20 flex items-center justify-center text-primary-600 dark:text-primary-300 shrink-0 shadow-sm",children:s.jsx(Yt,{className:"h-5 w-5"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:"Plan Together"}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Manage grocery lists, expenses and packing items"})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 dark:bg-primary-400/20 flex items-center justify-center text-primary-600 dark:text-primary-300 shrink-0 shadow-sm",children:s.jsx("i",{className:"ri-group-line text-lg"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:"Travel Stress-Free"}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Enjoy your journey with everything organized"})]})]})]}),s.jsx("div",{className:"mt-6 border-t border-primary-100 dark:border-primary-800 pt-5 text-center",children:s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Use the buttons at the top of the page to create or join your first trip"})})]})]}),s.jsxs("section",{className:"mb-10","aria-labelledby":"active-trips-heading",children:[s.jsxs("div",{className:"flex items-center justify-between mb-5",children:[s.jsxs("h2",{id:"active-trips-heading",className:"text-xl font-bold flex items-center gap-2",children:[s.jsx(He,{variant:"default",className:"bg-green-600 hover:bg-green-500 text-white shadow-sm",children:"Active"}),s.jsx("span",{className:"text-foreground dark:text-white",children:"Trips"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[h&&h.length>0&&s.jsxs(Jc,{children:[s.jsx(ed,{asChild:!0,children:s.jsxs(F,{variant:"ghost",size:"sm",className:"flex items-center gap-1 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 p-1 h-8 w-8",children:[s.jsx(op,{className:"h-4 w-4"}),h.length>0&&s.jsx("span",{className:"absolute -top-1 -right-1 flex h-4 w-4 items-center justify-center rounded-full bg-primary text-[0.6rem] text-white",children:h.length})]})}),s.jsx(rl,{align:"end",className:"w-48",children:s.jsxs(dt,{className:"flex justify-between cursor-pointer",onClick:()=>l(!o),children:[s.jsx("span",{children:o?"Hide Hidden Trips":"Show Hidden Trips"}),o?s.jsx(la,{className:"h-4 w-4 ml-2"}):s.jsx(op,{className:"h-4 w-4 ml-2"})]})})]}),s.jsx("div",{className:"md:hidden",children:s.jsxs(F,{onClick:g,size:"sm",className:"inline-flex items-center gap-1 bg-blue-600 dark:bg-blue-600 text-white hover:bg-blue-700 dark:hover:bg-blue-700 shadow-md border border-blue-500 dark:border-blue-500 font-medium px-3","aria-label":"Create new trip",children:[s.jsx(Vr,{className:"h-4 w-4"}),s.jsx("span",{children:"New"})]})})]})]}),f?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2].map(w=>s.jsxs("div",{className:"h-64 bg-card dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 animate-pulse",role:"status","aria-label":"Loading trip data",children:[s.jsx("div",{className:"h-32 bg-muted dark:bg-slate-700 rounded-t-xl"}),s.jsxs("div",{className:"p-4 space-y-3",children:[s.jsx("div",{className:"h-5 bg-muted dark:bg-slate-700 rounded w-2/3"}),s.jsx("div",{className:"h-4 bg-muted dark:bg-slate-700 rounded w-1/2"}),s.jsxs("div",{className:"flex justify-between mt-4",children:[s.jsxs("div",{className:"flex space-x-1",children:[s.jsx("div",{className:"w-7 h-7 rounded-full bg-muted dark:bg-slate-700"}),s.jsx("div",{className:"w-7 h-7 rounded-full bg-muted dark:bg-slate-700"})]}),s.jsx("div",{className:"h-4 bg-muted dark:bg-slate-700 rounded w-1/4"})]})]}),s.jsx("span",{className:"sr-only",children:"Loading trips..."})]},w))}):x.length>0?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:x.map(w=>s.jsx(Zu,{trip:w},w.id))}):s.jsx(Ce,{className:"shadow-sm border-gray-200 dark:border-slate-700 dark:bg-slate-800",children:s.jsxs(Me,{className:"pt-8 pb-8 flex flex-col items-center justify-center",children:[s.jsx("div",{className:"w-16 h-16 bg-primary/15 dark:bg-primary-400/20 rounded-full flex items-center justify-center text-primary-600 dark:text-primary-400 mb-4 shadow-sm",children:s.jsx("i",{className:"ri-map-pin-line text-2xl"})}),s.jsx("h3",{className:"text-xl font-semibold mb-2 text-foreground dark:text-white",children:"No Active Trips"}),s.jsx("p",{className:"text-center max-w-md font-medium",style:{color:"var(--foreground)"},children:"Use the buttons at the top of the page to create a new trip or join an existing one with an invite code"})]})})]}),y.length>0&&s.jsxs("section",{className:"mb-10 past-trips-section","aria-labelledby":"past-trips-heading",children:[s.jsxs("div",{className:"flex justify-between items-center mb-5",children:[s.jsxs("h2",{id:"past-trips-heading",className:"text-xl font-bold flex items-center gap-2",children:[s.jsx(He,{variant:"outline",className:"border-amber-500 text-amber-600 dark:border-amber-300 dark:text-amber-300 font-medium shadow-sm",children:"Past"}),s.jsx("span",{className:"text-foreground dark:text-white",children:"Trips"}),s.jsx(Re,{children:s.jsxs(Ie,{children:[s.jsx(Le,{asChild:!0,children:s.jsx(ba,{className:"h-4 w-4 text-gray-500 dark:text-gray-300 ml-1 cursor-help"})}),s.jsx(Oe,{children:s.jsx("p",{children:"Trips that have ended or were marked as past"})})]})})]}),y.length>0&&s.jsxs(F,{variant:"outline",onClick:()=>t("/past-trips"),className:"text-sm flex items-center gap-1.5 border-amber-200 hover:border-amber-300 dark:border-amber-900 dark:hover:border-amber-800 dark:bg-amber-900/10 hover:bg-amber-50 dark:hover:bg-amber-900/20 shadow-sm",children:[s.jsx("span",{className:"text-amber-800 dark:text-amber-300 font-medium",children:"View All"}),s.jsx(eC,{className:"h-3.5 w-3.5 text-amber-700 dark:text-amber-400"})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:y.slice(0,2).map(w=>s.jsx(Zu,{trip:w,isPast:!0},w.id))})]}),o&&s.jsxs("section",{className:"mb-10 hidden-trips-section","aria-labelledby":"hidden-trips-heading",children:[s.jsx("div",{className:"flex justify-between items-center mb-5",children:s.jsxs("h2",{id:"hidden-trips-heading",className:"text-xl font-bold flex items-center gap-2",children:[s.jsx(He,{variant:"outline",className:"border-gray-500 text-gray-600 dark:border-gray-300 dark:text-gray-300 font-medium shadow-sm",children:"Hidden"}),s.jsx("span",{className:"text-foreground dark:text-white",children:"Trips"}),s.jsx(Re,{children:s.jsxs(Ie,{children:[s.jsx(Le,{asChild:!0,children:s.jsx(ba,{className:"h-4 w-4 text-gray-500 dark:text-gray-300 ml-1 cursor-help"})}),s.jsx(Oe,{children:s.jsx("p",{children:"Trips you've chosen to hide from your main view"})})]})})]})}),p?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[1,2].map(w=>s.jsxs("div",{className:"h-64 bg-card dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 animate-pulse",role:"status","aria-label":"Loading trip data",children:[s.jsx("div",{className:"h-32 bg-muted dark:bg-slate-700 rounded-t-xl"}),s.jsxs("div",{className:"p-4 space-y-3",children:[s.jsx("div",{className:"h-5 bg-muted dark:bg-slate-700 rounded w-2/3"}),s.jsx("div",{className:"h-4 bg-muted dark:bg-slate-700 rounded w-1/2"}),s.jsxs("div",{className:"flex justify-between mt-4",children:[s.jsxs("div",{className:"flex space-x-1",children:[s.jsx("div",{className:"w-7 h-7 rounded-full bg-muted dark:bg-slate-700"}),s.jsx("div",{className:"w-7 h-7 rounded-full bg-muted dark:bg-slate-700"})]}),s.jsx("div",{className:"h-4 bg-muted dark:bg-slate-700 rounded w-1/4"})]})]}),s.jsx("span",{className:"sr-only",children:"Loading trips..."})]},w))}):h&&h.length>0?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:h.map(w=>s.jsxs("div",{className:"relative group",children:[s.jsx(Zu,{trip:w,isPast:w.isPast}),s.jsx("div",{className:"absolute top-2 right-2",children:s.jsxs(F,{variant:"secondary",size:"sm",className:"bg-white dark:bg-slate-700 hover:bg-gray-100 dark:hover:bg-slate-600 opacity-0 group-hover:opacity-100 transition-opacity shadow-md text-gray-900 dark:text-white border border-gray-200 dark:border-slate-500",onClick:()=>v.mutate(w.id),disabled:v.isPending,children:[s.jsx(op,{className:"h-4 w-4 mr-1"}),s.jsx("span",{children:"Unhide"})]})})]},w.id))}):s.jsx(Ce,{className:"shadow-sm border-gray-200 dark:border-slate-700 dark:bg-slate-800",children:s.jsxs(Me,{className:"pt-8 pb-8 flex flex-col items-center justify-center",children:[s.jsx("div",{className:"w-16 h-16 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center text-gray-600 dark:text-gray-400 mb-4 shadow-sm",children:s.jsx(la,{className:"h-8 w-8"})}),s.jsx("h3",{className:"text-xl font-semibold mb-2 text-foreground dark:text-white",children:"No Hidden Trips"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-center max-w-md",children:`You haven't hidden any trips yet. To hide a trip, open a trip and select "Hide Trip" from the menu.`})]})})]}),s.jsx(sI,{onNewTrip:g})]})};var yv="Dialog",[wP,bP]=yr(yv),[k6,Gn]=wP(yv),jP=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:i,onOpenChange:a,modal:o=!0}=e,l=m.useRef(null),c=m.useRef(null),[d=!1,u]=Sn({prop:n,defaultProp:i,onChange:a});return s.jsx(k6,{scope:t,triggerRef:l,contentRef:c,contentId:bn(),titleId:bn(),descriptionId:bn(),open:d,onOpenChange:u,onOpenToggle:m.useCallback(()=>u(f=>!f),[u]),modal:o,children:r})};jP.displayName=yv;var NP="DialogTrigger",kP=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=Gn(NP,r),a=De(t,i.triggerRef);return s.jsx(ge.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":bv(i.open),...n,ref:a,onClick:Q(e.onClick,i.onOpenToggle)})});kP.displayName=NP;var vv="DialogPortal",[S6,SP]=wP(vv,{forceMount:void 0}),CP=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:i}=e,a=Gn(vv,t);return s.jsx(S6,{scope:t,forceMount:r,children:m.Children.map(n,o=>s.jsx(er,{present:r||a.open,children:s.jsx(vl,{asChild:!0,container:i,children:o})}))})};CP.displayName=vv;var Bf="DialogOverlay",PP=m.forwardRef((e,t)=>{const r=SP(Bf,e.__scopeDialog),{forceMount:n=r.forceMount,...i}=e,a=Gn(Bf,e.__scopeDialog);return a.modal?s.jsx(er,{present:n||a.open,children:s.jsx(P6,{...i,ref:t})}):null});PP.displayName=Bf;var C6=Mi("DialogOverlay.RemoveScroll"),P6=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=Gn(Bf,r);return s.jsx(Ld,{as:C6,allowPinchZoom:!0,shards:[i.contentRef],children:s.jsx(ge.div,{"data-state":bv(i.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Ma="DialogContent",TP=m.forwardRef((e,t)=>{const r=SP(Ma,e.__scopeDialog),{forceMount:n=r.forceMount,...i}=e,a=Gn(Ma,e.__scopeDialog);return s.jsx(er,{present:n||a.open,children:a.modal?s.jsx(T6,{...i,ref:t}):s.jsx(E6,{...i,ref:t})})});TP.displayName=Ma;var T6=m.forwardRef((e,t)=>{const r=Gn(Ma,e.__scopeDialog),n=m.useRef(null),i=De(t,r.contentRef,n);return m.useEffect(()=>{const a=n.current;if(a)return Xh(a)},[]),s.jsx(EP,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Q(e.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Q(e.onPointerDownOutside,a=>{const o=a.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&a.preventDefault()}),onFocusOutside:Q(e.onFocusOutside,a=>a.preventDefault())})}),E6=m.forwardRef((e,t)=>{const r=Gn(Ma,e.__scopeDialog),n=m.useRef(!1),i=m.useRef(!1);return s.jsx(EP,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,a),a.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),a.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:a=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;((d=r.triggerRef.current)==null?void 0:d.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),EP=m.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:a,...o}=e,l=Gn(Ma,r),c=m.useRef(null),d=De(t,c);return Gh(),s.jsxs(s.Fragment,{children:[s.jsx(Id,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:a,children:s.jsx(za,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":bv(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(D6,{titleId:l.titleId}),s.jsx(A6,{contentRef:c,descriptionId:l.descriptionId})]})]})}),wv="DialogTitle",_P=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=Gn(wv,r);return s.jsx(ge.h2,{id:i.titleId,...n,ref:t})});_P.displayName=wv;var DP="DialogDescription",MP=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=Gn(DP,r);return s.jsx(ge.p,{id:i.descriptionId,...n,ref:t})});MP.displayName=DP;var AP="DialogClose",RP=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=Gn(AP,r);return s.jsx(ge.button,{type:"button",...n,ref:t,onClick:Q(e.onClick,()=>i.onOpenChange(!1))})});RP.displayName=AP;function bv(e){return e?"open":"closed"}var OP="DialogTitleWarning",[_6,FP]=m5(OP,{contentName:Ma,titleName:wv,docsSlug:"dialog"}),D6=({titleId:e})=>{const t=FP(OP),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return m.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},M6="DialogDescriptionWarning",A6=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${FP(M6).contentName}}.`;return m.useEffect(()=>{var a;const i=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},IP=jP,LP=kP,VP=CP,jv=PP,Nv=TP,kv=_P,Sv=MP,Cv=RP,$P="AlertDialog",[R6,_Y]=yr($P,[bP]),Ks=bP(),zP=e=>{const{__scopeAlertDialog:t,...r}=e,n=Ks(t);return s.jsx(IP,{...n,...r,modal:!0})};zP.displayName=$P;var O6="AlertDialogTrigger",BP=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=Ks(r);return s.jsx(LP,{...i,...n,ref:t})});BP.displayName=O6;var F6="AlertDialogPortal",WP=e=>{const{__scopeAlertDialog:t,...r}=e,n=Ks(t);return s.jsx(VP,{...n,...r})};WP.displayName=F6;var I6="AlertDialogOverlay",UP=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=Ks(r);return s.jsx(jv,{...i,...n,ref:t})});UP.displayName=I6;var _o="AlertDialogContent",[L6,V6]=R6(_o),$6=TS("AlertDialogContent"),HP=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...i}=e,a=Ks(r),o=m.useRef(null),l=De(t,o),c=m.useRef(null);return s.jsx(_6,{contentName:_o,titleName:KP,docsSlug:"alert-dialog",children:s.jsx(L6,{scope:r,cancelRef:c,children:s.jsxs(Nv,{role:"alertdialog",...a,...i,ref:l,onOpenAutoFocus:Q(i.onOpenAutoFocus,d=>{var u;d.preventDefault(),(u=c.current)==null||u.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[s.jsx($6,{children:n}),s.jsx(B6,{contentRef:o})]})})})});HP.displayName=_o;var KP="AlertDialogTitle",YP=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=Ks(r);return s.jsx(kv,{...i,...n,ref:t})});YP.displayName=KP;var qP="AlertDialogDescription",GP=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=Ks(r);return s.jsx(Sv,{...i,...n,ref:t})});GP.displayName=qP;var z6="AlertDialogAction",QP=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=Ks(r);return s.jsx(Cv,{...i,...n,ref:t})});QP.displayName=z6;var ZP="AlertDialogCancel",XP=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:i}=V6(ZP,r),a=Ks(r),o=De(t,i);return s.jsx(Cv,{...a,...n,ref:o})});XP.displayName=ZP;var B6=({contentRef:e})=>{const t=`\`${_o}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${_o}\` by passing a \`${qP}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${_o}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return m.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},W6=zP,U6=BP,H6=WP,JP=UP,eT=HP,tT=QP,rT=XP,nT=YP,sT=GP;const Pv=W6,K6=U6,Y6=H6,iT=m.forwardRef(({className:e,...t},r)=>s.jsx(JP,{className:re("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));iT.displayName=JP.displayName;const rm=m.forwardRef(({className:e,...t},r)=>s.jsxs(Y6,{children:[s.jsx(iT,{}),s.jsx(eT,{ref:r,className:re("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));rm.displayName=eT.displayName;const nm=({className:e,...t})=>s.jsx("div",{className:re("flex flex-col space-y-2 text-center sm:text-left",e),...t});nm.displayName="AlertDialogHeader";const sm=({className:e,...t})=>s.jsx("div",{className:re("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});sm.displayName="AlertDialogFooter";const im=m.forwardRef(({className:e,...t},r)=>s.jsx(nT,{ref:r,className:re("text-lg font-semibold",e),...t}));im.displayName=nT.displayName;const am=m.forwardRef(({className:e,...t},r)=>s.jsx(sT,{ref:r,className:re("text-sm text-muted-foreground",e),...t}));am.displayName=sT.displayName;const om=m.forwardRef(({className:e,...t},r)=>s.jsx(tT,{ref:r,className:re(Qc(),e),...t}));om.displayName=tT.displayName;const lm=m.forwardRef(({className:e,...t},r)=>s.jsx(rT,{ref:r,className:re(Qc({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));lm.displayName=rT.displayName;const xt=IP,q6=LP,G6=VP,aT=m.forwardRef(({className:e,...t},r)=>s.jsx(jv,{ref:r,className:re("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));aT.displayName=jv.displayName;const ut=m.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(G6,{children:[s.jsx(aT,{}),s.jsxs(Nv,{ref:n,className:re("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,s.jsxs(Cv,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(Co,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ut.displayName=Nv.displayName;const ft=({className:e,...t})=>s.jsx("div",{className:re("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});ft.displayName="DialogHeader";const $t=({className:e,...t})=>s.jsx("div",{className:re("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});$t.displayName="DialogFooter";const ht=m.forwardRef(({className:e,...t},r)=>s.jsx(kv,{ref:r,className:re("text-lg font-semibold leading-none tracking-tight",e),...t}));ht.displayName=kv.displayName;const qt=m.forwardRef(({className:e,...t},r)=>s.jsx(Sv,{ref:r,className:re("text-sm text-muted-foreground",e),...t}));qt.displayName=Sv.displayName;const me=m.forwardRef(({className:e,type:t,...r},n)=>s.jsx("input",{type:t,className:re("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base text-foreground ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));me.displayName="Input";var Q6="Label",oT=m.forwardRef((e,t)=>s.jsx(ge.label,{...e,ref:t,onMouseDown:r=>{var i;r.target.closest("button, input, select, textarea")||((i=e.onMouseDown)==null||i.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));oT.displayName=Q6;var lT=oT;const Z6=Ad("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 text-foreground"),G=m.forwardRef(({className:e,...t},r)=>s.jsx(lT,{ref:r,className:re(Z6(),e),...t}));G.displayName=lT.displayName;const Xr=m.forwardRef(({className:e,...t},r)=>s.jsx("textarea",{className:re("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base text-foreground ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...t}));Xr.displayName="Textarea";const X6=({tripId:e})=>{const{toast:t}=vt(),r=fn(),[n,i]=m.useState(!1),[a,o]=m.useState(!1),[l,c]=m.useState(null),[d,u]=m.useState({day:1,time:"",title:"",description:"",location:""}),[f,h]=m.useState({day:1,time:"",title:"",description:"",location:""}),{data:p,isLoading:v}=kt({queryKey:[`/api/trips/${e}/itinerary`],enabled:!!e}),{data:g,isLoading:b}=kt({queryKey:[`/api/trips/${e}/itinerary/suggestions`],enabled:!!e});console.log("TripItinerary - Items:",p),console.log("TripItinerary - Suggestions:",g),console.log("TripItinerary - Suggestions loading:",b);const x=Ae({mutationFn:async T=>(console.log("Adding itinerary item:",T),je("POST",`/api/trips/${e}/itinerary`,T)),onSuccess:()=>{r.invalidateQueries({queryKey:[`/api/trips/${e}/itinerary`]}),i(!1),u({day:1,time:"",title:"",description:"",location:""}),t({title:"Success",description:"Itinerary item added successfully"})},onError:T=>{console.error("Error adding itinerary item:",T),t({title:"Error",description:"Failed to add itinerary item",variant:"destructive"})}}),y=Ae({mutationFn:async T=>je("PATCH",`/api/itinerary/activities/${T.id}`,T),onSuccess:()=>{r.invalidateQueries({queryKey:[`/api/trips/${e}/itinerary`]}),c(null),t({title:"Success",description:"Itinerary item updated successfully"})},onError:()=>{t({title:"Error",description:"Failed to update itinerary item",variant:"destructive"})}}),w=Ae({mutationFn:async T=>je("DELETE",`/api/itinerary/activities/${T}`),onSuccess:()=>{r.invalidateQueries({queryKey:[`/api/trips/${e}/itinerary`]}),t({title:"Success",description:"Itinerary item deleted successfully"})},onError:()=>{t({title:"Error",description:"Failed to delete itinerary item",variant:"destructive"})}}),j=()=>{if(!d.title.trim()){t({title:"Error",description:"Please enter a title",variant:"destructive"});return}x.mutate({...d,tripId:e})},N=()=>{l&&y.mutate(l)},P=T=>{w.isPending||w.mutate(T)},S=Ae({mutationFn:async T=>je("POST",`/api/trips/${e}/itinerary/suggestions`,T),onSuccess:()=>{r.invalidateQueries({queryKey:[`/api/trips/${e}/itinerary/suggestions`]}),o(!1),h({day:1,time:"",title:"",description:"",location:""}),t({title:"Success",description:"Activity suggestion submitted successfully"})},onError:()=>{t({title:"Error",description:"Failed to submit activity suggestion",variant:"destructive"})}}),E=Ae({mutationFn:async({suggestionId:T,vote:$})=>je("POST",`/api/trips/${e}/itinerary/suggestions/${T}/vote`,{vote:$}),onSuccess:()=>{r.invalidateQueries({queryKey:[`/api/trips/${e}/itinerary/suggestions`]}),t({title:"Success",description:"Vote submitted successfully"})},onError:()=>{t({title:"Error",description:"Failed to submit vote",variant:"destructive"})}}),R=Ae({mutationFn:async T=>je("POST",`/api/trips/${e}/itinerary/suggestions/${T}/approve`),onSuccess:()=>{r.invalidateQueries({queryKey:[`/api/trips/${e}/itinerary/suggestions`]}),r.invalidateQueries({queryKey:[`/api/trips/${e}/itinerary`]}),t({title:"Success",description:"Activity suggestion approved successfully"})},onError:()=>{t({title:"Error",description:"Failed to approve suggestion",variant:"destructive"})}}),A=Ae({mutationFn:async T=>je("POST",`/api/trips/${e}/itinerary/suggestions/${T}/reject`),onSuccess:()=>{r.invalidateQueries({queryKey:[`/api/trips/${e}/itinerary/suggestions`]}),t({title:"Success",description:"Activity suggestion rejected"})},onError:()=>{t({title:"Error",description:"Failed to reject suggestion",variant:"destructive"})}}),W=()=>{if(!f.title.trim()){t({title:"Error",description:"Please enter a title",variant:"destructive"});return}S.mutate({...f,tripId:e})},V=(T,$)=>{E.mutate({suggestionId:T,vote:$})},O=T=>{R.mutate(T)},B=T=>{A.mutate(T)},Y=T=>T.reduce(($,U)=>($[U.vote]=($[U.vote]||0)+1,$),{}),H=T=>{const $=Y(T);return($.up||0)+($.interested||0)-($.down||0)},_=(g||[]).sort((T,$)=>H($.votes)-H(T.votes)),C=(p==null?void 0:p.reduce((T,$)=>(T[$.day]||(T[$.day]=[]),T[$.day].push($),T),{}))||{};return Object.keys(C).forEach(T=>{C[parseInt(T)].sort(($,U)=>!$.time&&!U.time?0:$.time?U.time?$.time.localeCompare(U.time):-1:1)}),v?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Yt,{className:"h-8 w-8 text-muted-foreground mx-auto mb-2"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading itinerary..."})]})}):s.jsxs("div",{className:"p-4 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Trip Itinerary"}),s.jsx("p",{className:"text-muted-foreground",children:"Plan your daily activities"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(F,{variant:"outline",size:"icon",onClick:()=>o(!0),children:s.jsx(bb,{className:"h-4 w-4"})}),s.jsx(F,{size:"icon",onClick:()=>i(!0),children:s.jsx(Vr,{className:"h-4 w-4"})})]})]}),_.length>0&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(bb,{className:"h-5 w-5 text-amber-500"}),s.jsx("h3",{className:"text-lg font-semibold",children:"Activity Suggestions"}),s.jsx(He,{variant:"secondary",children:_.length})]}),s.jsx("div",{className:"grid gap-4",children:_.map((T,$)=>{const U=Y(T.votes),fe=H(T.votes),Te=$===0&&fe>0;return s.jsx(Ce,{className:`transition-all ${Te?"ring-2 ring-amber-400 bg-amber-50":""}`,children:s.jsx(Me,{className:"p-4",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[T.time&&s.jsxs(He,{variant:"outline",className:"text-xs",children:[s.jsx(Ai,{className:"h-3 w-3 mr-1"}),T.time]}),s.jsxs(He,{variant:"outline",className:"text-xs",children:["Day ",T.day]}),Te&&s.jsxs(He,{variant:"secondary",className:"text-xs bg-amber-100 text-amber-800",children:[s.jsx(wc,{className:"h-3 w-3 mr-1"}),"Top Voted"]})]}),s.jsx("h4",{className:"font-semibold mb-1",children:T.title}),T.description&&s.jsx("p",{className:"text-muted-foreground text-sm mb-2",children:T.description}),T.location&&s.jsxs("div",{className:"flex items-center text-sm text-muted-foreground mb-3",children:[s.jsx(As,{className:"h-3 w-3 mr-1"}),T.location]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(F,{variant:"ghost",size:"sm",onClick:()=>V(T.id,"up"),disabled:E.isPending,className:"text-green-600 hover:text-green-700 hover:bg-green-50",children:[s.jsx(mC,{className:"h-4 w-4"}),s.jsx("span",{className:"ml-1",children:U.up||0})]}),s.jsxs(F,{variant:"ghost",size:"sm",onClick:()=>V(T.id,"interested"),disabled:E.isPending,className:"text-blue-600 hover:text-blue-700 hover:bg-blue-50",children:[s.jsx(wc,{className:"h-4 w-4"}),s.jsx("span",{className:"ml-1",children:U.interested||0})]}),s.jsxs(F,{variant:"ghost",size:"sm",onClick:()=>V(T.id,"down"),disabled:E.isPending,className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:[s.jsx(RO,{className:"h-4 w-4"}),s.jsx("span",{className:"ml-1",children:U.down||0})]})]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Score: ",fe>0?`+${fe}`:fe]})]})]}),s.jsxs("div",{className:"flex items-center gap-1 ml-4",children:[s.jsx(F,{variant:"ghost",size:"sm",onClick:()=>O(T.id),disabled:R.isPending,className:"text-green-600 hover:text-green-700 hover:bg-green-50",children:s.jsx(nC,{className:"h-4 w-4"})}),s.jsx(F,{variant:"ghost",size:"sm",onClick:()=>B(T.id),disabled:A.isPending,className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:s.jsx(uO,{className:"h-4 w-4"})})]})]})})},T.id)})})]}),Object.keys(C).length===0?s.jsx(Ce,{children:s.jsxs(Me,{className:"flex flex-col items-center justify-center py-12",children:[s.jsx(Yt,{className:"h-12 w-12 text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No activities planned yet"}),s.jsx("p",{className:"text-muted-foreground text-center mb-4",children:"Start planning your trip by adding activities to your itinerary"}),s.jsxs(F,{onClick:()=>i(!0),children:[s.jsx(Vr,{className:"h-4 w-4 mr-2"}),"Add First Activity"]})]})}):s.jsx("div",{className:"space-y-6",children:Object.keys(C).sort((T,$)=>parseInt(T)-parseInt($)).map(T=>s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center",children:[s.jsx(Yt,{className:"h-5 w-5 mr-2"}),"Day ",T]}),s.jsx("div",{className:"space-y-3",children:C[parseInt(T)].map($=>s.jsx(Ce,{children:s.jsx(Me,{className:"p-4",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"flex items-center gap-2 mb-2",children:$.time&&s.jsxs(He,{variant:"outline",className:"text-xs",children:[s.jsx(Ai,{className:"h-3 w-3 mr-1"}),$.time]})}),s.jsx("h4",{className:"font-semibold mb-1",children:$.title}),$.description&&s.jsx("p",{className:"text-muted-foreground text-sm mb-2",children:$.description}),$.location&&s.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[s.jsx(As,{className:"h-3 w-3 mr-1"}),$.location]})]}),s.jsxs("div",{className:"flex items-center gap-1 ml-4",children:[s.jsx(F,{variant:"ghost",size:"sm",onClick:()=>c($),disabled:y.isPending,children:s.jsx(cC,{className:"h-4 w-4"})}),s.jsx(F,{variant:"ghost",size:"sm",onClick:()=>P($.id),disabled:w.isPending,children:s.jsx(Tr,{className:"h-4 w-4"})})]})]})})},$.id))})]},T))}),s.jsx(xt,{open:n,onOpenChange:i,children:s.jsxs(ut,{children:[s.jsxs(ft,{children:[s.jsx(ht,{children:"Add Activity"}),s.jsx(qt,{children:"Add a new activity to your trip itinerary"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(G,{htmlFor:"day",children:"Day"}),s.jsx(me,{id:"day",type:"number",min:"1",value:d.day,onChange:T=>u({...d,day:parseInt(T.target.value)||1})})]}),s.jsxs("div",{children:[s.jsx(G,{htmlFor:"time",children:"Time (optional)"}),s.jsx(me,{id:"time",type:"time",value:d.time,onChange:T=>u({...d,time:T.target.value})})]}),s.jsxs("div",{children:[s.jsx(G,{htmlFor:"title",children:"Activity Title"}),s.jsx(me,{id:"title",value:d.title,onChange:T=>u({...d,title:T.target.value}),placeholder:"e.g., Visit the Eiffel Tower"})]}),s.jsxs("div",{children:[s.jsx(G,{htmlFor:"location",children:"Location (optional)"}),s.jsx(me,{id:"location",value:d.location,onChange:T=>u({...d,location:T.target.value}),placeholder:"e.g., Paris, France"})]}),s.jsxs("div",{children:[s.jsx(G,{htmlFor:"description",children:"Description (optional)"}),s.jsx(Xr,{id:"description",value:d.description,onChange:T=>u({...d,description:T.target.value}),placeholder:"Add any additional details..."})]})]}),s.jsxs($t,{children:[s.jsx(F,{variant:"outline",onClick:()=>i(!1),children:"Cancel"}),s.jsx(F,{onClick:j,disabled:x.isPending,children:x.isPending?"Adding...":"Add Activity"})]})]})}),s.jsx(xt,{open:a,onOpenChange:o,children:s.jsxs(ut,{children:[s.jsxs(ft,{children:[s.jsx(ht,{children:"Suggest Activity"}),s.jsx(qt,{children:"Suggest a new activity for the group to vote on"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(G,{htmlFor:"suggest-day",children:"Day"}),s.jsx(me,{id:"suggest-day",type:"number",min:"1",value:f.day,onChange:T=>h({...f,day:parseInt(T.target.value)||1})})]}),s.jsxs("div",{children:[s.jsx(G,{htmlFor:"suggest-time",children:"Time (optional)"}),s.jsx(me,{id:"suggest-time",type:"time",value:f.time,onChange:T=>h({...f,time:T.target.value})})]}),s.jsxs("div",{children:[s.jsx(G,{htmlFor:"suggest-title",children:"Activity Title"}),s.jsx(me,{id:"suggest-title",value:f.title,onChange:T=>h({...f,title:T.target.value}),placeholder:"e.g., Visit the Eiffel Tower"})]}),s.jsxs("div",{children:[s.jsx(G,{htmlFor:"suggest-location",children:"Location (optional)"}),s.jsx(me,{id:"suggest-location",value:f.location,onChange:T=>h({...f,location:T.target.value}),placeholder:"e.g., Paris, France"})]}),s.jsxs("div",{children:[s.jsx(G,{htmlFor:"suggest-description",children:"Description (optional)"}),s.jsx(Xr,{id:"suggest-description",value:f.description,onChange:T=>h({...f,description:T.target.value}),placeholder:"Why should we do this activity? Add any details..."})]})]}),s.jsxs($t,{children:[s.jsx(F,{variant:"outline",onClick:()=>o(!1),children:"Cancel"}),s.jsx(F,{onClick:W,disabled:S.isPending,children:S.isPending?"Suggesting...":"Suggest Activity"})]})]})}),s.jsx(xt,{open:!!l,onOpenChange:()=>c(null),children:s.jsxs(ut,{children:[s.jsxs(ft,{children:[s.jsx(ht,{children:"Edit Activity"}),s.jsx(qt,{children:"Update the activity details"})]}),l&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(G,{htmlFor:"edit-day",children:"Day"}),s.jsx(me,{id:"edit-day",type:"number",min:"1",value:l.day,onChange:T=>c({...l,day:parseInt(T.target.value)||1})})]}),s.jsxs("div",{children:[s.jsx(G,{htmlFor:"edit-time",children:"Time (optional)"}),s.jsx(me,{id:"edit-time",type:"time",value:l.time,onChange:T=>c({...l,time:T.target.value})})]}),s.jsxs("div",{children:[s.jsx(G,{htmlFor:"edit-title",children:"Activity Title"}),s.jsx(me,{id:"edit-title",value:l.title,onChange:T=>c({...l,title:T.target.value})})]}),s.jsxs("div",{children:[s.jsx(G,{htmlFor:"edit-location",children:"Location (optional)"}),s.jsx(me,{id:"edit-location",value:l.location||"",onChange:T=>c({...l,location:T.target.value})})]}),s.jsxs("div",{children:[s.jsx(G,{htmlFor:"edit-description",children:"Description (optional)"}),s.jsx(Xr,{id:"edit-description",value:l.description||"",onChange:T=>c({...l,description:T.target.value})})]})]}),s.jsxs($t,{children:[s.jsx(F,{variant:"outline",onClick:()=>c(null),children:"Cancel"}),s.jsx(F,{onClick:N,disabled:y.isPending,children:y.isPending?"Updating...":"Update Activity"})]})]})})]})};var Tv="Tabs",[J6,DY]=yr(Tv,[Zh]),cT=Zh(),[e8,Ev]=J6(Tv),dT=m.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:i,defaultValue:a,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=e,u=kl(l),[f,h]=Sn({prop:n,onChange:i,defaultProp:a});return s.jsx(e8,{scope:r,baseId:bn(),value:f,onValueChange:h,orientation:o,dir:u,activationMode:c,children:s.jsx(ge.div,{dir:u,"data-orientation":o,...d,ref:t})})});dT.displayName=Tv;var uT="TabsList",fT=m.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...i}=e,a=Ev(uT,r),o=cT(r);return s.jsx(x2,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:n,children:s.jsx(ge.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:t})})});fT.displayName=uT;var hT="TabsTrigger",mT=m.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:i=!1,...a}=e,o=Ev(hT,r),l=cT(r),c=xT(o.baseId,n),d=yT(o.baseId,n),u=n===o.value;return s.jsx(y2,{asChild:!0,...l,focusable:!i,active:u,children:s.jsx(ge.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":d,"data-state":u?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...a,ref:t,onMouseDown:Q(e.onMouseDown,f=>{!i&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:Q(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:Q(e.onFocus,()=>{const f=o.activationMode!=="manual";!u&&!i&&f&&o.onValueChange(n)})})})});mT.displayName=hT;var pT="TabsContent",gT=m.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:i,children:a,...o}=e,l=Ev(pT,r),c=xT(l.baseId,n),d=yT(l.baseId,n),u=n===l.value,f=m.useRef(u);return m.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),s.jsx(er,{present:i||u,children:({present:h})=>s.jsx(ge.div,{"data-state":u?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:d,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&a})})});gT.displayName=pT;function xT(e,t){return`${e}-trigger-${t}`}function yT(e,t){return`${e}-content-${t}`}var t8=dT,vT=fT,wT=mT,bT=gT;const _v=t8,cm=m.forwardRef(({className:e,...t},r)=>s.jsx(vT,{ref:r,className:re("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));cm.displayName=vT.displayName;const ss=m.forwardRef(({className:e,...t},r)=>s.jsx(wT,{ref:r,className:re("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));ss.displayName=wT.displayName;const Do=m.forwardRef(({className:e,...t},r)=>s.jsx(bT,{ref:r,className:re("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Do.displayName=bT.displayName;function dm(e){const t=m.useRef({value:e,previous:e});return m.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Dv="Checkbox",[r8,MY]=yr(Dv),[n8,s8]=r8(Dv),jT=m.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:i,defaultChecked:a,required:o,disabled:l,value:c="on",onCheckedChange:d,form:u,...f}=e,[h,p]=m.useState(null),v=De(t,j=>p(j)),g=m.useRef(!1),b=h?u||!!h.closest("form"):!0,[x=!1,y]=Sn({prop:i,defaultProp:a,onChange:d}),w=m.useRef(x);return m.useEffect(()=>{const j=h==null?void 0:h.form;if(j){const N=()=>y(w.current);return j.addEventListener("reset",N),()=>j.removeEventListener("reset",N)}},[h,y]),s.jsxs(n8,{scope:r,state:x,disabled:l,children:[s.jsx(ge.button,{type:"button",role:"checkbox","aria-checked":Pi(x)?"mixed":x,"aria-required":o,"data-state":ST(x),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:v,onKeyDown:Q(e.onKeyDown,j=>{j.key==="Enter"&&j.preventDefault()}),onClick:Q(e.onClick,j=>{y(N=>Pi(N)?!0:!N),b&&(g.current=j.isPropagationStopped(),g.current||j.stopPropagation())})}),b&&s.jsx(i8,{control:h,bubbles:!g.current,name:n,value:c,checked:x,required:o,disabled:l,form:u,style:{transform:"translateX(-100%)"},defaultChecked:Pi(a)?!1:a})]})});jT.displayName=Dv;var NT="CheckboxIndicator",kT=m.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...i}=e,a=s8(NT,r);return s.jsx(er,{present:n||Pi(a.state)||a.state===!0,children:s.jsx(ge.span,{"data-state":ST(a.state),"data-disabled":a.disabled?"":void 0,...i,ref:t,style:{pointerEvents:"none",...e.style}})})});kT.displayName=NT;var i8=e=>{const{control:t,checked:r,bubbles:n=!0,defaultChecked:i,...a}=e,o=m.useRef(null),l=dm(r),c=$h(t);m.useEffect(()=>{const u=o.current,f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"checked").set;if(l!==r&&p){const v=new Event("click",{bubbles:n});u.indeterminate=Pi(r),p.call(u,Pi(r)?!1:r),u.dispatchEvent(v)}},[l,r,n]);const d=m.useRef(Pi(r)?!1:r);return s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i??d.current,...a,tabIndex:-1,ref:o,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Pi(e){return e==="indeterminate"}function ST(e){return Pi(e)?"indeterminate":e?"checked":"unchecked"}var CT=jT,a8=kT;const td=m.forwardRef(({className:e,...t},r)=>s.jsx(CT,{ref:r,className:re("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:s.jsx(a8,{className:re("flex items-center justify-center text-current"),children:s.jsx(Rd,{className:"h-4 w-4"})})}));td.displayName=CT.displayName;function rd(e,[t,r]){return Math.min(r,Math.max(t,e))}var o8=[" ","Enter","ArrowUp","ArrowDown"],l8=[" ","Enter"],zd="Select",[um,fm,c8]=Dd(zd),[Sl,AY]=yr(zd,[c8,Yi]),hm=Yi(),[d8,qi]=Sl(zd),[u8,f8]=Sl(zd),PT=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:i,onOpenChange:a,value:o,defaultValue:l,onValueChange:c,dir:d,name:u,autoComplete:f,disabled:h,required:p,form:v}=e,g=hm(t),[b,x]=m.useState(null),[y,w]=m.useState(null),[j,N]=m.useState(!1),P=kl(d),[S=!1,E]=Sn({prop:n,defaultProp:i,onChange:a}),[R,A]=Sn({prop:o,defaultProp:l,onChange:c}),W=m.useRef(null),V=b?v||!!b.closest("form"):!0,[O,B]=m.useState(new Set),Y=Array.from(O).map(H=>H.props.value).join(";");return s.jsx(zh,{...g,children:s.jsxs(d8,{required:p,scope:t,trigger:b,onTriggerChange:x,valueNode:y,onValueNodeChange:w,valueNodeHasChildren:j,onValueNodeHasChildrenChange:N,contentId:bn(),value:R,onValueChange:A,open:S,onOpenChange:E,dir:P,triggerPointerDownPosRef:W,disabled:h,children:[s.jsx(um.Provider,{scope:t,children:s.jsx(u8,{scope:e.__scopeSelect,onNativeOptionAdd:m.useCallback(H=>{B(_=>new Set(_).add(H))},[]),onNativeOptionRemove:m.useCallback(H=>{B(_=>{const C=new Set(_);return C.delete(H),C})},[]),children:r})}),V?s.jsxs(XT,{"aria-hidden":!0,required:p,tabIndex:-1,name:u,autoComplete:f,value:R,onChange:H=>A(H.target.value),disabled:h,form:v,children:[R===void 0?s.jsx("option",{value:""}):null,Array.from(O)]},Y):null]})})};PT.displayName=zd;var TT="SelectTrigger",ET=m.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...i}=e,a=hm(r),o=qi(TT,r),l=o.disabled||n,c=De(t,o.onTriggerChange),d=fm(r),u=m.useRef("touch"),[f,h,p]=JT(g=>{const b=d().filter(w=>!w.disabled),x=b.find(w=>w.value===o.value),y=eE(b,g,x);y!==void 0&&o.onValueChange(y.value)}),v=g=>{l||(o.onOpenChange(!0),p()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return s.jsx(Fd,{asChild:!0,...a,children:s.jsx(ge.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":ZT(o.value)?"":void 0,...i,ref:c,onClick:Q(i.onClick,g=>{g.currentTarget.focus(),u.current!=="mouse"&&v(g)}),onPointerDown:Q(i.onPointerDown,g=>{u.current=g.pointerType;const b=g.target;b.hasPointerCapture(g.pointerId)&&b.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(v(g),g.preventDefault())}),onKeyDown:Q(i.onKeyDown,g=>{const b=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&h(g.key),!(b&&g.key===" ")&&o8.includes(g.key)&&(v(),g.preventDefault())})})})});ET.displayName=TT;var _T="SelectValue",DT=m.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:i,children:a,placeholder:o="",...l}=e,c=qi(_T,r),{onValueNodeHasChildrenChange:d}=c,u=a!==void 0,f=De(t,c.onValueNodeChange);return or(()=>{d(u)},[d,u]),s.jsx(ge.span,{...l,ref:f,style:{pointerEvents:"none"},children:ZT(c.value)?s.jsx(s.Fragment,{children:o}):a})});DT.displayName=_T;var h8="SelectIcon",MT=m.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...i}=e;return s.jsx(ge.span,{"aria-hidden":!0,...i,ref:t,children:n||""})});MT.displayName=h8;var m8="SelectPortal",AT=e=>s.jsx(vl,{asChild:!0,...e});AT.displayName=m8;var Aa="SelectContent",RT=m.forwardRef((e,t)=>{const r=qi(Aa,e.__scopeSelect),[n,i]=m.useState();if(or(()=>{i(new DocumentFragment)},[]),!r.open){const a=n;return a?Ki.createPortal(s.jsx(OT,{scope:e.__scopeSelect,children:s.jsx(um.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),a):null}return s.jsx(FT,{...e,ref:t})});RT.displayName=Aa;var En=10,[OT,Gi]=Sl(Aa),p8="SelectContentImpl",g8=Mi("SelectContent.RemoveScroll"),FT=m.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:v,hideWhenDetached:g,avoidCollisions:b,...x}=e,y=qi(Aa,r),[w,j]=m.useState(null),[N,P]=m.useState(null),S=De(t,te=>j(te)),[E,R]=m.useState(null),[A,W]=m.useState(null),V=fm(r),[O,B]=m.useState(!1),Y=m.useRef(!1);m.useEffect(()=>{if(w)return Xh(w)},[w]),Gh();const H=m.useCallback(te=>{const[K,...ce]=V().map(Se=>Se.ref.current),[ve]=ce.slice(-1),xe=document.activeElement;for(const Se of te)if(Se===xe||(Se==null||Se.scrollIntoView({block:"nearest"}),Se===K&&N&&(N.scrollTop=0),Se===ve&&N&&(N.scrollTop=N.scrollHeight),Se==null||Se.focus(),document.activeElement!==xe))return},[V,N]),_=m.useCallback(()=>H([E,w]),[H,E,w]);m.useEffect(()=>{O&&_()},[O,_]);const{onOpenChange:C,triggerPointerDownPosRef:T}=y;m.useEffect(()=>{if(w){let te={x:0,y:0};const K=ve=>{var xe,Se;te={x:Math.abs(Math.round(ve.pageX)-(((xe=T.current)==null?void 0:xe.x)??0)),y:Math.abs(Math.round(ve.pageY)-(((Se=T.current)==null?void 0:Se.y)??0))}},ce=ve=>{te.x<=10&&te.y<=10?ve.preventDefault():w.contains(ve.target)||C(!1),document.removeEventListener("pointermove",K),T.current=null};return T.current!==null&&(document.addEventListener("pointermove",K),document.addEventListener("pointerup",ce,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",K),document.removeEventListener("pointerup",ce,{capture:!0})}}},[w,C,T]),m.useEffect(()=>{const te=()=>C(!1);return window.addEventListener("blur",te),window.addEventListener("resize",te),()=>{window.removeEventListener("blur",te),window.removeEventListener("resize",te)}},[C]);const[$,U]=JT(te=>{const K=V().filter(xe=>!xe.disabled),ce=K.find(xe=>xe.ref.current===document.activeElement),ve=eE(K,te,ce);ve&&setTimeout(()=>ve.ref.current.focus())}),fe=m.useCallback((te,K,ce)=>{const ve=!Y.current&&!ce;(y.value!==void 0&&y.value===K||ve)&&(R(te),ve&&(Y.current=!0))},[y.value]),Te=m.useCallback(()=>w==null?void 0:w.focus(),[w]),$e=m.useCallback((te,K,ce)=>{const ve=!Y.current&&!ce;(y.value!==void 0&&y.value===K||ve)&&W(te)},[y.value]),pt=n==="popper"?dx:IT,ze=pt===dx?{side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:v,hideWhenDetached:g,avoidCollisions:b}:{};return s.jsx(OT,{scope:r,content:w,viewport:N,onViewportChange:P,itemRefCallback:fe,selectedItem:E,onItemLeave:Te,itemTextRefCallback:$e,focusSelectedItem:_,selectedItemText:A,position:n,isPositioned:O,searchRef:$,children:s.jsx(Ld,{as:g8,allowPinchZoom:!0,children:s.jsx(Id,{asChild:!0,trapped:y.open,onMountAutoFocus:te=>{te.preventDefault()},onUnmountAutoFocus:Q(i,te=>{var K;(K=y.trigger)==null||K.focus({preventScroll:!0}),te.preventDefault()}),children:s.jsx(za,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:te=>te.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:s.jsx(pt,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:te=>te.preventDefault(),...x,...ze,onPlaced:()=>B(!0),ref:S,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:Q(x.onKeyDown,te=>{const K=te.ctrlKey||te.altKey||te.metaKey;if(te.key==="Tab"&&te.preventDefault(),!K&&te.key.length===1&&U(te.key),["ArrowUp","ArrowDown","Home","End"].includes(te.key)){let ve=V().filter(xe=>!xe.disabled).map(xe=>xe.ref.current);if(["ArrowUp","End"].includes(te.key)&&(ve=ve.slice().reverse()),["ArrowUp","ArrowDown"].includes(te.key)){const xe=te.target,Se=ve.indexOf(xe);ve=ve.slice(Se+1)}setTimeout(()=>H(ve)),te.preventDefault()}})})})})})})});FT.displayName=p8;var x8="SelectItemAlignedPosition",IT=m.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...i}=e,a=qi(Aa,r),o=Gi(Aa,r),[l,c]=m.useState(null),[d,u]=m.useState(null),f=De(t,S=>u(S)),h=fm(r),p=m.useRef(!1),v=m.useRef(!0),{viewport:g,selectedItem:b,selectedItemText:x,focusSelectedItem:y}=o,w=m.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&d&&g&&b&&x){const S=a.trigger.getBoundingClientRect(),E=d.getBoundingClientRect(),R=a.valueNode.getBoundingClientRect(),A=x.getBoundingClientRect();if(a.dir!=="rtl"){const xe=A.left-E.left,Se=R.left-xe,I=S.left-Se,ae=S.width+I,pe=Math.max(ae,E.width),z=window.innerWidth-En,q=rd(Se,[En,Math.max(En,z-pe)]);l.style.minWidth=ae+"px",l.style.left=q+"px"}else{const xe=E.right-A.right,Se=window.innerWidth-R.right-xe,I=window.innerWidth-S.right-Se,ae=S.width+I,pe=Math.max(ae,E.width),z=window.innerWidth-En,q=rd(Se,[En,Math.max(En,z-pe)]);l.style.minWidth=ae+"px",l.style.right=q+"px"}const W=h(),V=window.innerHeight-En*2,O=g.scrollHeight,B=window.getComputedStyle(d),Y=parseInt(B.borderTopWidth,10),H=parseInt(B.paddingTop,10),_=parseInt(B.borderBottomWidth,10),C=parseInt(B.paddingBottom,10),T=Y+H+O+C+_,$=Math.min(b.offsetHeight*5,T),U=window.getComputedStyle(g),fe=parseInt(U.paddingTop,10),Te=parseInt(U.paddingBottom,10),$e=S.top+S.height/2-En,pt=V-$e,ze=b.offsetHeight/2,te=b.offsetTop+ze,K=Y+H+te,ce=T-K;if(K<=$e){const xe=W.length>0&&b===W[W.length-1].ref.current;l.style.bottom="0px";const Se=d.clientHeight-g.offsetTop-g.offsetHeight,I=Math.max(pt,ze+(xe?Te:0)+Se+_),ae=K+I;l.style.height=ae+"px"}else{const xe=W.length>0&&b===W[0].ref.current;l.style.top="0px";const I=Math.max($e,Y+g.offsetTop+(xe?fe:0)+ze)+ce;l.style.height=I+"px",g.scrollTop=K-$e+g.offsetTop}l.style.margin=`${En}px 0`,l.style.minHeight=$+"px",l.style.maxHeight=V+"px",n==null||n(),requestAnimationFrame(()=>p.current=!0)}},[h,a.trigger,a.valueNode,l,d,g,b,x,a.dir,n]);or(()=>w(),[w]);const[j,N]=m.useState();or(()=>{d&&N(window.getComputedStyle(d).zIndex)},[d]);const P=m.useCallback(S=>{S&&v.current===!0&&(w(),y==null||y(),v.current=!1)},[w,y]);return s.jsx(v8,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:P,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:s.jsx(ge.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});IT.displayName=x8;var y8="SelectPopperPosition",dx=m.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:i=En,...a}=e,o=hm(r);return s.jsx(Bh,{...o,...a,ref:t,align:n,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});dx.displayName=y8;var[v8,Mv]=Sl(Aa,{}),ux="SelectViewport",LT=m.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...i}=e,a=Gi(ux,r),o=Mv(ux,r),l=De(t,a.onViewportChange),c=m.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),s.jsx(um.Slot,{scope:r,children:s.jsx(ge.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Q(i.onScroll,d=>{const u=d.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const p=Math.abs(c.current-u.scrollTop);if(p>0){const v=window.innerHeight-En*2,g=parseFloat(f.style.minHeight),b=parseFloat(f.style.height),x=Math.max(g,b);if(x<v){const y=x+p,w=Math.min(v,y),j=y-w;f.style.height=w+"px",f.style.bottom==="0px"&&(u.scrollTop=j>0?j:0,f.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});LT.displayName=ux;var VT="SelectGroup",[w8,b8]=Sl(VT),j8=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=bn();return s.jsx(w8,{scope:r,id:i,children:s.jsx(ge.div,{role:"group","aria-labelledby":i,...n,ref:t})})});j8.displayName=VT;var $T="SelectLabel",zT=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=b8($T,r);return s.jsx(ge.div,{id:i.id,...n,ref:t})});zT.displayName=$T;var Wf="SelectItem",[N8,BT]=Sl(Wf),WT=m.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:i=!1,textValue:a,...o}=e,l=qi(Wf,r),c=Gi(Wf,r),d=l.value===n,[u,f]=m.useState(a??""),[h,p]=m.useState(!1),v=De(t,y=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,y,n,i)}),g=bn(),b=m.useRef("touch"),x=()=>{i||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(N8,{scope:r,value:n,disabled:i,textId:g,isSelected:d,onItemTextChange:m.useCallback(y=>{f(w=>w||((y==null?void 0:y.textContent)??"").trim())},[]),children:s.jsx(um.ItemSlot,{scope:r,value:n,disabled:i,textValue:u,children:s.jsx(ge.div,{role:"option","aria-labelledby":g,"data-highlighted":h?"":void 0,"aria-selected":d&&h,"data-state":d?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:v,onFocus:Q(o.onFocus,()=>p(!0)),onBlur:Q(o.onBlur,()=>p(!1)),onClick:Q(o.onClick,()=>{b.current!=="mouse"&&x()}),onPointerUp:Q(o.onPointerUp,()=>{b.current==="mouse"&&x()}),onPointerDown:Q(o.onPointerDown,y=>{b.current=y.pointerType}),onPointerMove:Q(o.onPointerMove,y=>{var w;b.current=y.pointerType,i?(w=c.onItemLeave)==null||w.call(c):b.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Q(o.onPointerLeave,y=>{var w;y.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:Q(o.onKeyDown,y=>{var j;((j=c.searchRef)==null?void 0:j.current)!==""&&y.key===" "||(l8.includes(y.key)&&x(),y.key===" "&&y.preventDefault())})})})})});WT.displayName=Wf;var sc="SelectItemText",UT=m.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:i,...a}=e,o=qi(sc,r),l=Gi(sc,r),c=BT(sc,r),d=f8(sc,r),[u,f]=m.useState(null),h=De(t,x=>f(x),c.onItemTextChange,x=>{var y;return(y=l.itemTextRefCallback)==null?void 0:y.call(l,x,c.value,c.disabled)}),p=u==null?void 0:u.textContent,v=m.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:g,onNativeOptionRemove:b}=d;return or(()=>(g(v),()=>b(v)),[g,b,v]),s.jsxs(s.Fragment,{children:[s.jsx(ge.span,{id:c.textId,...a,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Ki.createPortal(a.children,o.valueNode):null]})});UT.displayName=sc;var HT="SelectItemIndicator",KT=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return BT(HT,r).isSelected?s.jsx(ge.span,{"aria-hidden":!0,...n,ref:t}):null});KT.displayName=HT;var fx="SelectScrollUpButton",YT=m.forwardRef((e,t)=>{const r=Gi(fx,e.__scopeSelect),n=Mv(fx,e.__scopeSelect),[i,a]=m.useState(!1),o=De(t,n.onScrollButtonChange);return or(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollTop>0;a(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),i?s.jsx(GT,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});YT.displayName=fx;var hx="SelectScrollDownButton",qT=m.forwardRef((e,t)=>{const r=Gi(hx,e.__scopeSelect),n=Mv(hx,e.__scopeSelect),[i,a]=m.useState(!1),o=De(t,n.onScrollButtonChange);return or(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<d;a(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),i?s.jsx(GT,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});qT.displayName=hx;var GT=m.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...i}=e,a=Gi("SelectScrollButton",r),o=m.useRef(null),l=fm(r),c=m.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return m.useEffect(()=>()=>c(),[c]),or(()=>{var u;const d=l().find(f=>f.ref.current===document.activeElement);(u=d==null?void 0:d.ref.current)==null||u.scrollIntoView({block:"nearest"})},[l]),s.jsx(ge.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:Q(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:Q(i.onPointerMove,()=>{var d;(d=a.onItemLeave)==null||d.call(a),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:Q(i.onPointerLeave,()=>{c()})})}),k8="SelectSeparator",QT=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return s.jsx(ge.div,{"aria-hidden":!0,...n,ref:t})});QT.displayName=k8;var mx="SelectArrow",S8=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=hm(r),a=qi(mx,r),o=Gi(mx,r);return a.open&&o.position==="popper"?s.jsx(Wh,{...i,...n,ref:t}):null});S8.displayName=mx;function ZT(e){return e===""||e===void 0}var XT=m.forwardRef((e,t)=>{const{value:r,...n}=e,i=m.useRef(null),a=De(t,i),o=dm(r);return m.useEffect(()=>{const l=i.current,c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==r&&u){const f=new Event("change",{bubbles:!0});u.call(l,r),l.dispatchEvent(f)}},[o,r]),s.jsx(Md,{asChild:!0,children:s.jsx("select",{...n,ref:a,defaultValue:r})})});XT.displayName="BubbleSelect";function JT(e){const t=Tt(e),r=m.useRef(""),n=m.useRef(0),i=m.useCallback(o=>{const l=r.current+o;t(l),function c(d){r.current=d,window.clearTimeout(n.current),d!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),a=m.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,i,a]}function eE(e,t,r){const i=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let o=C8(e,Math.max(a,0));i.length===1&&(o=o.filter(d=>d!==r));const c=o.find(d=>d.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==r?c:void 0}function C8(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var P8=PT,tE=ET,T8=DT,E8=MT,_8=AT,rE=RT,D8=LT,nE=zT,sE=WT,M8=UT,A8=KT,iE=YT,aE=qT,oE=QT;const tn=P8,rn=T8,$r=m.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(tE,{ref:n,className:re("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,s.jsx(E8,{asChild:!0,children:s.jsx(So,{className:"h-4 w-4 opacity-50"})})]}));$r.displayName=tE.displayName;const lE=m.forwardRef(({className:e,...t},r)=>s.jsx(iE,{ref:r,className:re("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(Af,{className:"h-4 w-4"})}));lE.displayName=iE.displayName;const cE=m.forwardRef(({className:e,...t},r)=>s.jsx(aE,{ref:r,className:re("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(So,{className:"h-4 w-4"})}));cE.displayName=aE.displayName;const zr=m.forwardRef(({className:e,children:t,position:r="popper",...n},i)=>s.jsx(_8,{children:s.jsxs(rE,{ref:i,className:re("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[s.jsx(lE,{}),s.jsx(D8,{className:re("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(cE,{})]})}));zr.displayName=rE.displayName;const R8=m.forwardRef(({className:e,...t},r)=>s.jsx(nE,{ref:r,className:re("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));R8.displayName=nE.displayName;const we=m.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(sE,{ref:n,className:re("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(A8,{children:s.jsx(Rd,{className:"h-4 w-4"})})}),s.jsx(M8,{children:t})]}));we.displayName=sE.displayName;const O8=m.forwardRef(({className:e,...t},r)=>s.jsx(oE,{ref:r,className:re("-mx-1 my-1 h-px bg-muted",e),...t}));O8.displayName=oE.displayName;const F8={sm:"w-8 h-8 text-sm",md:"w-12 h-12 text-lg",lg:"w-16 h-16 text-xl",xl:"w-20 h-20 text-2xl"},gr=({src:e,alt:t="Avatar",size:r="md",className:n,fallback:i})=>{const a=l=>l.startsWith("data:")||l.startsWith("http")||l.startsWith("/"),o=()=>e?a(e)?s.jsx("img",{src:e,alt:t,className:"w-full h-full object-cover",style:{color:"var(--foreground)"}}):s.jsx("span",{className:"text-base",style:{color:"var(--foreground)"},children:e}):i?s.jsx("span",{className:"font-bold",style:{color:"var(--foreground)"},children:i.charAt(0).toUpperCase()}):s.jsx(en,{className:"h-1/2 w-1/2",style:{color:"var(--foreground)",opacity:"0.7"}});return s.jsx("div",{className:re("rounded-full bg-card border-2 border-border flex items-center justify-center overflow-hidden shadow-sm",F8[r],n),children:o()})},I8=({isOpen:e,onClose:t,tripId:r,currentUserId:n})=>{var N,P,S,E,R,A,W,V,O,B,Y,H;const{toast:i}=vt(),[a,o]=m.useState(""),[l,c]=m.useState(""),[d,u]=m.useState([]),[f,h]=m.useState("food"),[p,v]=m.useState(n),{data:g,isLoading:b}=kt({queryKey:[`/api/trips/${r}/members`],enabled:e&&!!r});m.useEffect(()=>{e&&n&&d.length===0&&u([n])},[e,n,d.length]);const x=Ae({mutationFn:async _=>(await je("POST",`/api/trips/${r}/expenses`,_)).json(),onSuccess:()=>{et.invalidateQueries({queryKey:[`/api/trips/${r}/expenses`]}),i({title:"Expense added",description:"The expense has been added successfully"}),y(),t()},onError:()=>{i({title:"Error adding expense",description:"There was an error adding your expense. Please try again.",variant:"destructive"})}}),y=()=>{o(""),c(""),u([]),h("food"),v(n)},w=()=>{if(!a.trim()||!l.trim()||d.length===0||!p){i({title:"Missing information",description:"Please fill in all required fields",variant:"destructive"});return}const _={description:a,amount:parseFloat(l),paidBy:p,addedBy:n,participants:d,category:f};x.mutate(_)},j=_=>{d.includes(_)?u(d.filter(C=>C!==_)):u([...d,_])};return s.jsx(xt,{open:e,onOpenChange:t,children:s.jsxs(ut,{className:"sm:max-w-md max-h-[90vh] overflow-y-auto",children:[s.jsxs(ft,{children:[s.jsx(ht,{children:"Add Shared Expense"}),s.jsx(qt,{children:"Enter expense details and select who to split with. Each participant will pay an equal share."})]}),s.jsxs("div",{className:"grid gap-4 py-3",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsx(G,{htmlFor:"description",children:"Description"}),s.jsx(me,{id:"description",placeholder:"e.g., Dinner at seafood restaurant",value:a,onChange:_=>o(_.target.value)})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(G,{htmlFor:"amount",children:"Amount"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx("span",{className:"text-gray-500",children:"$"})}),s.jsx(me,{id:"amount",type:"number",placeholder:"0.00",step:"0.01",className:"pl-8",value:l,onChange:_=>c(_.target.value)})]})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(G,{htmlFor:"category",children:"Category"}),s.jsxs(tn,{value:f,onValueChange:h,children:[s.jsx($r,{id:"category",children:s.jsx(rn,{placeholder:"Select a category"})}),s.jsxs(zr,{children:[s.jsx(we,{value:"food",children:"Food & Drinks"}),s.jsx(we,{value:"accommodation",children:"Accommodation"}),s.jsx(we,{value:"transportation",children:"Transportation"}),s.jsx(we,{value:"activities",children:"Activities & Entertainment"}),s.jsx(we,{value:"shopping",children:"Shopping"}),s.jsx(we,{value:"other",children:"Other"})]})]})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(G,{htmlFor:"paidBy",children:"Paid By"}),s.jsxs(tn,{value:p.toString(),onValueChange:_=>v(parseInt(_)),children:[s.jsx($r,{id:"paidBy",children:s.jsx(rn,{children:p===n?`Me (${((P=(N=g==null?void 0:g.find(_=>{var C;return((C=_.user)==null?void 0:C.id)===n}))==null?void 0:N.user)==null?void 0:P.displayName)||"You"})`:((E=(S=g==null?void 0:g.find(_=>{var C;return((C=_.user)==null?void 0:C.id)===p}))==null?void 0:S.user)==null?void 0:E.displayName)||"Select who paid"})}),s.jsxs(zr,{children:[s.jsxs(we,{value:n.toString(),children:["Me (",((A=(R=g==null?void 0:g.find(_=>{var C;return((C=_.user)==null?void 0:C.id)===n}))==null?void 0:R.user)==null?void 0:A.displayName)||"You",")"]}),g&&g.filter(_=>_.user&&_.user.id!==n).map(_=>{var $,U;const C=(($=_.user)==null?void 0:$.id)||0,T=((U=_.user)==null?void 0:U.displayName)||"Unknown";return s.jsx(we,{value:C.toString(),children:T},`payer-${C}`)})]})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"You can add expenses paid by any trip member."})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(G,{children:"Split Between"}),b?s.jsxs("div",{className:"flex items-center space-x-2 py-2",children:[s.jsx(Pr,{className:"h-4 w-4 animate-spin text-primary"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"Loading trip members..."})]}):s.jsxs("div",{className:"space-y-2 mt-1",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(td,{id:`split-user-${n}`,checked:d.includes(n),onCheckedChange:()=>j(n)}),s.jsxs(G,{htmlFor:`split-user-${n}`,className:"flex items-center",children:[s.jsx(gr,{src:((V=(W=g==null?void 0:g.find(_=>{var C;return((C=_.user)==null?void 0:C.id)===n}))==null?void 0:W.user)==null?void 0:V.avatar)??void 0,fallback:((B=(O=g==null?void 0:g.find(_=>{var C;return((C=_.user)==null?void 0:C.id)===n}))==null?void 0:O.user)==null?void 0:B.displayName)??void 0,size:"sm",className:"mr-2 w-5 h-5"}),"Me (",((H=(Y=g==null?void 0:g.find(_=>{var C;return((C=_.user)==null?void 0:C.id)===n}))==null?void 0:Y.user)==null?void 0:H.displayName)||"You",")"]})]}),g&&g.filter(_=>_.user&&_.user.id!==n).map((_,C)=>{var U,fe,Te,$e;const T=((U=_.user)==null?void 0:U.id)||0,$=((fe=_.user)==null?void 0:fe.displayName)||"Unknown";return $.charAt(0),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(td,{id:`split-user-${T}`,checked:d.includes(T),onCheckedChange:()=>j(T)}),s.jsxs(G,{htmlFor:`split-user-${T}`,className:"flex items-center",children:[s.jsx(gr,{src:((Te=_.user)==null?void 0:Te.avatar)??void 0,fallback:(($e=_.user)==null?void 0:$e.displayName)??void 0,size:"sm",className:"mr-2 w-5 h-5"}),$]})]},`split-member-${T}`)}),g&&g.length<=1&&s.jsx("div",{className:"text-sm text-muted-foreground italic",children:"No other trip members yet. Invite friends to join your trip!"})]}),l&&parseFloat(l)>0&&d.length>0&&s.jsxs("div",{className:"mt-2 p-2 bg-muted rounded-md",children:[s.jsx("p",{className:"text-sm font-medium",children:"Split preview:"}),s.jsxs("p",{className:"text-sm",children:["$",(parseFloat(l)/d.length).toFixed(2)," per person"]})]})]})]}),s.jsxs($t,{className:"flex flex-col sm:flex-row gap-2 sm:gap-0",children:[s.jsx(F,{variant:"outline",onClick:t,className:"w-full sm:w-auto",children:"Cancel"}),s.jsx(F,{onClick:w,disabled:x.isPending,className:"bg-blue-600 hover:bg-blue-700 text-white dark:text-white font-medium shadow-md w-full sm:w-auto",children:x.isPending?"Adding...":s.jsxs("span",{className:"flex items-center justify-center",children:[s.jsx(Xt,{className:"h-4 w-4 mr-2"}),s.jsx("span",{children:"Add Group Expense"})]})})]})]})})},L8=({isOpen:e,onClose:t,tripId:r,expense:n,currentUserId:i})=>{var N,P,S,E,R,A,W,V,O,B,Y,H;const{toast:a}=vt(),[o,l]=m.useState(""),[c,d]=m.useState(""),[u,f]=m.useState([]),[h,p]=m.useState("food"),[v,g]=m.useState(i),{data:b,isLoading:x}=kt({queryKey:[`/api/trips/${r}/members`],enabled:e&&!!r});m.useEffect(()=>{e&&n&&(l(n.description),d(n.amount.toString()),p(n.category||"other"),g(n.paidBy),n.participants&&n.participants.length>0?f(n.participants.map(_=>_.userId)):f([i]))},[e,n,i]);const y=Ae({mutationFn:async _=>(await je("PATCH",`/api/expenses/${n==null?void 0:n.id}`,_)).json(),onSuccess:()=>{et.invalidateQueries({queryKey:[`/api/trips/${r}/expenses`]}),a({title:"Expense updated",description:"The expense has been updated successfully"}),t()},onError:()=>{a({title:"Error updating expense",description:"There was an error updating your expense. Please try again.",variant:"destructive"})}}),w=()=>{if(!o.trim()||!c.trim()||u.length===0||!v){a({title:"Missing information",description:"Please fill in all required fields",variant:"destructive"});return}const _={description:o,amount:parseFloat(c),participants:u,category:h,paidBy:v};y.mutate(_)},j=_=>{u.includes(_)?f(u.filter(C=>C!==_)):f([...u,_])};return s.jsx(xt,{open:e,onOpenChange:t,children:s.jsxs(ut,{className:"sm:max-w-md",children:[s.jsxs(ft,{children:[s.jsx(ht,{children:"Edit Expense"}),s.jsx(qt,{children:"Update expense details and participants. Each participant will pay an equal share."})]}),s.jsxs("div",{className:"grid gap-4 py-3",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsx(G,{htmlFor:"description",children:"Description"}),s.jsx(me,{id:"description",placeholder:"e.g., Dinner at seafood restaurant",value:o,onChange:_=>l(_.target.value)})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(G,{htmlFor:"amount",children:"Amount"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx("span",{className:"text-gray-500",children:"$"})}),s.jsx(me,{id:"amount",type:"number",placeholder:"0.00",step:"0.01",className:"pl-8",value:c,onChange:_=>d(_.target.value)})]})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(G,{htmlFor:"category",children:"Category"}),s.jsxs(tn,{value:h,onValueChange:p,children:[s.jsx($r,{id:"category",children:s.jsx(rn,{placeholder:"Select a category"})}),s.jsxs(zr,{children:[s.jsx(we,{value:"food",children:"Food & Drinks"}),s.jsx(we,{value:"accommodation",children:"Accommodation"}),s.jsx(we,{value:"transportation",children:"Transportation"}),s.jsx(we,{value:"activities",children:"Activities & Entertainment"}),s.jsx(we,{value:"shopping",children:"Shopping"}),s.jsx(we,{value:"other",children:"Other"})]})]})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(G,{htmlFor:"paidBy",children:"Paid By"}),s.jsxs(tn,{value:v.toString(),onValueChange:_=>g(parseInt(_)),children:[s.jsx($r,{id:"paidBy",children:s.jsx(rn,{children:v===i?`Me (${((P=(N=b==null?void 0:b.find(_=>{var C;return((C=_.user)==null?void 0:C.id)===i}))==null?void 0:N.user)==null?void 0:P.displayName)||"You"})`:((E=(S=b==null?void 0:b.find(_=>{var C;return((C=_.user)==null?void 0:C.id)===v}))==null?void 0:S.user)==null?void 0:E.displayName)||"Select who paid"})}),s.jsxs(zr,{children:[s.jsxs(we,{value:i.toString(),children:["Me (",((A=(R=b==null?void 0:b.find(_=>{var C;return((C=_.user)==null?void 0:C.id)===i}))==null?void 0:R.user)==null?void 0:A.displayName)||"You",")"]}),b&&b.filter(_=>_.user&&_.user.id!==i).map(_=>{var $,U;const C=(($=_.user)==null?void 0:$.id)||0,T=((U=_.user)==null?void 0:U.displayName)||"Unknown";return s.jsx(we,{value:C.toString(),children:T},`payer-${C}`)})]})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"You can update expenses paid by any trip member."})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(G,{children:"Split Between"}),x?s.jsxs("div",{className:"flex items-center space-x-2 py-2",children:[s.jsx(Pr,{className:"h-4 w-4 animate-spin text-primary"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"Loading trip members..."})]}):s.jsxs("div",{className:"space-y-2 mt-1",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(td,{id:`split-user-${i}`,checked:u.includes(i),onCheckedChange:()=>j(i)}),s.jsxs(G,{htmlFor:`split-user-${i}`,className:"flex items-center",children:[s.jsx(gr,{src:((V=(W=b==null?void 0:b.find(_=>{var C;return((C=_.user)==null?void 0:C.id)===i}))==null?void 0:W.user)==null?void 0:V.avatar)??void 0,fallback:((B=(O=b==null?void 0:b.find(_=>{var C;return((C=_.user)==null?void 0:C.id)===i}))==null?void 0:O.user)==null?void 0:B.displayName)??void 0,size:"sm",className:"mr-2 w-5 h-5"}),"Me (",((H=(Y=b==null?void 0:b.find(_=>{var C;return((C=_.user)==null?void 0:C.id)===i}))==null?void 0:Y.user)==null?void 0:H.displayName)||"You",")"]})]}),b&&b.filter(_=>_.user&&_.user.id!==i).map((_,C)=>{var U,fe,Te,$e;const T=((U=_.user)==null?void 0:U.id)||0,$=((fe=_.user)==null?void 0:fe.displayName)||"Unknown";return $.charAt(0),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(td,{id:`split-user-${T}`,checked:u.includes(T),onCheckedChange:()=>j(T)}),s.jsxs(G,{htmlFor:`split-user-${T}`,className:"flex items-center",children:[s.jsx(gr,{src:((Te=_.user)==null?void 0:Te.avatar)??void 0,fallback:(($e=_.user)==null?void 0:$e.displayName)??void 0,size:"sm",className:"mr-2 w-5 h-5"}),$]})]},`split-member-${T}`)}),b&&b.length<=1&&s.jsx("div",{className:"text-sm text-muted-foreground italic",children:"No other trip members yet. Invite friends to join your trip!"})]}),c&&parseFloat(c)>0&&u.length>0&&s.jsxs("div",{className:"mt-2 p-2 bg-muted rounded-md",children:[s.jsx("p",{className:"text-sm font-medium",children:"Split preview:"}),s.jsxs("p",{className:"text-sm",children:["$",(parseFloat(c)/u.length).toFixed(2)," per person"]})]})]})]}),s.jsxs($t,{children:[s.jsx(F,{variant:"outline",onClick:t,children:"Cancel"}),s.jsx(F,{onClick:w,disabled:y.isPending,className:"bg-blue-600 hover:bg-blue-700 text-white dark:text-white font-medium shadow-md",children:y.isPending?"Updating...":"Update Expense"})]})]})})},V8=({isOpen:e,onClose:t,tripId:r,currentUserId:n})=>{const{toast:i}=vt(),[a,o]=m.useState(""),[l,c]=m.useState(""),[d,u]=m.useState("other"),f=Ae({mutationFn:async v=>(await je("POST",`/api/trips/${r}/expenses`,v)).json(),onSuccess:()=>{et.invalidateQueries({queryKey:[`/api/trips/${r}/expenses`]}),i({title:"Personal expense added",description:"Your personal expense has been added successfully"}),t(),p()},onError:()=>{i({title:"Error adding expense",description:"There was an error adding your expense. Please try again.",variant:"destructive"})}}),h=()=>{if(!a.trim()||!l.trim()){i({title:"Missing information",description:"Please fill in all required fields",variant:"destructive"});return}const v={description:a,amount:parseFloat(l),paidBy:n,addedBy:n,category:d,isPersonal:!0,participants:[]};f.mutate(v)},p=()=>{o(""),c(""),u("other")};return s.jsx(xt,{open:e,onOpenChange:t,children:s.jsxs(ut,{className:"sm:max-w-md",children:[s.jsxs(ft,{children:[s.jsx(ht,{children:"Add Personal Expense"}),s.jsx(qt,{children:"Add a personal expense that is just for you and won't be split with the group."})]}),s.jsxs("div",{className:"grid gap-4 py-3",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsx(G,{htmlFor:"description",children:"Description"}),s.jsx(me,{id:"description",placeholder:"e.g., Personal shopping",value:a,onChange:v=>o(v.target.value)})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(G,{htmlFor:"amount",children:"Amount"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx("span",{className:"text-gray-500",children:"$"})}),s.jsx(me,{id:"amount",type:"number",placeholder:"0.00",step:"0.01",className:"pl-8",value:l,onChange:v=>c(v.target.value)})]})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(G,{htmlFor:"category",children:"Category"}),s.jsxs(tn,{value:d,onValueChange:u,children:[s.jsx($r,{id:"category",children:s.jsx(rn,{placeholder:"Select a category"})}),s.jsxs(zr,{children:[s.jsx(we,{value:"food",children:"Food & Drinks"}),s.jsx(we,{value:"accommodation",children:"Accommodation"}),s.jsx(we,{value:"transportation",children:"Transportation"}),s.jsx(we,{value:"activities",children:"Activities & Entertainment"}),s.jsx(we,{value:"shopping",children:"Shopping"}),s.jsx(we,{value:"other",children:"Other"})]})]})]}),s.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-md p-3 mt-2",children:s.jsxs("p",{className:"text-sm text-amber-800",children:[s.jsx("strong",{children:"Note:"})," Personal expenses are only for you and won't affect group expense calculations."]})})]}),s.jsxs($t,{className:"flex flex-col sm:flex-row gap-2 sm:gap-0",children:[s.jsx(F,{variant:"outline",onClick:t,className:"w-full sm:w-auto",children:"Cancel"}),s.jsx(F,{onClick:h,disabled:f.isPending,className:"bg-blue-600 hover:bg-blue-700 text-white dark:text-white font-medium shadow-md w-full sm:w-auto",children:f.isPending?"Adding...":s.jsxs("span",{className:"flex items-center justify-center",children:[s.jsx(Bt,{className:"h-4 w-4 mr-2"}),s.jsx("span",{className:"hidden xs:inline",children:"Add Personal Expense"}),s.jsx("span",{className:"xs:hidden",children:"Add Expense"})]})})]})]})})},$8=({tripId:e,currentUserId:t})=>{const[r,n]=m.useState(!1),[i,a]=m.useState(!1),[o,l]=m.useState(!1),[c,d]=m.useState(!1),[u,f]=m.useState(!1),[h,p]=m.useState(null),[v,g]=m.useState(""),[b,x]=m.useState(null),[y,w]=m.useState("all"),[j,N]=m.useState(null),{toast:P}=vt(),{data:S,isLoading:E}=kt({queryKey:[`/api/trips/${e}/expenses`],enabled:!!e}),R=Ae({mutationFn:async z=>{await je("DELETE",`/api/expenses/${z}`)},onSuccess:()=>{P({title:"Expense deleted",description:"The expense has been successfully deleted."}),et.invalidateQueries({queryKey:[`/api/trips/${e}/expenses`]}),N(null)},onError:z=>{P({title:"Error",description:`Failed to delete expense: ${z.message}`,variant:"destructive"}),N(null)}}),{data:A=[]}=kt({queryKey:[`/api/trips/${e}/debt-settlements`],enabled:!!e}),W=Ae({mutationFn:async z=>je("POST",`/api/trips/${e}/debt-settlements`,z),onSuccess:()=>{P({title:"Debt marked as settled",description:"The debt settlement has been recorded."}),et.invalidateQueries({queryKey:[`/api/trips/${e}/debt-settlements`]}),et.invalidateQueries({queryKey:[`/api/trips/${e}/expenses`]}),f(!1),p(null),g("")},onError:z=>{P({title:"Error",description:`Failed to record settlement: ${z.message}`,variant:"destructive"})}}),V=Ae({mutationFn:async z=>je("DELETE",`/api/debt-settlements/${z}`),onSuccess:()=>{P({title:"Settlement undone",description:"The debt settlement has been removed."}),et.invalidateQueries({queryKey:[`/api/trips/${e}/debt-settlements`]}),et.invalidateQueries({queryKey:[`/api/trips/${e}/expenses`]})},onError:z=>{P({title:"Error",description:`Failed to undo settlement: ${z.message}`,variant:"destructive"})}}),{data:O,isLoading:B}=kt({queryKey:[`/api/trips/${e}/members`],enabled:!!e}),Y=z=>{var Fe;if(z===t)return"Me";const q=O==null?void 0:O.find(Ve=>{var Qe;return((Qe=Ve.user)==null?void 0:Qe.id)===z});return((Fe=q==null?void 0:q.user)==null?void 0:Fe.displayName)||"Unknown"},H=z=>z&&{food:"Food & Drinks",accommodation:"Accommodation",transportation:"Transportation",activities:"Activities & Entertainment",shopping:"Shopping",other:"Other"}[z]||"Other",_=z=>z&&{food:"bg-green-100 text-green-800",accommodation:"bg-blue-100 text-blue-800",transportation:"bg-purple-100 text-purple-800",activities:"bg-amber-100 text-amber-800",shopping:"bg-pink-100 text-pink-800",other:"bg-gray-100 text-gray-800"}[z]||"bg-gray-100 text-gray-800",C=()=>{if(!S)return[];switch(console.log("ExpenseList - Raw expenses data:",S),console.log("ExpenseList - Active tab:",y),console.log("ExpenseList - Current user ID:",t),y){case"paid-by-me":return S.filter(z=>z.paidBy===t&&!z.isPersonal);case"i-owe":return S.filter(z=>z.paidBy!==t&&z.participants.some(q=>q.userId===t)&&!z.isPersonal);case"personal-expenses":return S.filter(z=>z.isPersonal===!0&&z.paidBy===t);default:return S.filter(z=>!z.isPersonal)}},T=()=>{if(!S)return new Map;const z=new Map;return O==null||O.forEach(q=>{q.user&&q.user.id!==t&&z.set(q.user.id,{owed:0,owes:0,net:0,displayName:q.user.displayName||"Unknown"})}),S.forEach(q=>{if(q.isPersonal)return;const Fe=q.participants.length;if(Fe<=1)return;const Ve=q.amount/Fe;if(q.paidBy===t)q.participants.forEach(Qe=>{if(Qe.userId!==t){const tt=z.get(Qe.userId);tt&&(tt.owed+=Ve,tt.net+=Ve,z.set(Qe.userId,tt))}});else if(q.participants.some(Qe=>Qe.userId===t)){const Qe=z.get(q.paidBy);Qe&&(Qe.owes+=Ve,Qe.net-=Ve,z.set(q.paidBy,Qe))}}),z},$=()=>S?S.reduce((z,q)=>{if(q.paidBy===t){const Fe=q.participants.length;if(Fe>1){const Ve=q.amount/Fe,Qe=q.amount-Ve;return z+Qe}}return z},0):0,U=()=>S?S.reduce((z,q)=>{if(q.paidBy!==t&&q.participants.some(Fe=>Fe.userId===t)){const Fe=q.participants.length,Ve=q.amount/Fe;return z+Ve}return z},0):0,fe=()=>S?S.reduce((z,q)=>q.isPersonal?z:z+q.amount,0):0,Te=()=>S?S.reduce((z,q)=>q.paidBy===t?z+q.amount:z,0):0,$e=z=>{const q=new Date(z);return new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"numeric"}).format(q)},pt=z=>z.amount/z.participants.length,ze=z=>{const q=pt(z);return z.participants.some(Ve=>Ve.userId===t)?z.paidBy===t?z.participants.length>1?{amount:z.amount-q,isOwed:!0}:{amount:0,isOwed:!1}:{amount:q,isOwed:!1}:{amount:0,isOwed:!1}},te=(z,q,Fe)=>{if(!A||A.length===0)return!1;const Ve=A.filter(tt=>tt.owedById===z&&tt.owedToId===q||tt.owedById===q&&tt.owedToId===z);return Ve.length===0?!1:Ve.reduce((tt,k)=>tt+k.amount,0)>=Math.abs(Fe)},K=(z,q)=>!A||A.length===0?[]:A.filter(Fe=>Fe.owedById===z&&Fe.owedToId===q||Fe.owedById===q&&Fe.owedToId===z);if(E||B)return s.jsx("div",{className:"flex justify-center items-center py-8",children:s.jsx(Pr,{className:"h-8 w-8 animate-spin text-primary"})});const ce=C(),ve=T(),xe=$(),Se=U(),I=xe-Se,ae=fe(),pe=Te();return s.jsxs("div",{className:"p-4 pb-20 min-h-0 h-full overflow-y-auto",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[s.jsxs(Ce,{className:"border border-green-100 dark:border-green-900 overflow-hidden",children:[s.jsx("div",{className:"absolute w-24 h-24 -right-8 -top-8 rounded-full bg-green-100 dark:bg-green-900/30 opacity-50"}),s.jsx(Ot,{className:"pb-2 relative",children:s.jsxs(Ft,{className:"text-base flex items-center",children:[s.jsx(Bt,{className:"h-4 w-4 text-green-600 dark:text-green-400 mr-2"}),s.jsx("span",{children:"Total you're owed"}),s.jsx(Re,{children:s.jsxs(Ie,{children:[s.jsx(Le,{asChild:!0,children:s.jsx("div",{className:"ml-1 cursor-help",children:s.jsx(rc,{className:"h-3.5 w-3.5 text-gray-400"})})}),s.jsx(Oe,{className:"max-w-xs",children:s.jsx("p",{children:"Money others owe you for group expenses you paid for"})})]})})]})}),s.jsx(Me,{className:"relative z-10",children:s.jsxs("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:["$",xe.toFixed(2)]})})]}),s.jsxs(Ce,{className:"border border-red-100 dark:border-red-900 overflow-hidden",children:[s.jsx("div",{className:"absolute w-24 h-24 -right-8 -top-8 rounded-full bg-red-100 dark:bg-red-900/30 opacity-50"}),s.jsx(Ot,{className:"pb-2 relative",children:s.jsxs(Ft,{className:"text-base flex items-center",children:[s.jsx(Bt,{className:"h-4 w-4 text-red-600 dark:text-red-400 mr-2"}),s.jsx("span",{children:"Total you owe"}),s.jsx(Re,{children:s.jsxs(Ie,{children:[s.jsx(Le,{asChild:!0,children:s.jsx("div",{className:"ml-1 cursor-help",children:s.jsx(rc,{className:"h-3.5 w-3.5 text-gray-400"})})}),s.jsx(Oe,{className:"max-w-xs",children:s.jsx("p",{children:"Money you owe others for your share of group expenses they paid for"})})]})})]})}),s.jsx(Me,{className:"relative z-10",children:s.jsxs("p",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:["$",Se.toFixed(2)]})})]}),s.jsxs(Ce,{className:`border ${I>=0?"border-green-100 dark:border-green-900":"border-red-100 dark:border-red-900"} overflow-hidden`,children:[s.jsx("div",{className:`absolute w-24 h-24 -right-8 -top-8 rounded-full ${I>=0?"bg-green-100 dark:bg-green-900/30":"bg-red-100 dark:bg-red-900/30"} opacity-50`}),s.jsx(Ot,{className:"pb-2 relative",children:s.jsxs(Ft,{className:"text-base flex items-center",children:[s.jsx(Bt,{className:`h-4 w-4 ${I>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"} mr-2`}),s.jsx("span",{children:"Net balance"}),s.jsx(Re,{children:s.jsxs(Ie,{children:[s.jsx(Le,{asChild:!0,children:s.jsx("div",{className:"ml-1 cursor-help",children:s.jsx(rc,{className:"h-3.5 w-3.5 text-gray-400"})})}),s.jsx(Oe,{className:"max-w-xs",children:s.jsx("p",{children:"The difference between what others owe you and what you owe others"})})]})})]})}),s.jsx(Me,{className:"relative z-10",children:s.jsxs("p",{className:`text-2xl font-bold ${I>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:["$",Math.abs(I).toFixed(2),s.jsx("span",{className:"ml-1 text-base",children:I>=0?"credit":"debt"})]})})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 gap-4",children:[s.jsxs("h2",{className:"text-2xl font-bold flex items-center",children:[s.jsx(Bt,{className:"h-6 w-6 mr-2 text-primary"}),"Expenses"]}),s.jsxs("div",{className:"flex flex-wrap gap-3",children:[s.jsx(Re,{children:s.jsxs(Ie,{children:[s.jsx(Le,{asChild:!0,children:s.jsxs(F,{onClick:()=>a(!0),variant:"outline",className:"flex items-center border-primary/30 dark:border-primary/20 shadow-sm",children:[s.jsx(Bt,{className:"h-4 w-4 mr-2 text-primary"}),s.jsx("span",{children:"Add Personal Expense"})]})}),s.jsx(Oe,{children:s.jsx("p",{children:"Track expenses that are just for you (not split with the group)"})})]})}),s.jsx(Re,{children:s.jsxs(Ie,{children:[s.jsx(Le,{asChild:!0,children:s.jsxs(F,{onClick:()=>n(!0),className:"bg-blue-600 hover:bg-blue-700 text-white dark:text-white font-medium flex items-center shadow-md",children:[s.jsx(Xt,{className:"h-4 w-4 mr-2"}),s.jsx("span",{children:"Add Group Expense"})]})}),s.jsx(Oe,{children:s.jsx("p",{children:"Add an expense to be split among group members"})})]})})]})]}),s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4",children:[s.jsx("div",{className:"w-full md:w-auto overflow-x-auto pb-2",children:s.jsx(_v,{defaultValue:"all",value:y,onValueChange:w,className:"mb-3 md:mb-0",children:s.jsxs(cm,{className:"grid grid-cols-4 bg-muted/60 dark:bg-muted/30 p-1 shadow-sm",children:[s.jsxs(ss,{value:"all",className:"flex items-center gap-1.5 data-[state=active]:bg-white dark:data-[state=active]:bg-gray-800 data-[state=active]:text-gray-900 dark:data-[state=active]:text-gray-100 relative overflow-hidden p-2 sm:p-3",children:[s.jsx(Xt,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden xs:inline",children:"All Group"}),s.jsx("span",{className:"xs:hidden",children:"All"}),S&&S.filter(z=>!z.isPersonal).length>0&&s.jsxs("span",{className:"absolute top-1 right-1 flex h-2 w-2",children:[s.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-primary/60 opacity-75"}),s.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-primary"})]})]}),s.jsxs(ss,{value:"paid-by-me",className:"flex items-center gap-1.5 data-[state=active]:bg-white dark:data-[state=active]:bg-gray-800 data-[state=active]:text-gray-900 dark:data-[state=active]:text-gray-100 relative overflow-hidden p-2 sm:p-3",children:[s.jsx(Bt,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden xs:inline",children:"Paid by me"}),s.jsx("span",{className:"xs:hidden",children:"My paid"}),S&&S.filter(z=>z.paidBy===t&&!z.isPersonal).length>0&&s.jsxs("span",{className:"absolute top-1 right-1 flex h-2 w-2",children:[s.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-primary/60 opacity-75"}),s.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-primary"})]})]}),s.jsxs(ss,{value:"personal-expenses",className:"flex items-center gap-1.5 data-[state=active]:bg-white dark:data-[state=active]:bg-gray-800 data-[state=active]:text-gray-900 dark:data-[state=active]:text-gray-100 relative overflow-hidden p-2 sm:p-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Bt,{className:"h-4 w-4"}),s.jsx("div",{className:"absolute -right-1 -bottom-1",children:s.jsx("div",{className:"h-2.5 w-2.5 bg-gray-200 dark:bg-gray-700 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-[8px] font-bold",children:"1"})})})]}),s.jsx("span",{className:"hidden xs:inline",children:"Personal"}),s.jsx("span",{className:"xs:hidden",children:"Mine"}),S&&S.filter(z=>z.isPersonal&&z.paidBy===t).length>0&&s.jsxs("span",{className:"absolute top-1 right-1 flex h-2 w-2",children:[s.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-primary/60 opacity-75"}),s.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-primary"})]})]}),s.jsxs(ss,{value:"i-owe",className:"flex items-center gap-1.5 data-[state=active]:bg-white dark:data-[state=active]:bg-gray-800 data-[state=active]:text-gray-900 dark:data-[state=active]:text-gray-100 relative overflow-hidden p-2 sm:p-3",children:[s.jsx(Bt,{className:"h-4 w-4"}),s.jsx("span",{children:"I owe"}),Se>0&&s.jsxs("span",{className:"absolute top-1 right-1 flex h-2 w-2",children:[s.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-500/60 opacity-75"}),s.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-red-500"})]})]})]})})}),s.jsx(Re,{children:s.jsxs(Ie,{children:[s.jsx(Le,{asChild:!0,children:s.jsxs(F,{variant:"outline",className:"flex items-center gap-2 bg-white dark:bg-gray-800 border-primary/20 shadow-sm hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-900 dark:text-gray-100",onClick:()=>d(!0),children:[s.jsx(oO,{className:"h-4 w-4 text-primary"}),s.jsx("span",{children:"Trip Statistics"})]})}),s.jsx(Oe,{children:s.jsx("p",{children:"View detailed spending statistics for this trip"})})]})})]}),y==="i-owe"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-3 text-foreground",children:"I Owe Others"}),s.jsxs("div",{className:"space-y-3",children:[Array.from(ve.entries()).filter(([z,q])=>q.net<0).sort((z,q)=>z[1].net-q[1].net).map(([z,q])=>{const Fe=Math.abs(q.net),Ve=te(t,z,Fe);return s.jsx(Ce,{className:`${Ve?"border-green-200 bg-green-50":"border-red-200 bg-red-50"}`,children:s.jsx(Me,{className:"py-4",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("p",{className:"font-medium text-lg",style:{color:"var(--foreground)"},children:["You owe ",q.displayName]}),Ve&&s.jsx(He,{className:"bg-green-100 text-green-800",children:"Settled"})]}),s.jsxs("p",{className:"text-sm mt-1",style:{color:"var(--foreground)",opacity:"0.7"},children:["$",Fe.toFixed(2),q.owed>0&&s.jsxs("span",{children:[" (after subtracting the $",q.owed.toFixed(2)," ",q.displayName," owes you)"]})]})]}),s.jsxs("div",{className:"flex flex-col items-end",children:[s.jsxs("p",{className:`text-xl font-bold ${Ve?"text-green-600":"text-red-600"}`,children:["$",Fe.toFixed(2)]}),Ve?s.jsxs(F,{variant:"outline",size:"sm",className:"mt-2 text-amber-600 border-amber-200 hover:bg-amber-50 hover:text-amber-700",onClick:()=>{const Qe=K(t,z);if(Qe.length>0){const tt=Qe.sort((k,D)=>new Date(D.settledAt).getTime()-new Date(k.settledAt).getTime())[0];V.mutate(tt.id)}},disabled:V.isPending,children:[V.isPending?s.jsx(Pr,{className:"h-3 w-3 animate-spin mr-1"}):s.jsx(Nb,{className:"h-3 w-3 mr-1"}),"Undo Settlement"]}):s.jsxs(F,{variant:"outline",size:"sm",className:"mt-2 text-green-600 border-green-200 hover:bg-green-50 hover:text-green-700",onClick:()=>{p({id:z,displayName:q.displayName,amount:Fe,isPayment:!0}),f(!0)},children:[s.jsx($l,{className:"h-4 w-4 mr-1"})," Mark as Paid"]})]})]})})},z)}),Array.from(ve.entries()).filter(([z,q])=>q.net<0).length===0&&s.jsx(Ce,{className:"border-green-200 bg-green-50",children:s.jsx(Me,{className:"py-6 text-center",children:s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx($l,{className:"h-8 w-8 text-green-600 mb-2"}),s.jsx("p",{className:"text-green-800 font-medium text-lg",children:"You're all settled up!"}),s.jsx("p",{className:"text-green-700 text-sm mt-1",children:"You don't owe anyone at the moment."})]})})})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-3 text-foreground",children:"Others Owe Me"}),s.jsxs("div",{className:"space-y-3",children:[Array.from(ve.entries()).filter(([z,q])=>q.net>0).sort((z,q)=>q[1].net-z[1].net).map(([z,q])=>{const Fe=q.net,Ve=te(z,t,Fe);return s.jsx(Ce,{className:`${Ve?"border-green-200 bg-green-50":"border-blue-200 bg-blue-50"}`,children:s.jsx(Me,{className:"py-4",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("p",{className:"font-medium text-lg",style:{color:"var(--foreground)"},children:[q.displayName," owes you"]}),Ve&&s.jsx(He,{className:"bg-green-100 text-green-800",children:"Settled"})]}),s.jsxs("p",{className:"text-sm mt-1",style:{color:"var(--foreground)",opacity:"0.7"},children:["$",Fe.toFixed(2),q.owes>0&&s.jsxs("span",{children:[" (after subtracting the $",q.owes.toFixed(2)," you owe ",q.displayName,")"]})]})]}),s.jsxs("div",{className:"flex flex-col items-end",children:[s.jsxs("p",{className:`text-xl font-bold ${Ve?"text-green-600":"text-blue-600"}`,children:["$",Fe.toFixed(2)]}),Ve?s.jsxs(F,{variant:"outline",size:"sm",className:"mt-2 text-amber-600 border-amber-200 hover:bg-amber-50 hover:text-amber-700",onClick:()=>{const Qe=K(t,z);if(Qe.length>0){const tt=Qe.sort((k,D)=>new Date(D.settledAt).getTime()-new Date(k.settledAt).getTime())[0];V.mutate(tt.id)}},disabled:V.isPending,children:[V.isPending?s.jsx(Pr,{className:"h-3 w-3 animate-spin mr-1"}):s.jsx(Nb,{className:"h-3 w-3 mr-1"}),"Undo Settlement"]}):s.jsxs(F,{variant:"outline",size:"sm",className:"mt-2 text-green-600 border-green-200 hover:bg-green-50 hover:text-green-700",onClick:()=>{p({id:z,displayName:q.displayName,amount:Fe,isPayment:!1}),f(!0)},children:[s.jsx($l,{className:"h-4 w-4 mr-1"})," Mark as Received"]})]})]})})},z)}),Array.from(ve.entries()).filter(([z,q])=>q.net>0).length===0&&s.jsx(Ce,{className:"border-gray-200 bg-gray-50",children:s.jsx(Me,{className:"py-4 text-center",children:s.jsx("p",{className:"text-gray-500",children:"No one owes you any money"})})})]})]})]}),y!=="i-owe"&&(ce.length===0?s.jsx(Ce,{className:"border border-gray-200 dark:border-gray-700 overflow-hidden",children:s.jsxs(Me,{className:"text-center py-12 px-4",children:[s.jsx("div",{className:"w-16 h-16 mx-auto bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mb-4",children:s.jsx(Bt,{className:"h-8 w-8 text-gray-400 dark:text-gray-500"})}),s.jsx("h3",{className:"text-xl font-medium mb-2",style:{color:"var(--foreground)"},children:"No expenses found"}),s.jsxs("p",{className:"mb-6 max-w-sm mx-auto",style:{color:"var(--foreground)",opacity:"0.8"},children:[y==="all"&&"You haven't added any group expenses yet.",y==="paid-by-me"&&"You haven't paid for any group expenses yet.",y==="personal-expenses"&&"You haven't added any personal expenses yet."]}),s.jsx("div",{className:"flex justify-center",children:s.jsxs(F,{onClick:()=>y==="personal-expenses"?a(!0):n(!0),className:"bg-blue-600 hover:bg-blue-700 text-white dark:text-white font-medium flex items-center shadow-md",children:[s.jsx(Vr,{className:"h-4 w-4 mr-2"}),s.jsx("span",{children:y==="personal-expenses"?"Add Personal Expense":"Add Group Expense"})]})})]})}):s.jsx("div",{className:"space-y-4",children:ce.map(z=>{const q=Y(z.paidBy),Fe=H(z.category),Ve=_(z.category),{amount:Qe,isOwed:tt}=ze(z),k=pt(z),D=z.isPersonal===!0;return s.jsxs(Ce,{className:`overflow-hidden hover:shadow-md transition-all ${D?"border-purple-200 dark:border-purple-900 bg-purple-50/50 dark:bg-purple-900/10":z.paidBy===t?"border-green-100 dark:border-green-900/50 bg-green-50/30 dark:bg-green-900/5":""}`,children:[s.jsxs(Ot,{className:"pb-2 relative",children:[s.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 -mt-8 -mr-8 rounded-full opacity-10 bg-gradient-to-br from-transparent to-gray-200 dark:to-gray-800"}),s.jsxs("div",{className:"flex justify-between items-start relative z-10",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(Ft,{className:"text-lg flex items-center",children:[D?s.jsx("div",{className:"h-6 w-6 rounded-full bg-purple-100 dark:bg-purple-900/20 flex items-center justify-center mr-2",children:s.jsx(Bt,{className:"h-3.5 w-3.5 text-purple-600 dark:text-purple-400"})}):s.jsx("div",{className:"h-6 w-6 rounded-full bg-blue-100 dark:bg-blue-900/20 flex items-center justify-center mr-2",children:s.jsx(Xt,{className:"h-3.5 w-3.5 text-blue-600 dark:text-blue-400"})}),s.jsx("span",{style:{color:"var(--foreground)"},children:z.description})]}),D&&s.jsx(He,{className:"bg-purple-100 dark:bg-purple-900/30 text-purple-800 dark:text-purple-300 border border-purple-200 dark:border-purple-800",children:"Personal"})]}),s.jsxs(Kr,{className:"flex items-center mt-1.5",style:{color:"var(--foreground)",opacity:"0.7"},children:[s.jsx("span",{className:"font-medium",style:{color:"var(--foreground)",opacity:"0.8"},children:q}),s.jsx("span",{className:"inline-block mx-1.5",children:""}),s.jsx("span",{children:$e(z.paidAt)})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Re,{children:s.jsxs(Ie,{children:[s.jsx(Le,{asChild:!0,children:s.jsx(He,{className:Ve+" border dark:border-opacity-30",children:Fe})}),s.jsx(Oe,{children:s.jsx("p",{children:"Expense category"})})]})}),s.jsxs(Jc,{children:[s.jsx(ed,{asChild:!0,children:s.jsxs(F,{variant:"ghost",size:"icon",className:"h-8 w-8 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 border border-transparent hover:border-gray-300 dark:hover:border-gray-600",children:[s.jsx(hO,{className:"h-4 w-4 text-gray-700 dark:text-gray-300"}),s.jsx("span",{className:"sr-only",children:"Open menu"})]})}),s.jsxs(rl,{align:"end",className:"w-40",children:[s.jsxs(dt,{onClick:()=>{x(z),l(!0)},className:"cursor-pointer flex items-center",children:[s.jsx(ca,{className:"h-4 w-4 mr-2 text-blue-500"}),s.jsx("span",{children:"Edit"})]}),s.jsxs(dt,{onClick:()=>N(z.id),className:"cursor-pointer text-red-600 focus:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 flex items-center",children:[s.jsx(Tr,{className:"h-4 w-4 mr-2"}),s.jsx("span",{children:"Delete"})]})]})]})]})]})]}),s.jsx(Me,{children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mt-2 py-2 border-t border-gray-100 dark:border-gray-800 gap-2",children:[s.jsx("div",{className:"w-full sm:w-auto",children:D?s.jsxs("div",{className:"flex items-center text-sm text-purple-800 dark:text-purple-400",children:[s.jsx(Bt,{className:"h-3.5 w-3.5 mr-1.5"}),s.jsx("span",{children:"Personal expense (not split with the group)"})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center text-sm mb-1 flex-wrap",style:{color:"var(--foreground)",opacity:"0.7"},children:[s.jsx(Xt,{className:"h-3.5 w-3.5 mr-1.5 flex-shrink-0"}),s.jsxs("span",{className:"break-words",children:[z.participants.length," ",z.participants.length===1?"person":"people","  $",k.toFixed(2)," per person"]})]}),Qe>0&&s.jsx("div",{className:`flex items-center text-sm mt-1 font-medium ${tt?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:tt?s.jsxs(s.Fragment,{children:[s.jsx($l,{className:"h-3.5 w-3.5 mr-1.5"}),s.jsxs("span",{children:["You are owed $",Qe.toFixed(2)]})]}):s.jsxs(s.Fragment,{children:[s.jsx(rc,{className:"h-3.5 w-3.5 mr-1.5"}),s.jsxs("span",{children:["You owe $",Qe.toFixed(2)," to ",q]})]})})]})}),s.jsxs("div",{className:"flex items-center justify-between sm:justify-end w-full sm:w-auto",children:[s.jsx("span",{className:"text-sm sm:hidden text-foreground font-medium",children:"Total:"}),s.jsxs("div",{className:"text-xl font-bold text-gray-900 dark:text-gray-100 bg-gray-50 dark:bg-gray-800 px-3 py-1.5 rounded-lg",children:["$",z.amount.toFixed(2)]})]})]})})]},z.id)})})),s.jsx(I8,{isOpen:r,onClose:()=>n(!1),tripId:e,currentUserId:t}),s.jsx(V8,{isOpen:i,onClose:()=>a(!1),tripId:e,currentUserId:t}),s.jsx(L8,{isOpen:o,onClose:()=>{l(!1),x(null)},tripId:e,expense:b,currentUserId:t}),s.jsx(xt,{open:c,onOpenChange:d,children:s.jsxs(ut,{className:"sm:max-w-[425px]",children:[s.jsxs(ft,{children:[s.jsxs(ht,{className:"text-xl flex items-center gap-2",children:[s.jsx(lO,{className:"h-5 w-5 text-primary"}),"Trip Spending Statistics"]}),s.jsx(qt,{children:"Overview of all spending on this trip."})]}),s.jsx("div",{className:"space-y-6 py-4",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"bg-blue-100 p-3 rounded-full",children:s.jsx(Xt,{className:"h-6 w-6 text-blue-700"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Total Group Spending"}),s.jsxs("p",{className:"text-2xl font-bold text-blue-700",children:["$",ae.toFixed(2)]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"bg-amber-100 p-3 rounded-full",children:s.jsx(Bt,{className:"h-6 w-6 text-amber-700"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Your Total Spending"}),s.jsxs("p",{className:"text-2xl font-bold text-amber-700",children:["$",pe.toFixed(2)]}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[Math.round(pe/(ae||1)*100),"% of group total"]})]})]}),(xe>0||Se>0)&&s.jsx("div",{className:"pt-2 border-t border-gray-200",children:s.jsxs("div",{className:"flex items-center gap-3 mt-3",children:[s.jsx("div",{className:`p-3 rounded-full ${I>=0?"bg-green-100":"bg-red-100"}`,children:s.jsx(Bt,{className:`h-6 w-6 ${I>=0?"text-green-700":"text-red-700"}`})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Your Balance"}),s.jsxs("p",{className:`text-2xl font-bold ${I>=0?"text-green-700":"text-red-700"}`,children:["$",Math.abs(I).toFixed(2)," ",I>=0?"credit":"debt"]})]})]})})]})}),s.jsx($t,{children:s.jsx(F,{onClick:()=>d(!1),children:"Close"})})]})}),s.jsx(Pv,{open:j!==null,onOpenChange:z=>!z&&N(null),children:s.jsxs(rm,{children:[s.jsxs(nm,{children:[s.jsx(im,{className:"text-red-600",children:"Delete Expense?"}),s.jsx(am,{children:"This action cannot be undone. This will permanently delete the expense and all related data."})]}),s.jsxs(sm,{children:[s.jsx(lm,{children:"Cancel"}),s.jsx(om,{className:"bg-red-600 hover:bg-red-700 text-white",onClick:()=>j&&R.mutate(j),disabled:R.isPending,children:R.isPending?"Deleting...":"Delete"})]})]})}),s.jsx(xt,{open:u,onOpenChange:f,children:s.jsxs(ut,{className:"sm:max-w-[400px]",children:[s.jsxs(ft,{children:[s.jsx(ht,{children:h!=null&&h.isPayment?"Mark Payment as Sent":"Mark Payment as Received"}),s.jsx(qt,{children:h!=null&&h.isPayment?`Record that you've paid ${(h==null?void 0:h.displayName)||"this user"} the amount owed.`:`Record that ${(h==null?void 0:h.displayName)||"this user"} has paid you the amount owed.`})]}),s.jsxs("div",{className:"py-4",children:[s.jsxs("div",{className:`mb-4 p-3 ${h!=null&&h.isPayment?"bg-red-50 border-red-100":"bg-blue-50 border-blue-100"} rounded-md border`,children:[s.jsx("h4",{className:`text-sm font-medium ${h!=null&&h.isPayment?"text-red-800":"text-blue-800"} mb-1`,children:"Debt Details"}),s.jsxs("p",{className:h!=null&&h.isPayment?"text-red-800":"text-blue-800",children:["Amount: ",s.jsxs("span",{className:"font-bold",children:["$",(h==null?void 0:h.amount.toFixed(2))||"0.00"]})]}),s.jsx("p",{className:`text-sm mt-1 ${h!=null&&h.isPayment?"text-red-600":"text-blue-600"}`,children:h!=null&&h.isPayment?`You paid: ${h==null?void 0:h.displayName}`:`${h==null?void 0:h.displayName} paid you`})]}),s.jsx("div",{className:"space-y-3",children:s.jsxs("div",{children:[s.jsx("label",{htmlFor:"notes",className:"text-sm font-medium",children:"Notes (optional)"}),s.jsx(Xr,{id:"notes",placeholder:h!=null&&h.isPayment?"e.g., Paid via Venmo on May 2nd":"e.g., Received via PayPal on May 2nd",rows:3,className:"mt-1",value:v,onChange:z=>g(z.target.value)})]})})]}),s.jsxs($t,{children:[s.jsx(F,{variant:"outline",onClick:()=>{f(!1),p(null),g("")},children:"Cancel"}),s.jsxs(F,{onClick:()=>{h&&W.mutate({owedById:h.isPayment?t:h.id,owedToId:h.isPayment?h.id:t,amount:h.amount,notes:v||void 0})},disabled:W.isPending||!h,className:"bg-green-600 hover:bg-green-700 text-white",children:[W.isPending?s.jsx(Pr,{className:"h-4 w-4 animate-spin mr-2"}):s.jsx($l,{className:"h-4 w-4 mr-2"}),h!=null&&h.isPayment?"Mark as Paid":"Mark as Received"]})]})]})})]})},Hb=({item:e,onToggle:t,onEdit:r,onDelete:n,onAssign:i,usersMap:a={},tripMembers:o=[]})=>{var w,j,N;const{currentUser:l}=m.useContext(Nl),[c,d]=m.useState(!1),u=m.useRef(null),f=m.useRef(null),[h,p]=m.useState({top:0,right:0}),v=e.addedBy===(l==null?void 0:l.id),g=e.assignedTo===(l==null?void 0:l.id);m.useEffect(()=>{const P=()=>{if(c&&f.current){const S=f.current.getBoundingClientRect();p({top:S.bottom+window.scrollY+8,right:window.innerWidth-S.right+window.scrollX})}};return c&&(P(),window.addEventListener("scroll",P,!0),window.addEventListener("resize",P)),()=>{window.removeEventListener("scroll",P,!0),window.removeEventListener("resize",P)}},[c]),m.useEffect(()=>{const P=S=>{u.current&&!u.current.contains(S.target)&&d(!1)};return c&&document.addEventListener("mousedown",P),()=>{document.removeEventListener("mousedown",P)}},[c]);const b=()=>{r&&r(e)},x=()=>{d(!c)},y=P=>{i&&i(e.id,P),d(!1)};return s.jsxs(s.Fragment,{children:[s.jsx(Ce,{className:re("bg-card border-border hover:shadow-md transition-all duration-200",e.isPacked&&"opacity-75",c&&"z-[9998]"),children:s.jsxs(Me,{className:"p-3 flex items-center",children:[s.jsx("div",{className:"mr-3",children:s.jsx(Re,{children:s.jsxs(Ie,{children:[s.jsx(Le,{asChild:!0,children:s.jsx(F,{size:"sm",variant:"outline",className:re("w-7 h-7 p-0 rounded-full border-2",e.isPacked?"bg-primary border-primary hover:bg-primary/90 hover:border-primary/90":"border-gray-300 dark:border-gray-600 hover:border-primary hover:bg-primary/10"),onClick:()=>t(e.id,e.isPacked),children:s.jsx(Rd,{className:re("h-4 w-4",e.isPacked?"text-white":"text-transparent")})})}),s.jsx(Oe,{side:"left",children:s.jsx("p",{children:e.isPacked?"Mark as not packed":"Mark as packed"})})]})})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center flex-wrap gap-2",children:[s.jsx("p",{className:re("font-medium",e.isPacked?"line-through":""),style:{color:e.isPacked?"var(--muted-foreground)":"var(--foreground)"},children:e.name}),e.quantity&&s.jsxs(He,{variant:"outline",className:"bg-primary/10 text-primary border-primary/20 px-2",children:[s.jsx(qu,{className:"h-3 w-3 mr-1"}),e.quantity]}),e.isGroupItem&&s.jsxs(He,{className:"bg-primary/10 text-primary border-primary/20 hover:bg-primary/20",children:[s.jsx(Xt,{className:"h-3 w-3 mr-1"}),"Group"]}),v&&!e.isGroupItem&&s.jsxs(He,{variant:"outline",className:"bg-muted text-muted-foreground border-border",children:[s.jsx(en,{className:"h-3 w-3 mr-1"}),"Your item"]})]}),e.isGroupItem&&e.assignedTo&&s.jsxs("p",{className:"text-xs mt-1 flex items-center",style:{color:"var(--muted-foreground)"},children:[s.jsx(en,{className:"h-3 w-3 mr-1"}),"Assigned to ",g?"You":"Someone else"]}),e.addedAt&&s.jsxs("p",{className:"text-xs mt-1 flex items-center",style:{color:"var(--muted-foreground)"},children:[s.jsx(Ai,{className:"h-3 w-3 mr-1"}),"Added ",new Date(e.addedAt).toLocaleDateString()]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"relative",ref:u,style:{zIndex:c?9999:"auto"},children:s.jsx(Re,{children:s.jsxs(Ie,{children:[s.jsx(Le,{asChild:!0,children:s.jsx(F,{ref:f,size:"sm",variant:"ghost",onClick:x,className:"h-8 w-8 p-0 flex items-center justify-center rounded-full",children:e.assignedTo?s.jsx(gr,{src:(w=a[e.assignedTo])==null?void 0:w.avatar,fallback:(j=a[e.assignedTo])==null?void 0:j.displayName,size:"sm",className:"w-7 h-7 border border-white dark:border-gray-700"}):s.jsx(Xt,{className:"h-5 w-5 text-gray-500 dark:text-gray-400"})})}),s.jsx(Oe,{children:e.assignedTo?s.jsxs("p",{children:["Assigned to ",e.assignedTo===(l==null?void 0:l.id)?"you":((N=a[e.assignedTo])==null?void 0:N.displayName)||"Member"]}):s.jsx("p",{children:"Assign to a trip member"})})]})})}),s.jsxs("div",{className:"flex",children:[s.jsx(Re,{children:s.jsxs(Ie,{children:[s.jsx(Le,{asChild:!0,children:s.jsx(F,{size:"sm",variant:"ghost",onClick:b,className:"h-8 w-8 p-0 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300",children:s.jsx(dC,{className:"h-4 w-4"})})}),s.jsx(Oe,{side:"left",children:s.jsx("p",{children:"Edit item"})})]})}),n&&s.jsx(Re,{children:s.jsxs(Ie,{children:[s.jsx(Le,{asChild:!0,children:s.jsx(F,{size:"sm",variant:"ghost",onClick:n,className:"h-8 w-8 p-0 text-gray-500 dark:text-gray-400 hover:text-red-600 dark:hover:text-red-500",children:s.jsx(Tr,{className:"h-4 w-4"})})}),s.jsx(Oe,{side:"left",children:s.jsx("p",{children:"Delete item"})})]})})]})]})]})}),c&&i&&Ki.createPortal(s.jsx("div",{ref:u,className:"fixed z-[9999]",style:{top:h.top,right:h.right},children:s.jsx(Ce,{className:"w-52 shadow-2xl bg-white dark:bg-gray-900 border-2 border-gray-300 dark:border-gray-600 rounded-lg overflow-hidden",children:s.jsx(Me,{className:"p-0",children:s.jsxs("div",{className:"py-1",children:[s.jsx("button",{onClick:()=>y(null),className:"w-full px-3 py-2 text-sm text-left text-gray-800 dark:text-gray-200 hover:bg-blue-50 dark:hover:bg-blue-900/20 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:"Not assigned"}),s.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 my-1"}),o==null?void 0:o.map(P=>{const S=P.user;if(!S)return null;const E=Number(e.assignedTo)===Number(S.id);return s.jsxs("button",{onClick:()=>y(S.id),className:`w-full px-3 py-2 text-sm text-left flex items-center transition-colors ${E?"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 font-medium":"text-gray-800 dark:text-gray-200 hover:bg-blue-50 dark:hover:bg-blue-900/20 hover:text-blue-600 dark:hover:text-blue-400"}`,children:[s.jsx(gr,{src:S.avatar,fallback:S.displayName,size:"sm",className:"mr-2 w-5 h-5"}),s.jsxs("span",{children:[S.id===(l==null?void 0:l.id)?"You":S.displayName||`User ${S.id}`,E&&" (Current)"]})]},S.id)})]})})})}),document.body)]})};var Av="Switch",[z8,RY]=yr(Av),[B8,W8]=z8(Av),dE=m.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:i,defaultChecked:a,required:o,disabled:l,value:c="on",onCheckedChange:d,form:u,...f}=e,[h,p]=m.useState(null),v=De(t,w=>p(w)),g=m.useRef(!1),b=h?u||!!h.closest("form"):!0,[x=!1,y]=Sn({prop:i,defaultProp:a,onChange:d});return s.jsxs(B8,{scope:r,checked:x,disabled:l,children:[s.jsx(ge.button,{type:"button",role:"switch","aria-checked":x,"aria-required":o,"data-state":hE(x),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:v,onClick:Q(e.onClick,w=>{y(j=>!j),b&&(g.current=w.isPropagationStopped(),g.current||w.stopPropagation())})}),b&&s.jsx(U8,{control:h,bubbles:!g.current,name:n,value:c,checked:x,required:o,disabled:l,form:u,style:{transform:"translateX(-100%)"}})]})});dE.displayName=Av;var uE="SwitchThumb",fE=m.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,i=W8(uE,r);return s.jsx(ge.span,{"data-state":hE(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:t})});fE.displayName=uE;var U8=e=>{const{control:t,checked:r,bubbles:n=!0,...i}=e,a=m.useRef(null),o=dm(r),l=$h(t);return m.useEffect(()=>{const c=a.current,d=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(d,"checked").set;if(o!==r&&f){const h=new Event("click",{bubbles:n});f.call(c,r),c.dispatchEvent(h)}},[o,r,n]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:a,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function hE(e){return e?"checked":"unchecked"}var mE=dE,H8=fE;const Rv=m.forwardRef(({className:e,...t},r)=>s.jsx(mE,{className:re("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:s.jsx(H8,{className:re("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Rv.displayName=mE.displayName;const K8=({tripId:e})=>{const{currentUser:t}=m.useContext(Nl),{toast:r}=vt(),[n,i]=m.useState(""),[a,o]=m.useState(""),[l,c]=m.useState(!1),[d,u]=m.useState(null),[f,h]=m.useState(""),[p,v]=m.useState(""),[g,b]=m.useState(null),[x,y]=m.useState("all"),{data:w,isLoading:j}=kt({queryKey:[`/api/trips/${e}/packing`],enabled:!!e,refetchOnWindowFocus:!1}),{data:N,isLoading:P}=kt({queryKey:[`/api/trips/${e}/members`],enabled:!!e}),S=m.useMemo(()=>{if(!N)return{};const K={};return N.forEach(ce=>{ce.user&&(K[ce.user.id]=ce.user)}),K},[N]),E=Ae({mutationFn:async({name:K,quantity:ce,isGroupItem:ve=!1})=>{const xe=!ve;return(await je("POST",`/api/trips/${e}/packing`,{name:K,quantity:ce.trim()||null,addedBy:t==null?void 0:t.id,isGroupItem:ve,isPersonal:xe,isPacked:!1})).json()},onSuccess:(K,ce)=>{et.invalidateQueries({queryKey:[`/api/trips/${e}/packing`]}),i(""),o(""),r({title:"Item added",description:ce.isGroupItem?"Item has been added to the group packing list":"Item has been added to your personal packing list"})},onError:()=>{r({title:"Error adding item",description:"There was an error adding your item. Please try again.",variant:"destructive"})}}),R=Ae({mutationFn:async({id:K,isPacked:ce})=>(await je("PATCH",`/api/packing/${K}`,{isPacked:ce})).json(),onSuccess:K=>{const ce=[`/api/trips/${e}/packing`];et.setQueryData(ce,ve=>{if(ve)return ve.map(xe=>xe.id===K.id?K:xe)})}}),A=()=>{!n.trim()||!t||E.mutate({name:n,quantity:a,isGroupItem:l})},W=()=>{c(!l)},V=K=>{K.key==="Enter"&&A()},O=(K,ce)=>{R.mutate({id:K,isPacked:!ce})},B=Ae({mutationFn:async K=>(await je("PATCH",`/api/packing/${K.id}`,K.updates)).json(),onSuccess:K=>{const ce=[`/api/trips/${e}/packing`];et.setQueryData(ce,ve=>{if(ve)return ve.map(xe=>xe.id===K.id?K:xe)}),u(null),h(""),v(""),r({title:"Item updated",description:"Item has been updated successfully"})},onError:()=>{r({title:"Error updating item",description:"There was an error updating your item. Please try again.",variant:"destructive"})}}),Y=Ae({mutationFn:async({id:K,assignedTo:ce})=>(await je("PATCH",`/api/packing/${K}`,{assignedTo:ce})).json(),onSuccess:(K,{assignedTo:ce})=>{const ve=[`/api/trips/${e}/packing`];et.setQueryData(ve,Se=>{if(!Se)return;const I={...K,assignedTo:K.assignedTo===null?null:Number(K.assignedTo)};return Se.map(ae=>ae.id===K.id?I:ae)}),et.invalidateQueries({queryKey:[`/api/trips/${e}/packing`]});let xe="no one";if(ce!==null){const Se=S==null?void 0:S[ce];xe=(Se==null?void 0:Se.displayName)||`User ${ce}`,ce===(t==null?void 0:t.id)&&(xe="you")}r({title:"Assignment updated",description:ce===null?"Item is no longer assigned to anyone":`Item is now assigned to ${xe}`})},onError:K=>{r({title:"Error",description:`Failed to assign the item: ${K.message}`,variant:"destructive"})}}),H=Ae({mutationFn:async K=>(await je("DELETE",`/api/packing/${K}`),K),onSuccess:K=>{const ce=[`/api/trips/${e}/packing`];et.setQueryData(ce,ve=>{if(ve)return ve.filter(xe=>xe.id!==K)}),r({title:"Item deleted",description:"The item has been removed from your packing list"})},onError:()=>{r({title:"Error deleting item",description:"There was an error deleting your item. Please try again.",variant:"destructive"})}}),_=K=>{u(K),h(K.name),v(K.quantity||"")},C=()=>{!d||!f.trim()||B.mutate({id:d.id,updates:{name:f,quantity:p.trim()||null}})},T=()=>{u(null),h(""),v("")},$=K=>{b(K)},U=()=>{g!==null&&(H.mutate(g.id),b(null))},fe=()=>{b(null)},Te=(K,ce)=>{Y.mutate({id:K,assignedTo:ce})},$e=()=>{r({title:"Coming Soon",description:"AI packing suggestions will be available in a future update."})},pt=()=>{if(!w||w.length===0)return{personal:[],group:[]};let K=[...w];return x==="assigned"&&t&&(K=w.filter(ce=>{const ve=Number(ce.assignedTo),xe=Number(t.id);return ve===xe})),{personal:K.filter(ce=>!ce.isGroupItem),group:K.filter(ce=>ce.isGroupItem)}},{personal:ze,group:te}=pt();return s.jsxs("div",{id:"packing-tab",className:"p-4 pb-20 bg-background min-h-0 h-full overflow-y-auto",children:[s.jsx("div",{className:"flex items-center mb-6",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("h2",{className:"text-2xl font-bold flex items-center",style:{color:"var(--foreground)"},children:[s.jsx(vc,{className:"h-6 w-6 mr-2 text-primary"}),"Packing List"]}),s.jsx("p",{className:"text-sm mt-1",style:{color:"var(--foreground)",opacity:"0.7"},children:"Keep track of what to bring on your trip"})]})}),s.jsxs("div",{className:"mb-5 bg-card rounded-xl p-4 shadow-sm border border-border",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(vc,{className:"h-5 w-5 text-primary mr-2"}),s.jsxs("h3",{className:"text-lg font-medium",style:{color:"var(--foreground)"},children:["Add ",l?"Group":"Personal"," Packing Item"]})]}),s.jsx(Re,{children:s.jsxs(Ie,{children:[s.jsx(Le,{asChild:!0,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:`text-sm ${l?"text-gray-500 dark:text-gray-400":"font-medium text-primary-600 dark:text-primary-400"}`,children:[s.jsx(en,{className:"h-4 w-4 inline mr-1"}),"Personal"]}),s.jsx(Rv,{checked:l,onCheckedChange:W}),s.jsxs("span",{className:`text-sm ${l?"font-medium text-primary-600 dark:text-primary-400":"text-gray-500 dark:text-gray-400"}`,children:[s.jsx(Xt,{className:"h-4 w-4 inline mr-1"}),"Group"]})]})}),s.jsx(Oe,{side:"top",children:s.jsx("p",{children:"Toggle between personal and group items"})})]})})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mb-3",children:[s.jsxs("div",{className:"flex-grow relative",children:[s.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",children:s.jsx(qu,{className:"h-5 w-5"})}),s.jsx("input",{type:"text",value:n,onChange:K=>i(K.target.value),onKeyPress:V,placeholder:"Add an item to pack...",className:"w-full pl-12 pr-4 py-4 text-base border border-gray-200 dark:border-gray-700 rounded-xl bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]}),s.jsx("div",{className:"sm:w-40",children:s.jsx("input",{type:"text",value:a,onChange:K=>o(K.target.value),onKeyPress:V,placeholder:"Quantity",className:"w-full px-4 py-4 text-base border border-gray-200 dark:border-gray-700 rounded-xl bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})})]}),s.jsx(Re,{children:s.jsxs(Ie,{children:[s.jsx(Le,{asChild:!0,children:s.jsx("button",{className:"w-full py-4 rounded-xl bg-primary hover:bg-primary/90 text-primary-foreground font-medium shadow-lg hover:shadow-xl transition-all duration-200 flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",onClick:A,disabled:E.isPending,"aria-label":"Add item",children:E.isPending?s.jsxs(s.Fragment,{children:[s.jsx(Pr,{className:"h-4 w-4 animate-spin"}),s.jsx("span",{className:"font-medium",children:"Adding..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(Vr,{className:"h-4 w-4"}),s.jsx("span",{className:"font-medium",children:"Add"})]})})}),s.jsx(Oe,{children:s.jsx("p",{children:"Add item to your packing list"})})]})}),s.jsx("p",{className:"text-sm mt-2",style:{color:"var(--foreground)",opacity:"0.7"},children:l?"Group items are visible to all trip members":"Personal items are only visible to you"})]}),s.jsx(Re,{children:s.jsxs(Ie,{children:[s.jsx(Le,{asChild:!0,children:s.jsxs(F,{variant:"outline",className:"w-full py-6 mb-6 flex items-center justify-center bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-950/30 dark:to-purple-950/30 border-gray-200 dark:border-gray-700 hover:bg-gradient-to-r hover:from-blue-100 hover:to-purple-100 dark:hover:from-blue-950/40 dark:hover:to-purple-950/40 group transition-all duration-200",onClick:$e,children:[s.jsx(Gu,{className:"h-5 w-5 mr-2 text-primary-600 dark:text-primary-400 group-hover:animate-pulse"}),s.jsx("span",{className:"font-medium text-gray-800 dark:text-gray-100",children:"Get AI Packing Suggestions"})]})}),s.jsx(Oe,{children:s.jsx("p",{children:"Get smart suggestions for what to pack based on your destination and trip type"})})]})}),s.jsxs("div",{className:"mb-5",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx(mO,{className:"h-4 w-4 text-muted-foreground mr-2"}),s.jsx("h4",{className:"text-sm font-medium",style:{color:"var(--foreground)"},children:"Filter Items"})]}),s.jsxs("div",{className:"flex overflow-x-auto scrollbar-hide pb-2",children:[s.jsx(Re,{children:s.jsxs(Ie,{children:[s.jsx(Le,{asChild:!0,children:s.jsxs("button",{onClick:()=>y("all"),className:re("inline-flex items-center px-4 py-2 rounded-full text-sm font-medium mr-3 whitespace-nowrap transition-colors shadow-sm",x==="all"?"bg-primary/10 text-primary border-2 border-primary/30":"bg-card border border-border hover:bg-accent"),style:x!=="all"?{color:"var(--foreground)"}:{},children:[s.jsx(qu,{className:"h-4 w-4 mr-2"}),"All Items"]})}),s.jsx(Oe,{side:"bottom",children:s.jsx("p",{children:"Show all packing items"})})]})}),s.jsx(Re,{children:s.jsxs(Ie,{children:[s.jsx(Le,{asChild:!0,children:s.jsxs("button",{onClick:()=>y("assigned"),className:re("inline-flex items-center px-4 py-2 rounded-full text-sm font-medium mr-3 whitespace-nowrap transition-colors shadow-sm",x==="assigned"?"bg-secondary/10 text-secondary border-2 border-secondary/30":"bg-card border border-border hover:bg-accent"),style:x!=="assigned"?{color:"var(--foreground)"}:{},children:[s.jsx(en,{className:"h-4 w-4 mr-2"}),"Assigned to Me"]})}),s.jsx(Oe,{side:"bottom",children:s.jsx("p",{children:"Show only items assigned to you"})})]})}),s.jsx(Re,{children:s.jsxs(Ie,{children:[s.jsx(Le,{asChild:!0,children:s.jsxs("button",{onClick:()=>y("unassigned"),className:re("inline-flex items-center px-4 py-2 rounded-full text-sm font-medium mr-3 whitespace-nowrap transition-colors shadow-sm",x==="unassigned"?"bg-orange-50 text-orange-600 border-2 border-orange-200 dark:bg-orange-950/20 dark:text-orange-400 dark:border-orange-800":"bg-card border border-border hover:bg-accent"),style:x!=="unassigned"?{color:"var(--foreground)"}:{},children:[s.jsx(qu,{className:"h-4 w-4 mr-2"}),"Unassigned"]})}),s.jsx(Oe,{side:"bottom",children:s.jsx("p",{children:"Show items that haven't been assigned to anyone"})})]})})]})]}),s.jsx("div",{className:"space-y-3 mb-16",children:j?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"flex items-center justify-between mb-3",children:s.jsxs("h3",{className:"font-semibold text-lg text-gray-800 dark:text-white flex items-center",children:[s.jsx(en,{className:"h-5 w-5 mr-2 text-primary-600 dark:text-primary-400"}),"Your Items"]})}),[...Array(3)].map((K,ce)=>s.jsx(Ce,{className:"animate-pulse",children:s.jsx(Me,{className:"p-3",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-gray-200 dark:bg-gray-700 mr-3"}),s.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-1/2"})]})})},ce))]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("h3",{className:"font-semibold text-lg flex items-center",style:{color:"var(--foreground)"},children:[s.jsx(en,{className:"h-5 w-5 mr-2 text-primary"}),"Personal Items (",ze.length,")",s.jsx(Re,{children:s.jsxs(Ie,{children:[s.jsx(Le,{asChild:!0,children:s.jsx("span",{className:"ml-2 inline-flex items-center justify-center w-5 h-5 text-xs font-medium bg-blue-100 dark:bg-blue-900/40 text-blue-800 dark:text-blue-300 rounded-full",children:"?"})}),s.jsx(Oe,{children:s.jsx("p",{children:"Personal items are only visible to you"})})]})})]}),s.jsx(Re,{children:s.jsxs(Ie,{children:[s.jsx(Le,{asChild:!0,children:s.jsxs("span",{className:"text-xs px-3 py-1.5 rounded-full bg-primary/10 text-primary font-medium",children:[s.jsx(EO,{className:"h-3.5 w-3.5 inline mr-1"}),ze.filter(K=>K.isPacked).length,"/",ze.length," packed"]})}),s.jsx(Oe,{children:s.jsx("p",{children:"Number of items you've packed"})})]})})]}),ze.length>0?s.jsx("div",{className:"space-y-2",children:ze.map(K=>s.jsx(Hb,{item:K,onToggle:O,onEdit:_,onDelete:()=>$(K),onAssign:Te,usersMap:S,tripMembers:N},K.id))}):s.jsx(Ce,{className:"border-dashed border-2 border-border bg-card",children:s.jsxs(Me,{className:"p-6 text-center",children:[s.jsx("div",{className:"w-12 h-12 mx-auto bg-primary/10 rounded-full flex items-center justify-center mb-3",children:s.jsx(vc,{className:"h-6 w-6 text-primary"})}),s.jsx("p",{className:"font-medium",style:{color:"var(--foreground)"},children:"No personal items added yet"}),s.jsx("p",{className:"text-sm mt-1",style:{color:"var(--foreground)",opacity:"0.7"},children:"Add items above to keep track of your packing"})]})}),s.jsxs("div",{className:"flex items-center justify-between mt-8 mb-3",children:[s.jsxs("h3",{className:"font-semibold text-lg flex items-center",style:{color:"var(--foreground)"},children:[s.jsx(Xt,{className:"h-5 w-5 mr-2 text-primary"}),"Group Items (",te.length,")",s.jsx(Re,{children:s.jsxs(Ie,{children:[s.jsx(Le,{asChild:!0,children:s.jsx("span",{className:"ml-2 inline-flex items-center justify-center w-5 h-5 text-xs font-medium bg-green-100 dark:bg-green-900/40 text-green-800 dark:text-green-300 rounded-full",children:"?"})}),s.jsx(Oe,{children:s.jsx("p",{children:"Group items are visible to all trip members"})})]})})]}),s.jsx(Re,{children:s.jsxs(Ie,{children:[s.jsx(Le,{asChild:!0,children:s.jsxs("span",{className:"text-xs px-3 py-1.5 rounded-full bg-primary/10 text-primary font-medium",children:[s.jsx(SO,{className:"h-3.5 w-3.5 inline mr-1"}),te.filter(K=>K.isPacked).length,"/",te.length," packed"]})}),s.jsx(Oe,{children:s.jsx("p",{children:"Number of group items packed"})})]})})]}),te.length>0?s.jsx("div",{className:"space-y-2",children:te.map(K=>s.jsx(Hb,{item:K,onToggle:O,onEdit:_,onDelete:()=>$(K),onAssign:Te,usersMap:S,tripMembers:N},K.id))}):s.jsx(Ce,{className:"border-dashed border-2 border-border bg-card",children:s.jsxs(Me,{className:"p-6 text-center",children:[s.jsx("div",{className:"w-12 h-12 mx-auto bg-primary/10 rounded-full flex items-center justify-center mb-3",children:s.jsx(Xt,{className:"h-6 w-6 text-primary"})}),s.jsx("p",{className:"font-medium",style:{color:"var(--foreground)"},children:"No group items added yet"}),s.jsx("p",{className:"text-sm mt-1",style:{color:"var(--foreground)",opacity:"0.7"},children:'Switch to "Group" using the toggle above to add items visible to everyone'})]})})]})}),s.jsx(xt,{open:!!d,onOpenChange:K=>!K&&T(),children:s.jsxs(ut,{className:"sm:max-w-md",children:[s.jsxs(ft,{children:[s.jsxs(ht,{className:"flex items-center gap-2 text-gray-800 dark:text-gray-100",children:[s.jsx(dC,{className:"h-5 w-5 text-primary-600 dark:text-primary-400"}),"Edit Packing Item"]}),s.jsx(qt,{children:"Update the details of your packing item"})]}),s.jsxs("div",{className:"space-y-4 py-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(G,{htmlFor:"editName",className:"text-gray-700 dark:text-gray-300",children:"Item Name"}),s.jsx(me,{id:"editName",type:"text",value:f,onChange:K=>h(K.target.value),className:"border-gray-300 dark:border-gray-600 dark:bg-gray-800 dark:text-white",autoFocus:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(G,{htmlFor:"editQuantity",className:"text-gray-700 dark:text-gray-300",children:"Quantity"}),s.jsx(me,{id:"editQuantity",type:"text",value:p,onChange:K=>v(K.target.value),placeholder:"e.g., 2 pairs, 1 set, etc.",className:"border-gray-300 dark:border-gray-600 dark:bg-gray-800 dark:text-white"}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 ml-1",children:"Optional - specify the amount needed"})]})]}),s.jsxs($t,{className:"mt-4",children:[s.jsx(F,{variant:"outline",onClick:T,className:"border-gray-300 dark:border-gray-600",children:"Cancel"}),s.jsx(F,{onClick:C,disabled:B.isPending,className:"bg-primary hover:bg-primary/90 dark:bg-primary dark:hover:bg-primary/90",children:B.isPending?"Saving...":"Save Changes"})]})]})}),s.jsx(xt,{open:g!==null,onOpenChange:K=>!K&&fe(),children:s.jsxs(ut,{className:"sm:max-w-md",children:[s.jsxs(ft,{children:[s.jsxs(ht,{className:"flex items-center gap-2 text-gray-800 dark:text-gray-100",children:[s.jsx(Tr,{className:"h-5 w-5 text-red-600 dark:text-red-400"}),"Delete Packing Item"]}),s.jsx(qt,{children:"This action cannot be undone. Are you sure you want to delete this item?"})]}),s.jsx("div",{className:"py-3",children:s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Removing this item will permanently delete it from your packing list."})}),s.jsxs($t,{className:"gap-2",children:[s.jsx(F,{variant:"outline",onClick:fe,className:"border-gray-300 dark:border-gray-600",children:"Cancel"}),s.jsx(F,{onClick:U,disabled:H.isPending,variant:"destructive",className:"bg-red-600 hover:bg-red-700 dark:bg-red-600 dark:hover:bg-red-700",children:H.isPending?s.jsxs(s.Fragment,{children:[s.jsx(Pr,{className:"h-4 w-4 mr-2 animate-spin"}),"Deleting..."]}):"Delete Item"})]})]})})]})};function it(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function ln(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Sr(e,t){const r=it(e);return isNaN(t)?ln(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function Kn(e,t){const r=it(e);if(isNaN(t))return ln(e,NaN);if(!t)return r;const n=r.getDate(),i=ln(e,r.getTime());i.setMonth(r.getMonth()+t+1,0);const a=i.getDate();return n>=a?i:(r.setFullYear(i.getFullYear(),i.getMonth(),n),r)}const Ov=6048e5,Y8=864e5,pE=6e4,gE=36e5;let q8={};function Bd(){return q8}function ms(e,t){var l,c,d,u;const r=Bd(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,i=it(e),a=i.getDay(),o=(a<n?7:0)+a-n;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function Ra(e){return ms(e,{weekStartsOn:1})}function xE(e){const t=it(e),r=t.getFullYear(),n=ln(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const i=Ra(n),a=ln(e,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const o=Ra(a);return t.getTime()>=i.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function nl(e){const t=it(e);return t.setHours(0,0,0,0),t}function Uf(e){const t=it(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function is(e,t){const r=nl(e),n=nl(t),i=+r-Uf(r),a=+n-Uf(n);return Math.round((i-a)/Y8)}function G8(e){const t=xE(e),r=ln(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Ra(r)}function px(e,t){const r=t*7;return Sr(e,r)}function Q8(e,t){return Kn(e,t*12)}function Z8(e){let t;return e.forEach(function(r){const n=it(r);(t===void 0||t<n||isNaN(Number(n)))&&(t=n)}),t||new Date(NaN)}function X8(e){let t;return e.forEach(r=>{const n=it(r);(!t||t>n||isNaN(+n))&&(t=n)}),t||new Date(NaN)}function Br(e,t){const r=nl(e),n=nl(t);return+r==+n}function Fv(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function J8(e){if(!Fv(e)&&typeof e!="number")return!1;const t=it(e);return!isNaN(Number(t))}function nd(e,t){const r=it(e),n=it(t),i=r.getFullYear()-n.getFullYear(),a=r.getMonth()-n.getMonth();return i*12+a}function eV(e,t,r){const n=ms(e,r),i=ms(t,r),a=+n-Uf(n),o=+i-Uf(i);return Math.round((a-o)/Ov)}function Iv(e){const t=it(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function Yr(e){const t=it(e);return t.setDate(1),t.setHours(0,0,0,0),t}function yE(e){const t=it(e),r=ln(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function Lv(e,t){var l,c,d,u;const r=Bd(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,i=it(e),a=i.getDay(),o=(a<n?-7:0)+6-(a-n);return i.setDate(i.getDate()+o),i.setHours(23,59,59,999),i}function vE(e){return Lv(e,{weekStartsOn:1})}const tV={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},rV=(e,t,r)=>{let n;const i=tV[e];return typeof i=="string"?n=i:t===1?n=i.one:n=i.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function vp(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const nV={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},sV={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},iV={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},aV={date:vp({formats:nV,defaultWidth:"full"}),time:vp({formats:sV,defaultWidth:"full"}),dateTime:vp({formats:iV,defaultWidth:"full"})},oV={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},lV=(e,t,r,n)=>oV[e];function Ul(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let i;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;i=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;i=e.values[l]||e.values[o]}const a=e.argumentCallback?e.argumentCallback(t):t;return i[a]}}const cV={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},dV={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},uV={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},fV={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},hV={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},mV={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},pV=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},gV={ordinalNumber:pV,era:Ul({values:cV,defaultWidth:"wide"}),quarter:Ul({values:dV,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Ul({values:uV,defaultWidth:"wide"}),day:Ul({values:fV,defaultWidth:"wide"}),dayPeriod:Ul({values:hV,defaultWidth:"wide",formattingValues:mV,defaultFormattingWidth:"wide"})};function Hl(e){return(t,r={})=>{const n=r.width,i=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],a=t.match(i);if(!a)return null;const o=a[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?yV(l,f=>f.test(o)):xV(l,f=>f.test(o));let d;d=e.valueCallback?e.valueCallback(c):c,d=r.valueCallback?r.valueCallback(d):d;const u=t.slice(o.length);return{value:d,rest:u}}}function xV(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function yV(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function vV(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const i=n[0],a=t.match(e.parsePattern);if(!a)return null;let o=e.valueCallback?e.valueCallback(a[0]):a[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(i.length);return{value:o,rest:l}}}const wV=/^(\d+)(th|st|nd|rd)?/i,bV=/\d+/i,jV={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},NV={any:[/^b/i,/^(a|c)/i]},kV={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},SV={any:[/1/i,/2/i,/3/i,/4/i]},CV={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},PV={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},TV={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},EV={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},_V={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},DV={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},MV={ordinalNumber:vV({matchPattern:wV,parsePattern:bV,valueCallback:e=>parseInt(e,10)}),era:Hl({matchPatterns:jV,defaultMatchWidth:"wide",parsePatterns:NV,defaultParseWidth:"any"}),quarter:Hl({matchPatterns:kV,defaultMatchWidth:"wide",parsePatterns:SV,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Hl({matchPatterns:CV,defaultMatchWidth:"wide",parsePatterns:PV,defaultParseWidth:"any"}),day:Hl({matchPatterns:TV,defaultMatchWidth:"wide",parsePatterns:EV,defaultParseWidth:"any"}),dayPeriod:Hl({matchPatterns:_V,defaultMatchWidth:"any",parsePatterns:DV,defaultParseWidth:"any"})},wE={code:"en-US",formatDistance:rV,formatLong:aV,formatRelative:lV,localize:gV,match:MV,options:{weekStartsOn:0,firstWeekContainsDate:1}};function AV(e){const t=it(e);return is(t,yE(t))+1}function bE(e){const t=it(e),r=+Ra(t)-+G8(t);return Math.round(r/Ov)+1}function jE(e,t){var u,f,h,p;const r=it(e),n=r.getFullYear(),i=Bd(),a=(t==null?void 0:t.firstWeekContainsDate)??((f=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??i.firstWeekContainsDate??((p=(h=i.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,o=ln(e,0);o.setFullYear(n+1,0,a),o.setHours(0,0,0,0);const l=ms(o,t),c=ln(e,0);c.setFullYear(n,0,a),c.setHours(0,0,0,0);const d=ms(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=d.getTime()?n:n-1}function RV(e,t){var l,c,d,u;const r=Bd(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??1,i=jE(e,t),a=ln(e,0);return a.setFullYear(i,0,n),a.setHours(0,0,0,0),ms(a,t)}function NE(e,t){const r=it(e),n=+ms(r,t)-+RV(r,t);return Math.round(n/Ov)+1}function lt(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Zs={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return lt(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):lt(r+1,2)},d(e,t){return lt(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return lt(e.getHours()%12||12,t.length)},H(e,t){return lt(e.getHours(),t.length)},m(e,t){return lt(e.getMinutes(),t.length)},s(e,t){return lt(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return lt(i,t.length)}},Ga={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Kb={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return Zs.y(e,t)},Y:function(e,t,r,n){const i=jE(e,n),a=i>0?i:1-i;if(t==="YY"){const o=a%100;return lt(o,2)}return t==="Yo"?r.ordinalNumber(a,{unit:"year"}):lt(a,t.length)},R:function(e,t){const r=xE(e);return lt(r,t.length)},u:function(e,t){const r=e.getFullYear();return lt(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return lt(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return lt(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Zs.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return lt(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const i=NE(e,n);return t==="wo"?r.ordinalNumber(i,{unit:"week"}):lt(i,t.length)},I:function(e,t,r){const n=bE(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):lt(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Zs.d(e,t)},D:function(e,t,r){const n=AV(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):lt(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const i=e.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return lt(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const i=e.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return lt(a,t.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),i=n===0?7:n;switch(t){case"i":return String(i);case"ii":return lt(i,t.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let i;switch(n===12?i=Ga.noon:n===0?i=Ga.midnight:i=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let i;switch(n>=17?i=Ga.evening:n>=12?i=Ga.afternoon:n>=4?i=Ga.morning:i=Ga.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Zs.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Zs.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):lt(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):lt(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Zs.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Zs.s(e,t)},S:function(e,t){return Zs.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return qb(n);case"XXXX":case"XX":return ra(n);case"XXXXX":case"XXX":default:return ra(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return qb(n);case"xxxx":case"xx":return ra(n);case"xxxxx":case"xxx":default:return ra(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Yb(n,":");case"OOOO":default:return"GMT"+ra(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Yb(n,":");case"zzzz":default:return"GMT"+ra(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return lt(n,t.length)},T:function(e,t,r){const n=e.getTime();return lt(n,t.length)}};function Yb(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),i=Math.trunc(n/60),a=n%60;return a===0?r+String(i):r+String(i)+t+lt(a,2)}function qb(e,t){return e%60===0?(e>0?"-":"+")+lt(Math.abs(e)/60,2):ra(e,t)}function ra(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),i=lt(Math.trunc(n/60),2),a=lt(n%60,2);return r+i+t+a}const Gb=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},kE=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},OV=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return Gb(e,t);let a;switch(n){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",Gb(n,t)).replace("{{time}}",kE(i,t))},FV={p:kE,P:OV},IV=/^D+$/,LV=/^Y+$/,VV=["D","DD","YY","YYYY"];function $V(e){return IV.test(e)}function zV(e){return LV.test(e)}function BV(e,t,r){const n=WV(e,t,r);if(console.warn(n),VV.includes(e))throw new RangeError(n)}function WV(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const UV=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,HV=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,KV=/^'([^]*?)'?$/,YV=/''/g,qV=/[a-zA-Z]/;function _r(e,t,r){var u,f,h,p,v,g,b,x;const n=Bd(),i=(r==null?void 0:r.locale)??n.locale??wE,a=(r==null?void 0:r.firstWeekContainsDate)??((f=(u=r==null?void 0:r.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((p=(h=n.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((g=(v=r==null?void 0:r.locale)==null?void 0:v.options)==null?void 0:g.weekStartsOn)??n.weekStartsOn??((x=(b=n.locale)==null?void 0:b.options)==null?void 0:x.weekStartsOn)??0,l=it(e);if(!J8(l))throw new RangeError("Invalid time value");let c=t.match(HV).map(y=>{const w=y[0];if(w==="p"||w==="P"){const j=FV[w];return j(y,i.formatLong)}return y}).join("").match(UV).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const w=y[0];if(w==="'")return{isToken:!1,value:GV(y)};if(Kb[w])return{isToken:!0,value:y};if(w.match(qV))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:y}});i.localize.preprocessor&&(c=i.localize.preprocessor(l,c));const d={firstWeekContainsDate:a,weekStartsOn:o,locale:i};return c.map(y=>{if(!y.isToken)return y.value;const w=y.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&zV(w)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&$V(w))&&BV(w,t,String(e));const j=Kb[w[0]];return j(l,w,i.localize,d)}).join("")}function GV(e){const t=e.match(KV);return t?t[1].replace(YV,"'"):e}function QV(e){const t=it(e),r=t.getFullYear(),n=t.getMonth(),i=ln(e,0);return i.setFullYear(r,n+1,0),i.setHours(0,0,0,0),i.getDate()}function ZV(e){return Math.trunc(+it(e)/1e3)}function XV(e){const t=it(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function JV(e,t){return eV(XV(e),Yr(e),t)+1}function gx(e,t){const r=it(e),n=it(t);return r.getTime()>n.getTime()}function SE(e,t){const r=it(e),n=it(t);return+r<+n}function Vv(e,t){const r=it(e),n=it(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function e$(e,t){const r=it(e),n=it(t);return r.getFullYear()===n.getFullYear()}function wp(e,t){return Sr(e,-t)}function Qb(e,t){const n=s$(e);let i;if(n.date){const c=i$(n.date,2);i=a$(c.restDateString,c.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);const a=i.getTime();let o=0,l;if(n.time&&(o=o$(n.time),isNaN(o)))return new Date(NaN);if(n.timezone){if(l=l$(n.timezone),isNaN(l))return new Date(NaN)}else{const c=new Date(a+o),d=new Date(0);return d.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),d.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),d}return new Date(a+o+l)}const Pu={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},t$=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,r$=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,n$=/^([+-])(\d{2})(?::?(\d{2}))?$/;function s$(e){const t={},r=e.split(Pu.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],Pu.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Pu.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const i=Pu.timezone.exec(n);i?(t.time=n.replace(i[1],""),t.timezone=i[1]):t.time=n}return t}function i$(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const i=n[1]?parseInt(n[1]):null,a=n[2]?parseInt(n[2]):null;return{year:a===null?i:a*100,restDateString:e.slice((n[1]||n[2]).length)}}function a$(e,t){if(t===null)return new Date(NaN);const r=e.match(t$);if(!r)return new Date(NaN);const n=!!r[4],i=Kl(r[1]),a=Kl(r[2])-1,o=Kl(r[3]),l=Kl(r[4]),c=Kl(r[5])-1;if(n)return h$(t,l,c)?c$(t,l,c):new Date(NaN);{const d=new Date(0);return!u$(t,a,o)||!f$(t,i)?new Date(NaN):(d.setUTCFullYear(t,a,Math.max(i,o)),d)}}function Kl(e){return e?parseInt(e):1}function o$(e){const t=e.match(r$);if(!t)return NaN;const r=bp(t[1]),n=bp(t[2]),i=bp(t[3]);return m$(r,n,i)?r*gE+n*pE+i*1e3:NaN}function bp(e){return e&&parseFloat(e.replace(",","."))||0}function l$(e){if(e==="Z")return 0;const t=e.match(n$);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;return p$(n,i)?r*(n*gE+i*pE):NaN}function c$(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const i=n.getUTCDay()||7,a=(t-1)*7+r+1-i;return n.setUTCDate(n.getUTCDate()+a),n}const d$=[31,null,31,30,31,30,31,31,30,31,30,31];function CE(e){return e%400===0||e%4===0&&e%100!==0}function u$(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(d$[t]||(CE(e)?29:28))}function f$(e,t){return t>=1&&t<=(CE(e)?366:365)}function h$(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function m$(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function p$(e,t){return t>=0&&t<=59}function jp(e,t){const r=it(e),n=r.getFullYear(),i=r.getDate(),a=ln(e,0);a.setFullYear(n,t,15),a.setHours(0,0,0,0);const o=QV(a);return r.setMonth(t,Math.min(i,o)),r}function Zb(e,t){const r=it(e);return isNaN(+r)?ln(e,NaN):(r.setFullYear(t),r)}var g$="Separator",Xb="horizontal",x$=["horizontal","vertical"],PE=m.forwardRef((e,t)=>{const{decorative:r,orientation:n=Xb,...i}=e,a=y$(n)?n:Xb,l=r?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return s.jsx(ge.div,{"data-orientation":a,...l,...i,ref:t})});PE.displayName=g$;function y$(e){return x$.includes(e)}var TE=PE;const Wd=m.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},i)=>s.jsx(TE,{ref:i,decorative:r,orientation:t,className:re("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));Wd.displayName=TE.displayName;function v$(e,t){return m.useReducer((r,n)=>t[r][n]??r,e)}var $v="ScrollArea",[EE,OY]=yr($v),[w$,Cn]=EE($v),_E=m.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:i,scrollHideDelay:a=600,...o}=e,[l,c]=m.useState(null),[d,u]=m.useState(null),[f,h]=m.useState(null),[p,v]=m.useState(null),[g,b]=m.useState(null),[x,y]=m.useState(0),[w,j]=m.useState(0),[N,P]=m.useState(!1),[S,E]=m.useState(!1),R=De(t,W=>c(W)),A=kl(i);return s.jsx(w$,{scope:r,type:n,dir:A,scrollHideDelay:a,scrollArea:l,viewport:d,onViewportChange:u,content:f,onContentChange:h,scrollbarX:p,onScrollbarXChange:v,scrollbarXEnabled:N,onScrollbarXEnabledChange:P,scrollbarY:g,onScrollbarYChange:b,scrollbarYEnabled:S,onScrollbarYEnabledChange:E,onCornerWidthChange:y,onCornerHeightChange:j,children:s.jsx(ge.div,{dir:A,...o,ref:R,style:{position:"relative","--radix-scroll-area-corner-width":x+"px","--radix-scroll-area-corner-height":w+"px",...e.style}})})});_E.displayName=$v;var DE="ScrollAreaViewport",ME=m.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:i,...a}=e,o=Cn(DE,r),l=m.useRef(null),c=De(t,l,o.onViewportChange);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),s.jsx(ge.div,{"data-radix-scroll-area-viewport":"",...a,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:s.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});ME.displayName=DE;var ys="ScrollAreaScrollbar",zv=m.forwardRef((e,t)=>{const{forceMount:r,...n}=e,i=Cn(ys,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:o}=i,l=e.orientation==="horizontal";return m.useEffect(()=>(l?a(!0):o(!0),()=>{l?a(!1):o(!1)}),[l,a,o]),i.type==="hover"?s.jsx(b$,{...n,ref:t,forceMount:r}):i.type==="scroll"?s.jsx(j$,{...n,ref:t,forceMount:r}):i.type==="auto"?s.jsx(AE,{...n,ref:t,forceMount:r}):i.type==="always"?s.jsx(Bv,{...n,ref:t}):null});zv.displayName=ys;var b$=m.forwardRef((e,t)=>{const{forceMount:r,...n}=e,i=Cn(ys,e.__scopeScrollArea),[a,o]=m.useState(!1);return m.useEffect(()=>{const l=i.scrollArea;let c=0;if(l){const d=()=>{window.clearTimeout(c),o(!0)},u=()=>{c=window.setTimeout(()=>o(!1),i.scrollHideDelay)};return l.addEventListener("pointerenter",d),l.addEventListener("pointerleave",u),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",d),l.removeEventListener("pointerleave",u)}}},[i.scrollArea,i.scrollHideDelay]),s.jsx(er,{present:r||a,children:s.jsx(AE,{"data-state":a?"visible":"hidden",...n,ref:t})})}),j$=m.forwardRef((e,t)=>{const{forceMount:r,...n}=e,i=Cn(ys,e.__scopeScrollArea),a=e.orientation==="horizontal",o=pm(()=>c("SCROLL_END"),100),[l,c]=v$("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return m.useEffect(()=>{if(l==="idle"){const d=window.setTimeout(()=>c("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(d)}},[l,i.scrollHideDelay,c]),m.useEffect(()=>{const d=i.viewport,u=a?"scrollLeft":"scrollTop";if(d){let f=d[u];const h=()=>{const p=d[u];f!==p&&(c("SCROLL"),o()),f=p};return d.addEventListener("scroll",h),()=>d.removeEventListener("scroll",h)}},[i.viewport,a,c,o]),s.jsx(er,{present:r||l!=="hidden",children:s.jsx(Bv,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:Q(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Q(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),AE=m.forwardRef((e,t)=>{const r=Cn(ys,e.__scopeScrollArea),{forceMount:n,...i}=e,[a,o]=m.useState(!1),l=e.orientation==="horizontal",c=pm(()=>{if(r.viewport){const d=r.viewport.offsetWidth<r.viewport.scrollWidth,u=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?d:u)}},10);return sl(r.viewport,c),sl(r.content,c),s.jsx(er,{present:n||a,children:s.jsx(Bv,{"data-state":a?"visible":"hidden",...i,ref:t})})}),Bv=m.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,i=Cn(ys,e.__scopeScrollArea),a=m.useRef(null),o=m.useRef(0),[l,c]=m.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=LE(l.viewport,l.content),u={...n,sizes:l,onSizesChange:c,hasThumb:d>0&&d<1,onThumbChange:h=>a.current=h,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:h=>o.current=h};function f(h,p){return T$(h,o.current,l,p)}return r==="horizontal"?s.jsx(N$,{...u,ref:t,onThumbPositionChange:()=>{if(i.viewport&&a.current){const h=i.viewport.scrollLeft,p=Jb(h,l,i.dir);a.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:h=>{i.viewport&&(i.viewport.scrollLeft=h)},onDragScroll:h=>{i.viewport&&(i.viewport.scrollLeft=f(h,i.dir))}}):r==="vertical"?s.jsx(k$,{...u,ref:t,onThumbPositionChange:()=>{if(i.viewport&&a.current){const h=i.viewport.scrollTop,p=Jb(h,l);a.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:h=>{i.viewport&&(i.viewport.scrollTop=h)},onDragScroll:h=>{i.viewport&&(i.viewport.scrollTop=f(h))}}):null}),N$=m.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...i}=e,a=Cn(ys,e.__scopeScrollArea),[o,l]=m.useState(),c=m.useRef(null),d=De(t,c,a.onScrollbarXChange);return m.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(OE,{"data-orientation":"horizontal",...i,ref:d,sizes:r,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":mm(r)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.x),onDragScroll:u=>e.onDragScroll(u.x),onWheelScroll:(u,f)=>{if(a.viewport){const h=a.viewport.scrollLeft+u.deltaX;e.onWheelScroll(h),$E(h,f)&&u.preventDefault()}},onResize:()=>{c.current&&a.viewport&&o&&n({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Kf(o.paddingLeft),paddingEnd:Kf(o.paddingRight)}})}})}),k$=m.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...i}=e,a=Cn(ys,e.__scopeScrollArea),[o,l]=m.useState(),c=m.useRef(null),d=De(t,c,a.onScrollbarYChange);return m.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(OE,{"data-orientation":"vertical",...i,ref:d,sizes:r,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":mm(r)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.y),onDragScroll:u=>e.onDragScroll(u.y),onWheelScroll:(u,f)=>{if(a.viewport){const h=a.viewport.scrollTop+u.deltaY;e.onWheelScroll(h),$E(h,f)&&u.preventDefault()}},onResize:()=>{c.current&&a.viewport&&o&&n({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Kf(o.paddingTop),paddingEnd:Kf(o.paddingBottom)}})}})}),[S$,RE]=EE(ys),OE=m.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:i,onThumbChange:a,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:d,onWheelScroll:u,onResize:f,...h}=e,p=Cn(ys,r),[v,g]=m.useState(null),b=De(t,R=>g(R)),x=m.useRef(null),y=m.useRef(""),w=p.viewport,j=n.content-n.viewport,N=Tt(u),P=Tt(c),S=pm(f,10);function E(R){if(x.current){const A=R.clientX-x.current.left,W=R.clientY-x.current.top;d({x:A,y:W})}}return m.useEffect(()=>{const R=A=>{const W=A.target;(v==null?void 0:v.contains(W))&&N(A,j)};return document.addEventListener("wheel",R,{passive:!1}),()=>document.removeEventListener("wheel",R,{passive:!1})},[w,v,j,N]),m.useEffect(P,[n,P]),sl(v,S),sl(p.content,S),s.jsx(S$,{scope:r,scrollbar:v,hasThumb:i,onThumbChange:Tt(a),onThumbPointerUp:Tt(o),onThumbPositionChange:P,onThumbPointerDown:Tt(l),children:s.jsx(ge.div,{...h,ref:b,style:{position:"absolute",...h.style},onPointerDown:Q(e.onPointerDown,R=>{R.button===0&&(R.target.setPointerCapture(R.pointerId),x.current=v.getBoundingClientRect(),y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),E(R))}),onPointerMove:Q(e.onPointerMove,E),onPointerUp:Q(e.onPointerUp,R=>{const A=R.target;A.hasPointerCapture(R.pointerId)&&A.releasePointerCapture(R.pointerId),document.body.style.webkitUserSelect=y.current,p.viewport&&(p.viewport.style.scrollBehavior=""),x.current=null})})})}),Hf="ScrollAreaThumb",FE=m.forwardRef((e,t)=>{const{forceMount:r,...n}=e,i=RE(Hf,e.__scopeScrollArea);return s.jsx(er,{present:r||i.hasThumb,children:s.jsx(C$,{ref:t,...n})})}),C$=m.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...i}=e,a=Cn(Hf,r),o=RE(Hf,r),{onThumbPositionChange:l}=o,c=De(t,f=>o.onThumbChange(f)),d=m.useRef(void 0),u=pm(()=>{d.current&&(d.current(),d.current=void 0)},100);return m.useEffect(()=>{const f=a.viewport;if(f){const h=()=>{if(u(),!d.current){const p=E$(f,l);d.current=p,l()}};return l(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[a.viewport,u,l]),s.jsx(ge.div,{"data-state":o.hasThumb?"visible":"hidden",...i,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:Q(e.onPointerDownCapture,f=>{const p=f.target.getBoundingClientRect(),v=f.clientX-p.left,g=f.clientY-p.top;o.onThumbPointerDown({x:v,y:g})}),onPointerUp:Q(e.onPointerUp,o.onThumbPointerUp)})});FE.displayName=Hf;var Wv="ScrollAreaCorner",IE=m.forwardRef((e,t)=>{const r=Cn(Wv,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?s.jsx(P$,{...e,ref:t}):null});IE.displayName=Wv;var P$=m.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,i=Cn(Wv,r),[a,o]=m.useState(0),[l,c]=m.useState(0),d=!!(a&&l);return sl(i.scrollbarX,()=>{var f;const u=((f=i.scrollbarX)==null?void 0:f.offsetHeight)||0;i.onCornerHeightChange(u),c(u)}),sl(i.scrollbarY,()=>{var f;const u=((f=i.scrollbarY)==null?void 0:f.offsetWidth)||0;i.onCornerWidthChange(u),o(u)}),d?s.jsx(ge.div,{...n,ref:t,style:{width:a,height:l,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Kf(e){return e?parseInt(e,10):0}function LE(e,t){const r=e/t;return isNaN(r)?0:r}function mm(e){const t=LE(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function T$(e,t,r,n="ltr"){const i=mm(r),a=i/2,o=t||a,l=i-o,c=r.scrollbar.paddingStart+o,d=r.scrollbar.size-r.scrollbar.paddingEnd-l,u=r.content-r.viewport,f=n==="ltr"?[0,u]:[u*-1,0];return VE([c,d],f)(e)}function Jb(e,t,r="ltr"){const n=mm(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-i,o=t.content-t.viewport,l=a-n,c=r==="ltr"?[0,o]:[o*-1,0],d=rd(e,c);return VE([0,o],[0,l])(d)}function VE(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function $E(e,t){return e>0&&e<t}var E$=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function i(){const a={left:e.scrollLeft,top:e.scrollTop},o=r.left!==a.left,l=r.top!==a.top;(o||l)&&t(),r=a,n=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(n)};function pm(e,t){const r=Tt(e),n=m.useRef(0);return m.useEffect(()=>()=>window.clearTimeout(n.current),[]),m.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function sl(e,t){const r=Tt(t);or(()=>{let n=0;if(e){const i=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return i.observe(e),()=>{window.cancelAnimationFrame(n),i.unobserve(e)}}},[e,r])}var zE=_E,_$=ME,D$=IE;const uo=m.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(zE,{ref:n,className:re("relative overflow-hidden",e),...r,children:[s.jsx(_$,{className:"h-full w-full rounded-[inherit]",children:t}),s.jsx(BE,{}),s.jsx(D$,{})]}));uo.displayName=zE.displayName;const BE=m.forwardRef(({className:e,orientation:t="vertical",...r},n)=>s.jsx(zv,{ref:n,orientation:t,className:re("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:s.jsx(FE,{className:"relative flex-1 rounded-full bg-border"})}));BE.displayName=zv.displayName;var Uv="Popover",[WE,FY]=yr(Uv,[Yi]),Ud=Yi(),[M$,Qi]=WE(Uv),UE=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:i,onOpenChange:a,modal:o=!1}=e,l=Ud(t),c=m.useRef(null),[d,u]=m.useState(!1),[f=!1,h]=Sn({prop:n,defaultProp:i,onChange:a});return s.jsx(zh,{...l,children:s.jsx(M$,{scope:t,contentId:bn(),triggerRef:c,open:f,onOpenChange:h,onOpenToggle:m.useCallback(()=>h(p=>!p),[h]),hasCustomAnchor:d,onCustomAnchorAdd:m.useCallback(()=>u(!0),[]),onCustomAnchorRemove:m.useCallback(()=>u(!1),[]),modal:o,children:r})})};UE.displayName=Uv;var HE="PopoverAnchor",A$=m.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,i=Qi(HE,r),a=Ud(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=i;return m.useEffect(()=>(o(),()=>l()),[o,l]),s.jsx(Fd,{...a,...n,ref:t})});A$.displayName=HE;var KE="PopoverTrigger",YE=m.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,i=Qi(KE,r),a=Ud(r),o=De(t,i.triggerRef),l=s.jsx(ge.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":XE(i.open),...n,ref:o,onClick:Q(e.onClick,i.onOpenToggle)});return i.hasCustomAnchor?l:s.jsx(Fd,{asChild:!0,...a,children:l})});YE.displayName=KE;var Hv="PopoverPortal",[R$,O$]=WE(Hv,{forceMount:void 0}),qE=e=>{const{__scopePopover:t,forceMount:r,children:n,container:i}=e,a=Qi(Hv,t);return s.jsx(R$,{scope:t,forceMount:r,children:s.jsx(er,{present:r||a.open,children:s.jsx(vl,{asChild:!0,container:i,children:n})})})};qE.displayName=Hv;var il="PopoverContent",GE=m.forwardRef((e,t)=>{const r=O$(il,e.__scopePopover),{forceMount:n=r.forceMount,...i}=e,a=Qi(il,e.__scopePopover);return s.jsx(er,{present:n||a.open,children:a.modal?s.jsx(I$,{...i,ref:t}):s.jsx(L$,{...i,ref:t})})});GE.displayName=il;var F$=Mi("PopoverContent.RemoveScroll"),I$=m.forwardRef((e,t)=>{const r=Qi(il,e.__scopePopover),n=m.useRef(null),i=De(t,n),a=m.useRef(!1);return m.useEffect(()=>{const o=n.current;if(o)return Xh(o)},[]),s.jsx(Ld,{as:F$,allowPinchZoom:!0,children:s.jsx(QE,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Q(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),a.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Q(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;a.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:Q(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),L$=m.forwardRef((e,t)=>{const r=Qi(il,e.__scopePopover),n=m.useRef(!1),i=m.useRef(!1);return s.jsx(QE,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,a),a.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),a.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:a=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;((d=r.triggerRef.current)==null?void 0:d.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),QE=m.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:u,...f}=e,h=Qi(il,r),p=Ud(r);return Gh(),s.jsx(Id,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:a,children:s.jsx(za,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:u,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onDismiss:()=>h.onOpenChange(!1),children:s.jsx(Bh,{"data-state":XE(h.open),role:"dialog",id:h.contentId,...p,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),ZE="PopoverClose",V$=m.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,i=Qi(ZE,r);return s.jsx(ge.button,{type:"button",...n,ref:t,onClick:Q(e.onClick,()=>i.onOpenChange(!1))})});V$.displayName=ZE;var $$="PopoverArrow",z$=m.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,i=Ud(r);return s.jsx(Wh,{...i,...n,ref:t})});z$.displayName=$$;function XE(e){return e?"open":"closed"}var B$=UE,W$=YE,U$=qE,JE=GE;const al=B$,ol=W$,Oa=m.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},i)=>s.jsx(U$,{children:s.jsx(JE,{ref:i,align:t,sideOffset:r,className:re("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",e),...n})}));Oa.displayName=JE.displayName;function H$(){const{id:e}=$y(),t=parseInt(e||"0"),{user:r}=vr(),n=fn(),[i,a]=m.useState(""),[o,l]=m.useState({}),[c,d]=m.useState(""),[u,f]=m.useState([]),[h,p]=m.useState(0),[v,g]=m.useState(null),[b,x]=m.useState(""),[y,w]=m.useState(!1),[j,N]=m.useState([]),[P,S]=m.useState(!1),[E,R]=m.useState({}),[A,W]=m.useState({}),V=m.useRef({}),O=m.useRef(null),B=m.useRef(null),[Y,H]=m.useState(!1),{data:_=[]}=kt({queryKey:[`/api/trips/${t}/members`],enabled:!!t}),C=_.reduce((k,D)=>(D.user&&(k[D.userId]=D.user),k),{}),{data:T=[],isLoading:$}=kt({queryKey:["/api/trips",t,"chat"],queryFn:async()=>(await(await je("GET",`/api/trips/${t}/chat`)).json()).map(L=>{const se=C[L.userId];return{...L,user:se||{displayName:`User ${L.userId}`,id:L.userId}}}),enabled:!!t&&_.length>0}),U=Ae({mutationFn:async k=>{if(!r)throw new Error("Not authenticated");const D={userId:r.id,message:k,tripId:t};return(await je("POST",`/api/trips/${t}/chat`,D)).json()},onSuccess:()=>{n.invalidateQueries({queryKey:["/api/trips",t,"chat"]}),a("")}}),fe=Ae({mutationFn:async({file:k,message:D})=>{if(!r)throw new Error("Not authenticated");const L=new FormData;L.append("file",k),D&&L.append("message",D);const se=await fetch(`/api/trips/${t}/chat/upload`,{method:"POST",body:L,credentials:"include"});if(!se.ok){const ne=await se.json();throw new Error(ne.message||"Upload failed")}return se.json()},onSuccess:()=>{n.invalidateQueries({queryKey:["/api/trips",t,"chat"]}),H(!1)},onError:k=>{console.error("File upload error:",k),H(!1)}}),Te=m.useCallback(k=>{!(r!=null&&r.id)||!t||Je.send("typing_indicator",{userId:r.id,tripId:t,isTyping:k})},[r==null?void 0:r.id,t]);m.useEffect(()=>{if(!(!(r!=null&&r.id)||!t||!i))return V.current[r.id]&&clearTimeout(V.current[r.id]),Te(!0),V.current[r.id]=setTimeout(()=>{Te(!1)},3e3),()=>{V.current[r.id]&&clearTimeout(V.current[r.id])}},[i,r==null?void 0:r.id,t,Te]),m.useEffect(()=>{if(!(r!=null&&r.id)||!t)return;Je.registerConnection(),Je.connect(),Je.send("auth",{userId:r.id}),Je.send("join_trip",{tripId:t});const k=ie=>{n.setQueryData(["/api/trips",t,"chat"],(be=[])=>be.some(qe=>qe.id===ie.payload.id)?be:[...be,ie.payload].sort((qe,Ze)=>new Date(qe.sentAt).getTime()-new Date(Ze.sentAt).getTime())),r!=null&&r.id&&ie.payload.id&&Je.send("message_read",{messageId:ie.payload.id,userId:r.id,tripId:t})},D=ie=>{var wr,vs;const{userId:be,isTyping:qe}=ie.payload;if(be===r.id)return;const Ze=((vs=(wr=T.find(Pn=>Pn.userId===be))==null?void 0:wr.user)==null?void 0:vs.displayName)||`User ${be}`;l(Pn=>{if(qe)return{...Pn,[be]:Ze};{const Xi={...Pn};return delete Xi[be],Xi}})},L=ie=>{const{messageId:be,reactions:qe}=ie.payload;n.setQueryData(["/api/trips",t,"chat"],(Ze=[])=>Ze.map(wr=>wr.id===be?{...wr,reactions:qe}:wr))},se=ie=>{const be=ie.payload;n.setQueryData(["/api/trips",t,"chat"],(qe=[])=>qe.map(Ze=>Ze.id===be.id?{...be,user:Ze.user}:Ze))},ne=ie=>{const{messageId:be}=ie.payload;n.setQueryData(["/api/trips",t,"chat"],(qe=[])=>qe.map(Ze=>Ze.id===be?{...Ze,isDeleted:!0}:Ze))},ee=ie=>{const{messageId:be,readBy:qe}=ie.payload;n.setQueryData(["/api/trips",t,"chat"],(Ze=[])=>Ze.map(wr=>wr.id===be?{...wr,readBy:qe}:wr))};return Je.on("chat_message",k),Je.on("typing_indicator",D),Je.on("message_reaction",L),Je.on("message_edit",se),Je.on("message_delete",ne),Je.on("message_read",ee),()=>{Je.off("chat_message",k),Je.off("typing_indicator",D),Je.off("message_reaction",L),Je.off("message_edit",se),Je.off("message_delete",ne),Je.off("message_read",ee),Te(!1),Je.deregisterConnection()}},[r==null?void 0:r.id,t,n,Te,T]),m.useEffect(()=>{if(O.current){const k=O.current.querySelector("[data-radix-scroll-area-viewport]");k&&(k.scrollTop=k.scrollHeight)}},[T]);const $e=k=>{var L;const D=(L=k.target.files)==null?void 0:L[0];!D||!r||(H(!0),fe.mutate({file:D}),B.current&&(B.current.value=""))},pt=()=>{var k;(k=B.current)==null||k.click()},ze=k=>{if(k.preventDefault(),!i.trim())return;const D=Je.send("chat_message",{userId:r==null?void 0:r.id,tripId:t,message:i});a(""),!D&&!U.isPending&&U.mutate(i)},te=m.useCallback(()=>{if(!c.trim()){f([]),w(!1);return}const k=c.toLowerCase(),D=T.filter(L=>!L.isDeleted&&L.message.toLowerCase().includes(k)).map(L=>L.id);if(f(D),p(0),w(!0),D.length>0){const L=document.getElementById(`message-${D[0]}`);L&&L.scrollIntoView({behavior:"smooth",block:"center"})}},[c,T]),K=k=>{g(k.id),x(k.message)},ce=()=>{!v||!b.trim()||!(r!=null&&r.id)||(Je.send("message_edit",{messageId:v,userId:r.id,tripId:t,message:b}),g(null),x(""))},ve=()=>{g(null),x("")},xe=k=>{S(!0),N(D=>[...D,k])},Se=k=>{N(D=>D.includes(k)?D.filter(L=>L!==k):[...D,k])},I=()=>{S(!1),N([])},ae=()=>{!(r!=null&&r.id)||j.length===0||(j.forEach(k=>{Je.send("message_delete",{messageId:k,userId:r.id,tripId:t})}),S(!1),N([]))},pe=k=>{r!=null&&r.id&&Je.send("message_delete",{messageId:k,userId:r.id,tripId:t})},z=(k,D)=>{r!=null&&r.id&&Je.send("message_reaction",{messageId:k,userId:r.id,tripId:t,reaction:D,toggle:!0})},q=k=>{if(u.length===0)return;let D=h;k==="next"?D=(h+1)%u.length:D=(h-1+u.length)%u.length,p(D);const L=document.getElementById(`message-${u[D]}`);L&&L.scrollIntoView({behavior:"smooth",block:"center"})},Fe=k=>{if(!k.readBy||!Array.isArray(k.readBy)||k.readBy.length<=1)return null;const D=k.readBy.filter(L=>L!==k.userId);return D.length===0?null:s.jsx(Re,{children:s.jsxs(Ie,{children:[s.jsx(Le,{asChild:!0,children:s.jsxs("div",{className:"flex items-center text-xs text-gray-600 dark:text-gray-400 mt-1 bg-gray-50 dark:bg-gray-800/50 px-1.5 py-0.5 rounded-full shadow-sm",children:[s.jsx(cO,{className:"h-3 w-3 mr-0.5 text-green-600 dark:text-green-500"}),s.jsxs("span",{children:[s.jsx("span",{className:"hidden sm:inline",children:"Read by "}),s.jsx("span",{children:D.length})]})]})}),s.jsx(Oe,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 text-gray-700 dark:text-gray-300",children:s.jsxs("p",{children:["Read by ",D.length," member",D.length!==1?"s":""]})})]})})},Ve=k=>!k.reactions||Object.keys(k.reactions).length===0?null:s.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:Object.entries(k.reactions).map(([D,L])=>s.jsxs(He,{variant:"outline",className:"cursor-pointer bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 shadow-sm",onClick:()=>z(k.id,D),children:[s.jsx("span",{"aria-label":"Reaction",children:D}),s.jsx("span",{className:"ml-1 text-xs font-semibold bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400 rounded-full px-1.5 py-0.5 leading-none",children:L.length})]},D))}),Qe=()=>{const k=Object.keys(o).length;if(k===0)return null;let D="";const L=Object.values(o);return k===1?D=`${L[0]} is typing...`:k===2?D=`${L[0]} and ${L[1]} are typing...`:D=`${L[0]}, ${L[1]} and ${k-2} more are typing...`,s.jsx("div",{className:"px-4 py-2 text-sm text-gray-500 dark:text-gray-400 italic animate-pulse",children:D})},tt=k=>{var be,qe,Ze,wr,vs,Pn,Xi,Tl,eu,El;if(k.isDeleted)return s.jsx("div",{id:`message-${k.id}`,className:"flex justify-center my-2 px-2",children:s.jsx("div",{className:"px-4 py-1 text-sm italic text-gray-500 dark:text-gray-400 bg-gray-100 dark:bg-gray-800/50 rounded-lg",children:"This message was deleted"})},k.id);const D=k.userId===(r==null?void 0:r.id),L=((be=k.user)==null?void 0:be.displayName)||`User ${k.userId}`;(qe=L[0])!=null&&qe.toUpperCase();const se=new Date(k.sentAt),ne=_r(se,"h:mm a"),ee=_r(se,"MMM d"),ie=u.includes(k.id)&&u[h]===k.id;return s.jsxs("div",{id:`message-${k.id}`,className:`flex items-start gap-3 mb-6 ${D?"flex-row-reverse":""}
                  ${ie?"bg-yellow-100/50 dark:bg-yellow-800/20 rounded-lg px-2 py-1":""}
                  ${j.includes(k.id)?"bg-primary-50/70 dark:bg-primary-900/30 rounded-lg px-2 py-1 border border-primary-200 dark:border-primary-800":""}`,children:[s.jsx(Re,{children:s.jsxs(Ie,{children:[s.jsx(Le,{asChild:!0,children:s.jsx(gr,{src:((Ze=k.user)==null?void 0:Ze.avatar)??void 0,fallback:((wr=k.user)==null?void 0:wr.displayName)??void 0,size:"sm",className:"mt-1 flex-shrink-0 border-2 border-white dark:border-gray-800 shadow-sm"})}),s.jsx(Oe,{side:D?"right":"left",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"font-medium",children:L}),s.jsx("p",{className:"text-xs text-gray-500",children:D?"You":"Trip member"})]})})]})}),s.jsxs("div",{className:`max-w-[85%] sm:max-w-[75%] md:max-w-[60%] flex flex-col ${D?"items-end":"items-start"}`,children:[s.jsx("div",{className:`flex items-center gap-1 sm:gap-2 mb-1 ${D?"justify-end":"justify-start"}`,children:s.jsxs("div",{className:"flex items-center flex-wrap",children:[s.jsx("span",{className:"text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300",children:D?"You":L}),s.jsxs("div",{className:"flex items-center ml-1.5",children:[s.jsx(Ai,{className:"h-3 w-3 text-gray-400 dark:text-gray-500 mr-0.5"}),s.jsx(Re,{children:s.jsxs(Ie,{children:[s.jsx(Le,{asChild:!0,children:s.jsx("span",{className:`text-xs text-gray-500 dark:text-gray-400 cursor-pointer ${j.includes(k.id)?"font-bold text-primary-600 dark:text-primary-400":""}`,onTouchStart:tr=>{const _l={...A};_l[k.id]=Date.now(),W(_l);const Tm=setTimeout(()=>{D&&xe(k.id)},500),Dl={...E};Dl[k.id]=Tm,R(Dl)},onTouchEnd:()=>{if(E[k.id]){clearTimeout(E[k.id]);const tr={...E};delete tr[k.id],R(tr)}P&&D&&Se(k.id)},onMouseDown:tr=>{const _l={...A};_l[k.id]=Date.now(),W(_l);const Tm=setTimeout(()=>{D&&xe(k.id)},500),Dl={...E};Dl[k.id]=Tm,R(Dl)},onMouseUp:()=>{if(E[k.id]){clearTimeout(E[k.id]);const tr={...E};delete tr[k.id],R(tr)}P&&D&&Se(k.id)},onMouseLeave:()=>{if(E[k.id]){clearTimeout(E[k.id]);const tr={...E};delete tr[k.id],R(tr)}},children:ne})}),s.jsxs(Oe,{side:"top",className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 text-gray-700 dark:text-gray-300",children:[s.jsxs("p",{children:[ee," at ",ne]}),D&&!P&&s.jsx("p",{className:"text-xs mt-1 text-gray-500 dark:text-gray-400",children:"Long press to select"})]})]})})]}),k.isEdited&&s.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 ml-1.5 italic",children:"(edited)"})]})}),v===k.id?s.jsxs("div",{className:"flex flex-col gap-2 w-full mb-2",children:[s.jsx(me,{value:b,onChange:tr=>x(tr.target.value),className:"min-w-[200px] bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600",autoFocus:!0}),s.jsxs("div",{className:"flex gap-2 justify-end",children:[s.jsxs(F,{variant:"ghost",size:"sm",onClick:ve,className:"h-8 text-gray-600 dark:text-gray-300",children:[s.jsx(Co,{className:"h-4 w-4 mr-1"}),"Cancel"]}),s.jsxs(F,{variant:"default",size:"sm",onClick:ce,className:"h-8 bg-blue-600 hover:bg-blue-700 text-white",children:[s.jsx(hC,{className:"h-4 w-4 mr-1"}),"Save"]})]})]}):s.jsxs("div",{className:"group relative",children:[s.jsx("div",{className:`px-3 sm:px-4 py-2.5 sm:py-3 rounded-lg shadow-md ${D?"bg-blue-600 text-white dark:bg-blue-700 dark:text-white border border-blue-500 dark:border-blue-600":"bg-white text-gray-800 dark:bg-gray-800 dark:text-gray-100 border border-gray-200 dark:border-gray-700"}`,children:s.jsxs("div",{className:"space-y-2",children:[k.hasAttachment&&k.attachmentUrl&&s.jsx("div",{className:"mb-2",children:(vs=k.attachmentType)!=null&&vs.startsWith("image/")?s.jsxs("div",{className:"relative max-w-sm",children:[s.jsx("img",{src:k.attachmentUrl,alt:k.attachmentName||"Shared image",className:"rounded-lg border border-gray-200 dark:border-gray-600 max-w-full h-auto cursor-pointer hover:opacity-90 transition-opacity",style:{imageRendering:"auto"},loading:"lazy",onClick:()=>k.attachmentUrl&&window.open(k.attachmentUrl,"_blank")}),s.jsx("div",{className:"absolute bottom-2 left-2 bg-black/70 text-white text-xs px-2 py-1 rounded",children:k.attachmentName})]}):(Pn=k.attachmentType)!=null&&Pn.startsWith("video/")?s.jsxs("div",{className:"relative max-w-sm",children:[s.jsxs("video",{controls:!0,className:"rounded-lg border border-gray-200 dark:border-gray-600 max-w-full h-auto",preload:"metadata",children:[s.jsx("source",{src:k.attachmentUrl,type:k.attachmentType}),"Your browser does not support the video tag."]}),s.jsx("div",{className:"absolute bottom-2 left-2 bg-black/70 text-white text-xs px-2 py-1 rounded",children:k.attachmentName})]}):s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors cursor-pointer",onClick:()=>k.attachmentUrl&&window.open(k.attachmentUrl,"_blank"),children:[s.jsx("div",{className:"flex-shrink-0",children:(Xi=k.attachmentType)!=null&&Xi.includes("pdf")?s.jsx(Zy,{className:"h-8 w-8 text-red-500"}):(Tl=k.attachmentType)!=null&&Tl.includes("audio")?s.jsx(kO,{className:"h-8 w-8 text-green-500"}):(eu=k.attachmentType)!=null&&eu.includes("zip")||(El=k.attachmentType)!=null&&El.includes("rar")?s.jsx(sO,{className:"h-8 w-8 text-yellow-500"}):s.jsx(jb,{className:"h-8 w-8 text-gray-500"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 truncate",children:k.attachmentName}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:k.attachmentSize?`${(k.attachmentSize/1024/1024).toFixed(1)} MB`:"Unknown size"})]}),s.jsx("div",{className:"flex-shrink-0",children:s.jsx(aC,{className:"h-5 w-5 text-gray-400"})})]})}),s.jsx("div",{className:"break-words text-[14px] sm:text-base whitespace-normal leading-tight sm:leading-normal",children:k.message})]})}),D&&s.jsx("div",{className:"absolute -top-3 -right-2 opacity-60 sm:opacity-0 sm:group-hover:opacity-100 transition-opacity",children:s.jsxs(Jc,{children:[s.jsx(ed,{asChild:!0,children:s.jsx(F,{variant:"ghost",size:"sm",className:"h-6 w-6 sm:h-6 sm:w-6 p-0 bg-blue-700 hover:bg-blue-800 text-white rounded-full shadow-md border border-white dark:border-gray-800",children:s.jsx(ba,{className:"h-3 w-3 sm:h-3 sm:w-3"})})}),s.jsxs(rl,{align:D?"end":"start",className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:[s.jsxs(dt,{onClick:()=>K(k),className:"text-gray-700 dark:text-gray-200 focus:text-primary-600 dark:focus:text-primary-400 hover:bg-gray-100 dark:hover:bg-gray-700",children:[s.jsx(uC,{className:"h-4 w-4 mr-2"}),"Edit"]}),s.jsxs(dt,{onClick:()=>pe(k.id),className:"text-red-600 dark:text-red-400 focus:text-red-700 dark:focus:text-red-300 hover:bg-red-50 dark:hover:bg-red-900/20",children:[s.jsx(Tr,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]})}),s.jsx("div",{className:`mt-2 ${D?"flex justify-end":""}`,children:Ve(k)}),s.jsx("div",{className:`mt-1 ${D?"flex justify-end":""}`,children:s.jsxs(al,{children:[s.jsx(ol,{asChild:!0,children:s.jsx(F,{variant:"ghost",size:"sm",className:"h-7 px-2 opacity-60 sm:opacity-0 sm:group-hover:opacity-100 transition-opacity text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700",children:s.jsx(DO,{className:"h-4 w-4"})})}),s.jsx(Oa,{className:"w-auto p-2 border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 shadow-md",align:D?"end":"start",children:s.jsx("div",{className:"flex gap-2",children:["","","","","",""].map(tr=>s.jsx("button",{className:"text-xl hover:bg-gray-100 dark:hover:bg-gray-700 p-1.5 rounded-md transition-colors",onClick:()=>z(k.id,tr),"aria-label":`React with ${tr}`,children:tr},tr))})})]})}),D&&s.jsx("div",{className:"mt-1 flex justify-end",children:Fe(k)})]})]})]},k.id)};return s.jsxs("div",{className:"h-full flex flex-col bg-white dark:bg-gray-900 relative",children:[s.jsxs("div",{className:"p-2 sm:p-4 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800 flex flex-col gap-2 sticky top-0 z-10 shadow-md flex-shrink-0",children:[P&&s.jsxs("div",{className:"flex items-center justify-between bg-primary-50 dark:bg-primary-900/30 p-2 rounded-lg mb-2 border border-primary-200 dark:border-primary-800",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(He,{variant:"outline",className:"bg-primary-100 dark:bg-primary-800 text-primary-700 dark:text-primary-300 border-primary-200 dark:border-primary-700",children:[j.length," selected"]}),s.jsxs(F,{variant:"ghost",size:"sm",onClick:I,className:"text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700 h-8",children:[s.jsx(Co,{className:"h-4 w-4 mr-1"}),"Cancel"]})]}),s.jsxs(F,{variant:"destructive",size:"sm",onClick:ae,className:"bg-red-600 hover:bg-red-700 text-white h-8",disabled:j.length===0,children:[s.jsx(Tr,{className:"h-4 w-4 mr-1"}),"Delete ",j.length>1?`(${j.length})`:""]})]}),s.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ci,{className:"h-5 w-5 text-primary-600 dark:text-primary-400"}),s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-800 dark:text-gray-100",children:"Trip Chat"}),T&&T.length>0&&s.jsx(He,{variant:"outline",className:"ml-1 sm:ml-2 bg-primary-50 dark:bg-primary-900/20 text-primary-600 dark:text-primary-400 border-primary-200 dark:border-primary-800",children:T.length})]}),s.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[s.jsx("div",{className:"hidden sm:block",children:s.jsx(Re,{children:s.jsxs(Ie,{children:[s.jsx(Le,{asChild:!0,children:s.jsxs(F,{variant:"outline",size:"sm",className:"h-9 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600 shadow-sm",children:[s.jsx(Vr,{className:"h-4 w-4 mr-1 text-primary-600 dark:text-primary-400"}),"Create"]})}),s.jsx(Oe,{side:"bottom",children:s.jsx("p",{children:"Create new content"})})]})})}),s.jsx(Re,{children:s.jsxs(Ie,{children:[s.jsx(Le,{asChild:!0,children:s.jsx(F,{variant:"ghost",size:"sm",className:`text-gray-500 dark:text-gray-400 hover:text-primary-600 dark:hover:text-primary-400
                      ${y?"bg-gray-100 dark:bg-gray-700":""}`,onClick:()=>w(!y),children:s.jsx(Jg,{className:"h-4 w-4"})})}),s.jsx(Oe,{side:"bottom",children:s.jsx("p",{children:"Search messages"})})]})}),s.jsx(Re,{children:s.jsxs(Ie,{children:[s.jsx(Le,{asChild:!0,children:s.jsx(F,{variant:"ghost",size:"sm",className:"text-gray-500 dark:text-gray-400 hover:text-primary-600 dark:hover:text-primary-400",onClick:()=>n.invalidateQueries({queryKey:["/api/trips",t,"chat"]}),children:s.jsx(Xg,{className:"h-4 w-4"})})}),s.jsx(Oe,{side:"bottom",children:s.jsx("p",{children:"Refresh messages"})})]})})]})]}),y&&s.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2 mt-2",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Jg,{className:"h-4 w-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500 dark:text-gray-400"}),s.jsx(me,{value:c,onChange:k=>d(k.target.value),placeholder:"Search messages...",className:"pl-9 bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-800 dark:text-gray-200",onKeyDown:k=>{k.key==="Enter"&&te()}}),u.length>0&&s.jsxs(He,{variant:"outline",className:"absolute right-10 top-1/2 transform -translate-y-1/2",children:[h+1,"/",u.length]}),c&&s.jsx(F,{variant:"ghost",size:"sm",className:"absolute right-2 top-1/2 transform -translate-y-1/2 h-6 w-6 p-0",onClick:()=>{d(""),f([]),w(!1)},children:s.jsx(Co,{className:"h-4 w-4"})})]}),s.jsx(F,{variant:"outline",size:"sm",onClick:te,className:"bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 px-3 h-9",children:"Search"}),u.length>0&&s.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 mt-1 sm:mt-0",children:[s.jsxs(He,{variant:"outline",className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 text-gray-700 dark:text-gray-300 px-2 py-1 mr-1",children:[h+1,"/",u.length]}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx(F,{variant:"outline",size:"sm",onClick:()=>q("prev"),className:"bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 px-2 h-9","aria-label":"Previous result",children:s.jsx(Af,{className:"h-4 w-4"})}),s.jsx(F,{variant:"outline",size:"sm",onClick:()=>q("next"),className:"bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 px-2 h-9","aria-label":"Next result",children:s.jsx(So,{className:"h-4 w-4"})})]})]})]})]}),s.jsx(uo,{ref:O,className:"flex-1 p-2 sm:p-4 pb-32",children:$?s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center bg-white dark:bg-gray-800 rounded-lg shadow-md p-4 sm:p-6",children:[s.jsx(Pr,{className:"w-8 h-8 animate-spin text-primary-600 dark:text-primary-400 mx-auto mb-2"}),s.jsx("p",{className:"text-sm sm:text-base text-gray-600 dark:text-gray-300",children:"Loading messages..."})]})}):T.length===0?s.jsxs(Ce,{className:"flex flex-col items-center justify-center text-center h-full p-6 sm:p-8 border-dashed border-2 border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800/50 mx-2 sm:mx-0",children:[s.jsx(Ci,{className:"w-12 h-12 sm:w-14 sm:h-14 text-gray-400 dark:text-gray-500 mb-4 sm:mb-5"}),s.jsx("h3",{className:"text-xl sm:text-2xl font-semibold text-gray-800 dark:text-gray-200 mb-3",children:"No messages yet"}),s.jsx("p",{className:"text-base sm:text-lg text-gray-600 dark:text-gray-400 mb-5 sm:mb-6 max-w-xs sm:max-w-sm",children:"Start a conversation with your trip members. Share ideas, plans, or just say hello!"}),s.jsxs("div",{className:"inline-flex items-center gap-2 p-3 rounded-full bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 shadow-md border border-gray-200 dark:border-gray-600",children:[s.jsx(MO,{className:"h-5 w-5 text-primary-600 dark:text-primary-400"}),s.jsx("span",{className:"text-sm sm:text-base font-medium",children:"Type a message below to get started"})]})]}):s.jsxs("div",{className:"space-y-5 sm:space-y-6 px-1 sm:px-0",children:[T.map(tt),Object.keys(o).length>0&&s.jsxs("div",{className:"flex items-start gap-2 sm:gap-3 mb-4 sm:mb-6",children:[s.jsx("div",{className:"mt-1 flex-shrink-0",children:s.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-100 dark:bg-indigo-900 border-2 border-gray-100 dark:border-gray-800 shadow-sm flex items-center justify-center",children:s.jsx(Xt,{className:"h-4 w-4 text-indigo-600 dark:text-indigo-300"})})}),s.jsx("div",{className:"max-w-[85%] sm:max-w-[75%] md:max-w-[60%]",children:s.jsxs("div",{className:"px-3 sm:px-4 py-2 rounded-lg bg-gray-50 dark:bg-gray-800/60 border border-gray-200 dark:border-gray-700 shadow-sm w-auto inline-flex items-center",children:[s.jsxs("div",{className:"flex space-x-1",children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-indigo-500 dark:bg-indigo-400 animate-bounce",style:{animationDelay:"0ms"}}),s.jsx("div",{className:"w-2 h-2 rounded-full bg-indigo-500 dark:bg-indigo-400 animate-bounce",style:{animationDelay:"300ms"}}),s.jsx("div",{className:"w-2 h-2 rounded-full bg-indigo-500 dark:bg-indigo-400 animate-bounce",style:{animationDelay:"600ms"}})]}),s.jsx("span",{className:"ml-2 sm:ml-3 text-xs sm:text-sm text-gray-700 dark:text-gray-300",children:Qe()})]})})]})]})}),s.jsx(Wd,{className:"bg-gray-200 dark:bg-gray-700"}),s.jsxs("div",{className:"fixed bottom-16 md:bottom-0 left-0 right-0 p-3 sm:p-4 bg-gray-50 dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 shadow-lg z-10 md:left-64",children:[!Je.connected&&s.jsxs("div",{className:"mb-3 p-2 rounded-md bg-red-100 dark:bg-red-900/30 border border-red-200 dark:border-red-800 text-red-700 dark:text-red-400 text-xs sm:text-sm flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[s.jsx("div",{className:"h-2 w-2 rounded-full bg-red-500 animate-pulse flex-shrink-0"}),s.jsx("p",{children:"Connection Error. Changes may not be synchronized."})]}),s.jsxs(F,{size:"sm",variant:"outline",className:"text-xs whitespace-nowrap border-red-300 dark:border-red-700 hover:bg-red-200 dark:hover:bg-red-800 ml-2 flex-shrink-0",onClick:()=>Je.reconnect(),children:[s.jsx(Xg,{className:"h-3 w-3 sm:mr-1"}),s.jsx("span",{className:"hidden sm:inline",children:"Reconnect"})]})]}),s.jsx(Re,{children:s.jsxs(Ie,{children:[s.jsx(Le,{asChild:!0,children:s.jsxs("div",{className:"mb-2 flex items-center gap-1 sm:gap-2 text-xs text-gray-500 dark:text-gray-400",children:[s.jsx(ba,{className:"h-3 w-3 flex-shrink-0"}),s.jsx("p",{className:"truncate",children:"Messages are visible to all trip members"})]})}),s.jsx(Oe,{side:"top",children:s.jsx("p",{children:"Everyone on this trip can see these messages"})})]})}),s.jsxs("form",{onSubmit:ze,className:"flex gap-2 items-center bg-white dark:bg-gray-700 p-2 sm:p-3 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600",children:[s.jsx(Re,{children:s.jsxs(Ie,{children:[s.jsx(Le,{asChild:!0,children:s.jsx(F,{type:"button",variant:"ghost",size:"icon",onClick:pt,disabled:Y||fe.isPending,className:"bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-600 hover:bg-gray-200 dark:hover:bg-gray-700 h-12 w-12 sm:h-10 sm:w-10 rounded-full shadow-sm flex-shrink-0",children:Y||fe.isPending?s.jsx(Pr,{className:"h-5 w-5 text-gray-600 dark:text-gray-300 animate-spin"}):s.jsx(jb,{className:"h-5 w-5 text-gray-600 dark:text-gray-300"})})}),s.jsx(Oe,{side:"top",children:s.jsx("p",{children:"Add high-quality file or image"})})]})}),s.jsx("input",{ref:B,type:"file",accept:"*/*",onChange:$e,style:{display:"none"},multiple:!1}),s.jsxs("div",{className:"relative flex-1",children:[s.jsx(me,{value:i,onChange:k=>a(k.target.value),placeholder:"Type your message...",className:"w-full px-4 py-3 min-h-[48px] sm:min-h-[42px] text-base border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-800 dark:text-gray-100 rounded-lg focus-visible:ring-primary-500 dark:focus-visible:ring-primary-400",disabled:!r||U.isPending}),!i.trim()&&s.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500",children:s.jsx(Ci,{className:"h-5 w-5"})})]}),s.jsx(Re,{children:s.jsxs(Ie,{children:[s.jsx(Le,{asChild:!0,children:s.jsx(F,{type:"submit",disabled:!i.trim()||!r||U.isPending,className:"bg-blue-600 hover:bg-blue-700 text-white dark:bg-blue-600 dark:hover:bg-blue-700 dark:text-white px-3 sm:px-4 h-12 sm:h-10 rounded-full shadow-lg border border-blue-500 dark:border-blue-700",children:U.isPending?s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Pr,{className:"w-5 h-5 animate-spin"}),s.jsx("span",{className:"sr-only",children:"Sending..."})]}):s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx(_O,{className:"w-5 h-5 text-white"}),s.jsx("span",{className:"hidden sm:inline font-medium",children:"Send"})]})})}),s.jsx(Oe,{side:"top",children:s.jsx("p",{children:"Send message to all trip members"})})]})})]})]})]})}const K$=({tripId:e})=>{const{user:t}=vr(),{toast:r}=vt(),n=fn(),{data:i}=kt({queryKey:[`/api/trips/${e}`],enabled:!!e}),{data:a,isLoading:o}=kt({queryKey:["/api/trips",e,"members"],queryFn:async()=>(await je("GET",`/api/trips/${e}/members`)).json(),enabled:!!e}),l=Ae({mutationFn:async d=>(await je("DELETE",`/api/trips/${e}/members/${d}`)).json(),onSuccess:()=>{r({title:"Member Removed",description:"The member has been successfully removed from the trip."}),n.invalidateQueries({queryKey:["/api/trips",e,"members"]})},onError:d=>{r({title:"Error",description:d.message||"Failed to remove member. Please try again.",variant:"destructive"})}}),c=i&&t&&i.createdById===t.id;return t?s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 h-full",children:[s.jsx("div",{className:"col-span-1 md:col-span-3 h-full",children:s.jsx(H$,{})}),s.jsx("div",{className:"hidden md:block border-l",children:s.jsxs(Ce,{className:"h-full rounded-none border-0 shadow-none",children:[s.jsx("div",{className:"p-4 border-b",children:s.jsx("h3",{className:"font-medium",children:"Trip Members"})}),s.jsx("div",{className:"p-4",children:o?s.jsx("div",{className:"flex justify-center py-4",children:s.jsx(Pr,{className:"h-6 w-6 animate-spin text-muted-foreground"})}):!a||a.length===0?s.jsx("div",{className:"text-center text-muted-foreground py-4",children:s.jsx("p",{children:"No members found"})}):s.jsx("ul",{className:"space-y-3",children:a.map(d=>{var u,f,h,p,v;return s.jsxs("li",{className:"flex items-center justify-between gap-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(gr,{src:((u=d.user)==null?void 0:u.avatar)??void 0,fallback:((f=d.user)==null?void 0:f.displayName)??void 0,size:"sm"}),s.jsxs("div",{children:[s.jsxs("p",{className:"font-medium text-sm",children:[((h=d.user)==null?void 0:h.displayName)||`User ${d.userId}`,(i==null?void 0:i.createdById)===d.userId&&s.jsx("span",{className:"ml-2 text-xs bg-primary/10 text-primary px-1.5 py-0.5 rounded-full",children:"Owner"})]}),((p=d.user)==null?void 0:p.email)&&s.jsx("p",{className:"text-xs text-muted-foreground",children:d.user.email})]})]}),c&&d.userId!==(t==null?void 0:t.id)&&s.jsxs(Pv,{children:[s.jsx(K6,{asChild:!0,children:s.jsx(F,{variant:"ghost",size:"sm",className:"text-destructive hover:text-destructive hover:bg-destructive/10",children:s.jsx(Yc,{className:"h-4 w-4"})})}),s.jsxs(rm,{children:[s.jsxs(nm,{children:[s.jsx(im,{children:"Remove Member"}),s.jsxs(am,{children:["Are you sure you want to remove ",((v=d.user)==null?void 0:v.displayName)||`User ${d.userId}`," from this trip? This action cannot be undone."]})]}),s.jsxs(sm,{children:[s.jsx(lm,{children:"Cancel"}),s.jsx(om,{onClick:()=>l.mutate(d.userId),className:"bg-destructive hover:bg-destructive/90",children:"Remove Member"})]})]})]})]},d.id)})})})]})})]}):s.jsx("div",{className:"p-4 text-center",children:s.jsx("p",{children:"You need to be logged in to access the chat."})})};var Ee=function(){return Ee=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},Ee.apply(this,arguments)};function Y$(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function e_(e,t,r){for(var n=0,i=t.length,a;n<i;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}function Hd(e){return e.mode==="multiple"}function Kd(e){return e.mode==="range"}function gm(e){return e.mode==="single"}var q$={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function G$(e,t){return _r(e,"LLLL y",t)}function Q$(e,t){return _r(e,"d",t)}function Z$(e,t){return _r(e,"LLLL",t)}function X$(e){return"".concat(e)}function J$(e,t){return _r(e,"cccccc",t)}function e9(e,t){return _r(e,"yyyy",t)}var t9=Object.freeze({__proto__:null,formatCaption:G$,formatDay:Q$,formatMonthCaption:Z$,formatWeekNumber:X$,formatWeekdayName:J$,formatYearCaption:e9}),r9=function(e,t,r){return _r(e,"do MMMM (EEEE)",r)},n9=function(){return"Month: "},s9=function(){return"Go to next month"},i9=function(){return"Go to previous month"},a9=function(e,t){return _r(e,"cccc",t)},o9=function(e){return"Week n. ".concat(e)},l9=function(){return"Year: "},c9=Object.freeze({__proto__:null,labelDay:r9,labelMonthDropdown:n9,labelNext:s9,labelPrevious:i9,labelWeekNumber:o9,labelWeekday:a9,labelYearDropdown:l9});function d9(){var e="buttons",t=q$,r=wE,n={},i={},a=1,o={},l=new Date;return{captionLayout:e,classNames:t,formatters:t9,labels:c9,locale:r,modifiersClassNames:n,modifiers:i,numberOfMonths:a,styles:o,today:l,mode:"default"}}function u9(e){var t=e.fromYear,r=e.toYear,n=e.fromMonth,i=e.toMonth,a=e.fromDate,o=e.toDate;return n?a=Yr(n):t&&(a=new Date(t,0,1)),i?o=Iv(i):r&&(o=new Date(r,11,31)),{fromDate:a?nl(a):void 0,toDate:o?nl(o):void 0}}var t_=m.createContext(void 0);function f9(e){var t,r=e.initialProps,n=d9(),i=u9(r),a=i.fromDate,o=i.toDate,l=(t=r.captionLayout)!==null&&t!==void 0?t:n.captionLayout;l!=="buttons"&&(!a||!o)&&(l="buttons");var c;(gm(r)||Hd(r)||Kd(r))&&(c=r.onSelect);var d=Ee(Ee(Ee({},n),r),{captionLayout:l,classNames:Ee(Ee({},n.classNames),r.classNames),components:Ee({},r.components),formatters:Ee(Ee({},n.formatters),r.formatters),fromDate:a,labels:Ee(Ee({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:Ee(Ee({},n.modifiers),r.modifiers),modifiersClassNames:Ee(Ee({},n.modifiersClassNames),r.modifiersClassNames),onSelect:c,styles:Ee(Ee({},n.styles),r.styles),toDate:o});return s.jsx(t_.Provider,{value:d,children:e.children})}function wt(){var e=m.useContext(t_);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function r_(e){var t=wt(),r=t.locale,n=t.classNames,i=t.styles,a=t.formatters.formatCaption;return s.jsx("div",{className:n.caption_label,style:i.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:a(e.displayMonth,{locale:r})})}function h9(e){return s.jsx("svg",Ee({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:s.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function n_(e){var t,r,n=e.onChange,i=e.value,a=e.children,o=e.caption,l=e.className,c=e.style,d=wt(),u=(r=(t=d.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:h9;return s.jsxs("div",{className:l,style:c,children:[s.jsx("span",{className:d.classNames.vhidden,children:e["aria-label"]}),s.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:d.classNames.dropdown,style:d.styles.dropdown,value:i,onChange:n,children:a}),s.jsxs("div",{className:d.classNames.caption_label,style:d.styles.caption_label,"aria-hidden":"true",children:[o,s.jsx(u,{className:d.classNames.dropdown_icon,style:d.styles.dropdown_icon})]})]})}function m9(e){var t,r=wt(),n=r.fromDate,i=r.toDate,a=r.styles,o=r.locale,l=r.formatters.formatMonthCaption,c=r.classNames,d=r.components,u=r.labels.labelMonthDropdown;if(!n)return s.jsx(s.Fragment,{});if(!i)return s.jsx(s.Fragment,{});var f=[];if(e$(n,i))for(var h=Yr(n),p=n.getMonth();p<=i.getMonth();p++)f.push(jp(h,p));else for(var h=Yr(new Date),p=0;p<=11;p++)f.push(jp(h,p));var v=function(b){var x=Number(b.target.value),y=jp(Yr(e.displayMonth),x);e.onChange(y)},g=(t=d==null?void 0:d.Dropdown)!==null&&t!==void 0?t:n_;return s.jsx(g,{name:"months","aria-label":u(),className:c.dropdown_month,style:a.dropdown_month,onChange:v,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:o}),children:f.map(function(b){return s.jsx("option",{value:b.getMonth(),children:l(b,{locale:o})},b.getMonth())})})}function p9(e){var t,r=e.displayMonth,n=wt(),i=n.fromDate,a=n.toDate,o=n.locale,l=n.styles,c=n.classNames,d=n.components,u=n.formatters.formatYearCaption,f=n.labels.labelYearDropdown,h=[];if(!i)return s.jsx(s.Fragment,{});if(!a)return s.jsx(s.Fragment,{});for(var p=i.getFullYear(),v=a.getFullYear(),g=p;g<=v;g++)h.push(Zb(yE(new Date),g));var b=function(y){var w=Zb(Yr(r),Number(y.target.value));e.onChange(w)},x=(t=d==null?void 0:d.Dropdown)!==null&&t!==void 0?t:n_;return s.jsx(x,{name:"years","aria-label":f(),className:c.dropdown_year,style:l.dropdown_year,onChange:b,value:r.getFullYear(),caption:u(r,{locale:o}),children:h.map(function(y){return s.jsx("option",{value:y.getFullYear(),children:u(y,{locale:o})},y.getFullYear())})})}function g9(e,t){var r=m.useState(e),n=r[0],i=r[1],a=t===void 0?n:t;return[a,i]}function x9(e){var t=e.month,r=e.defaultMonth,n=e.today,i=t||r||n||new Date,a=e.toDate,o=e.fromDate,l=e.numberOfMonths,c=l===void 0?1:l;if(a&&nd(a,i)<0){var d=-1*(c-1);i=Kn(a,d)}return o&&nd(i,o)<0&&(i=o),Yr(i)}function y9(){var e=wt(),t=x9(e),r=g9(t,e.month),n=r[0],i=r[1],a=function(o){var l;if(!e.disableNavigation){var c=Yr(o);i(c),(l=e.onMonthChange)===null||l===void 0||l.call(e,c)}};return[n,a]}function v9(e,t){for(var r=t.reverseMonths,n=t.numberOfMonths,i=Yr(e),a=Yr(Kn(i,n)),o=nd(a,i),l=[],c=0;c<o;c++){var d=Kn(i,c);l.push(d)}return r&&(l=l.reverse()),l}function w9(e,t){if(!t.disableNavigation){var r=t.toDate,n=t.pagedNavigation,i=t.numberOfMonths,a=i===void 0?1:i,o=n?a:1,l=Yr(e);if(!r)return Kn(l,o);var c=nd(r,e);if(!(c<a))return Kn(l,o)}}function b9(e,t){if(!t.disableNavigation){var r=t.fromDate,n=t.pagedNavigation,i=t.numberOfMonths,a=i===void 0?1:i,o=n?a:1,l=Yr(e);if(!r)return Kn(l,-o);var c=nd(l,r);if(!(c<=0))return Kn(l,-o)}}var s_=m.createContext(void 0);function j9(e){var t=wt(),r=y9(),n=r[0],i=r[1],a=v9(n,t),o=w9(n,t),l=b9(n,t),c=function(f){return a.some(function(h){return Vv(f,h)})},d=function(f,h){c(f)||(h&&SE(f,h)?i(Kn(f,1+t.numberOfMonths*-1)):i(f))},u={currentMonth:n,displayMonths:a,goToMonth:i,goToDate:d,previousMonth:l,nextMonth:o,isDateDisplayed:c};return s.jsx(s_.Provider,{value:u,children:e.children})}function Yd(){var e=m.useContext(s_);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function e1(e){var t,r=wt(),n=r.classNames,i=r.styles,a=r.components,o=Yd().goToMonth,l=function(u){o(Kn(u,e.displayIndex?-e.displayIndex:0))},c=(t=a==null?void 0:a.CaptionLabel)!==null&&t!==void 0?t:r_,d=s.jsx(c,{id:e.id,displayMonth:e.displayMonth});return s.jsxs("div",{className:n.caption_dropdowns,style:i.caption_dropdowns,children:[s.jsx("div",{className:n.vhidden,children:d}),s.jsx(m9,{onChange:l,displayMonth:e.displayMonth}),s.jsx(p9,{onChange:l,displayMonth:e.displayMonth})]})}function N9(e){return s.jsx("svg",Ee({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function k9(e){return s.jsx("svg",Ee({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Yf=m.forwardRef(function(e,t){var r=wt(),n=r.classNames,i=r.styles,a=[n.button_reset,n.button];e.className&&a.push(e.className);var o=a.join(" "),l=Ee(Ee({},i.button_reset),i.button);return e.style&&Object.assign(l,e.style),s.jsx("button",Ee({},e,{ref:t,type:"button",className:o,style:l}))});function S9(e){var t,r,n=wt(),i=n.dir,a=n.locale,o=n.classNames,l=n.styles,c=n.labels,d=c.labelPrevious,u=c.labelNext,f=n.components;if(!e.nextMonth&&!e.previousMonth)return s.jsx(s.Fragment,{});var h=d(e.previousMonth,{locale:a}),p=[o.nav_button,o.nav_button_previous].join(" "),v=u(e.nextMonth,{locale:a}),g=[o.nav_button,o.nav_button_next].join(" "),b=(t=f==null?void 0:f.IconRight)!==null&&t!==void 0?t:k9,x=(r=f==null?void 0:f.IconLeft)!==null&&r!==void 0?r:N9;return s.jsxs("div",{className:o.nav,style:l.nav,children:[!e.hidePrevious&&s.jsx(Yf,{name:"previous-month","aria-label":h,className:p,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:i==="rtl"?s.jsx(b,{className:o.nav_icon,style:l.nav_icon}):s.jsx(x,{className:o.nav_icon,style:l.nav_icon})}),!e.hideNext&&s.jsx(Yf,{name:"next-month","aria-label":v,className:g,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:i==="rtl"?s.jsx(x,{className:o.nav_icon,style:l.nav_icon}):s.jsx(b,{className:o.nav_icon,style:l.nav_icon})})]})}function t1(e){var t=wt().numberOfMonths,r=Yd(),n=r.previousMonth,i=r.nextMonth,a=r.goToMonth,o=r.displayMonths,l=o.findIndex(function(v){return Vv(e.displayMonth,v)}),c=l===0,d=l===o.length-1,u=t>1&&(c||!d),f=t>1&&(d||!c),h=function(){n&&a(n)},p=function(){i&&a(i)};return s.jsx(S9,{displayMonth:e.displayMonth,hideNext:u,hidePrevious:f,nextMonth:i,previousMonth:n,onPreviousClick:h,onNextClick:p})}function C9(e){var t,r=wt(),n=r.classNames,i=r.disableNavigation,a=r.styles,o=r.captionLayout,l=r.components,c=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:r_,d;return i?d=s.jsx(c,{id:e.id,displayMonth:e.displayMonth}):o==="dropdown"?d=s.jsx(e1,{displayMonth:e.displayMonth,id:e.id}):o==="dropdown-buttons"?d=s.jsxs(s.Fragment,{children:[s.jsx(e1,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),s.jsx(t1,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):d=s.jsxs(s.Fragment,{children:[s.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(t1,{displayMonth:e.displayMonth,id:e.id})]}),s.jsx("div",{className:n.caption,style:a.caption,children:d})}function P9(e){var t=wt(),r=t.footer,n=t.styles,i=t.classNames.tfoot;return r?s.jsx("tfoot",{className:i,style:n.tfoot,children:s.jsx("tr",{children:s.jsx("td",{colSpan:8,children:r})})}):s.jsx(s.Fragment,{})}function T9(e,t,r){for(var n=r?Ra(new Date):ms(new Date,{locale:e,weekStartsOn:t}),i=[],a=0;a<7;a++){var o=Sr(n,a);i.push(o)}return i}function E9(){var e=wt(),t=e.classNames,r=e.styles,n=e.showWeekNumber,i=e.locale,a=e.weekStartsOn,o=e.ISOWeek,l=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,d=T9(i,a,o);return s.jsxs("tr",{style:r.head_row,className:t.head_row,children:[n&&s.jsx("td",{style:r.head_cell,className:t.head_cell}),d.map(function(u,f){return s.jsx("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":c(u,{locale:i}),children:l(u,{locale:i})},f)})]})}function _9(){var e,t=wt(),r=t.classNames,n=t.styles,i=t.components,a=(e=i==null?void 0:i.HeadRow)!==null&&e!==void 0?e:E9;return s.jsx("thead",{style:n.head,className:r.head,children:s.jsx(a,{})})}function D9(e){var t=wt(),r=t.locale,n=t.formatters.formatDay;return s.jsx(s.Fragment,{children:n(e.date,{locale:r})})}var Kv=m.createContext(void 0);function M9(e){if(!Hd(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return s.jsx(Kv.Provider,{value:t,children:e.children})}return s.jsx(A9,{initialProps:e.initialProps,children:e.children})}function A9(e){var t=e.initialProps,r=e.children,n=t.selected,i=t.min,a=t.max,o=function(d,u,f){var h,p;(h=t.onDayClick)===null||h===void 0||h.call(t,d,u,f);var v=!!(u.selected&&i&&(n==null?void 0:n.length)===i);if(!v){var g=!!(!u.selected&&a&&(n==null?void 0:n.length)===a);if(!g){var b=n?e_([],n):[];if(u.selected){var x=b.findIndex(function(y){return Br(d,y)});b.splice(x,1)}else b.push(d);(p=t.onSelect)===null||p===void 0||p.call(t,b,d,u,f)}}},l={disabled:[]};n&&l.disabled.push(function(d){var u=a&&n.length>a-1,f=n.some(function(h){return Br(h,d)});return!!(u&&!f)});var c={selected:n,onDayClick:o,modifiers:l};return s.jsx(Kv.Provider,{value:c,children:r})}function Yv(){var e=m.useContext(Kv);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function R9(e,t){var r=t||{},n=r.from,i=r.to;return n&&i?Br(i,e)&&Br(n,e)?void 0:Br(i,e)?{from:i,to:void 0}:Br(n,e)?void 0:gx(n,e)?{from:e,to:i}:{from:n,to:e}:i?gx(e,i)?{from:i,to:e}:{from:e,to:i}:n?SE(e,n)?{from:e,to:n}:{from:n,to:e}:{from:e,to:void 0}}var qv=m.createContext(void 0);function O9(e){if(!Kd(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return s.jsx(qv.Provider,{value:t,children:e.children})}return s.jsx(F9,{initialProps:e.initialProps,children:e.children})}function F9(e){var t=e.initialProps,r=e.children,n=t.selected,i=n||{},a=i.from,o=i.to,l=t.min,c=t.max,d=function(p,v,g){var b,x;(b=t.onDayClick)===null||b===void 0||b.call(t,p,v,g);var y=R9(p,n);(x=t.onSelect)===null||x===void 0||x.call(t,y,p,v,g)},u={range_start:[],range_end:[],range_middle:[],disabled:[]};if(a?(u.range_start=[a],o?(u.range_end=[o],Br(a,o)||(u.range_middle=[{after:a,before:o}])):u.range_end=[a]):o&&(u.range_start=[o],u.range_end=[o]),l&&(a&&!o&&u.disabled.push({after:wp(a,l-1),before:Sr(a,l-1)}),a&&o&&u.disabled.push({after:a,before:Sr(a,l-1)}),!a&&o&&u.disabled.push({after:wp(o,l-1),before:Sr(o,l-1)})),c){if(a&&!o&&(u.disabled.push({before:Sr(a,-c+1)}),u.disabled.push({after:Sr(a,c-1)})),a&&o){var f=is(o,a)+1,h=c-f;u.disabled.push({before:wp(a,h)}),u.disabled.push({after:Sr(o,h)})}!a&&o&&(u.disabled.push({before:Sr(o,-c+1)}),u.disabled.push({after:Sr(o,c-1)}))}return s.jsx(qv.Provider,{value:{selected:n,onDayClick:d,modifiers:u},children:r})}function Gv(){var e=m.useContext(qv);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function ef(e){return Array.isArray(e)?e_([],e):e!==void 0?[e]:[]}function I9(e){var t={};return Object.entries(e).forEach(function(r){var n=r[0],i=r[1];t[n]=ef(i)}),t}var Yn;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(Yn||(Yn={}));var L9=Yn.Selected,bs=Yn.Disabled,V9=Yn.Hidden,$9=Yn.Today,Np=Yn.RangeEnd,kp=Yn.RangeMiddle,Sp=Yn.RangeStart,z9=Yn.Outside;function B9(e,t,r){var n,i=(n={},n[L9]=ef(e.selected),n[bs]=ef(e.disabled),n[V9]=ef(e.hidden),n[$9]=[e.today],n[Np]=[],n[kp]=[],n[Sp]=[],n[z9]=[],n);return e.fromDate&&i[bs].push({before:e.fromDate}),e.toDate&&i[bs].push({after:e.toDate}),Hd(e)?i[bs]=i[bs].concat(t.modifiers[bs]):Kd(e)&&(i[bs]=i[bs].concat(r.modifiers[bs]),i[Sp]=r.modifiers[Sp],i[kp]=r.modifiers[kp],i[Np]=r.modifiers[Np]),i}var i_=m.createContext(void 0);function W9(e){var t=wt(),r=Yv(),n=Gv(),i=B9(t,r,n),a=I9(t.modifiers),o=Ee(Ee({},i),a);return s.jsx(i_.Provider,{value:o,children:e.children})}function a_(){var e=m.useContext(i_);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function U9(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function H9(e){return!!(e&&typeof e=="object"&&"from"in e)}function K9(e){return!!(e&&typeof e=="object"&&"after"in e)}function Y9(e){return!!(e&&typeof e=="object"&&"before"in e)}function q9(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function G9(e,t){var r,n=t.from,i=t.to;if(n&&i){var a=is(i,n)<0;a&&(r=[i,n],n=r[0],i=r[1]);var o=is(e,n)>=0&&is(i,e)>=0;return o}return i?Br(i,e):n?Br(n,e):!1}function Q9(e){return Fv(e)}function Z9(e){return Array.isArray(e)&&e.every(Fv)}function X9(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(Q9(r))return Br(e,r);if(Z9(r))return r.includes(e);if(H9(r))return G9(e,r);if(q9(r))return r.dayOfWeek.includes(e.getDay());if(U9(r)){var n=is(r.before,e),i=is(r.after,e),a=n>0,o=i<0,l=gx(r.before,r.after);return l?o&&a:a||o}return K9(r)?is(e,r.after)>0:Y9(r)?is(r.before,e)>0:typeof r=="function"?r(e):!1})}function Qv(e,t,r){var n=Object.keys(t).reduce(function(a,o){var l=t[o];return X9(e,l)&&a.push(o),a},[]),i={};return n.forEach(function(a){return i[a]=!0}),r&&!Vv(e,r)&&(i.outside=!0),i}function J9(e,t){for(var r=Yr(e[0]),n=Iv(e[e.length-1]),i,a,o=r;o<=n;){var l=Qv(o,t),c=!l.disabled&&!l.hidden;if(!c){o=Sr(o,1);continue}if(l.selected)return o;l.today&&!a&&(a=o),i||(i=o),o=Sr(o,1)}return a||i}var e7=365;function o_(e,t){var r=t.moveBy,n=t.direction,i=t.context,a=t.modifiers,o=t.retry,l=o===void 0?{count:0,lastFocused:e}:o,c=i.weekStartsOn,d=i.fromDate,u=i.toDate,f=i.locale,h={day:Sr,week:px,month:Kn,year:Q8,startOfWeek:function(b){return i.ISOWeek?Ra(b):ms(b,{locale:f,weekStartsOn:c})},endOfWeek:function(b){return i.ISOWeek?vE(b):Lv(b,{locale:f,weekStartsOn:c})}},p=h[r](e,n==="after"?1:-1);n==="before"&&d?p=Z8([d,p]):n==="after"&&u&&(p=X8([u,p]));var v=!0;if(a){var g=Qv(p,a);v=!g.disabled&&!g.hidden}return v?p:l.count>e7?l.lastFocused:o_(p,{moveBy:r,direction:n,context:i,modifiers:a,retry:Ee(Ee({},l),{count:l.count+1})})}var l_=m.createContext(void 0);function t7(e){var t=Yd(),r=a_(),n=m.useState(),i=n[0],a=n[1],o=m.useState(),l=o[0],c=o[1],d=J9(t.displayMonths,r),u=i??(l&&t.isDateDisplayed(l))?l:d,f=function(){c(i),a(void 0)},h=function(b){a(b)},p=wt(),v=function(b,x){if(i){var y=o_(i,{moveBy:b,direction:x,context:p,modifiers:r});Br(i,y)||(t.goToDate(y,i),h(y))}},g={focusedDay:i,focusTarget:u,blur:f,focus:h,focusDayAfter:function(){return v("day","after")},focusDayBefore:function(){return v("day","before")},focusWeekAfter:function(){return v("week","after")},focusWeekBefore:function(){return v("week","before")},focusMonthBefore:function(){return v("month","before")},focusMonthAfter:function(){return v("month","after")},focusYearBefore:function(){return v("year","before")},focusYearAfter:function(){return v("year","after")},focusStartOfWeek:function(){return v("startOfWeek","before")},focusEndOfWeek:function(){return v("endOfWeek","after")}};return s.jsx(l_.Provider,{value:g,children:e.children})}function Zv(){var e=m.useContext(l_);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function r7(e,t){var r=a_(),n=Qv(e,r,t);return n}var Xv=m.createContext(void 0);function n7(e){if(!gm(e.initialProps)){var t={selected:void 0};return s.jsx(Xv.Provider,{value:t,children:e.children})}return s.jsx(s7,{initialProps:e.initialProps,children:e.children})}function s7(e){var t=e.initialProps,r=e.children,n=function(a,o,l){var c,d,u;if((c=t.onDayClick)===null||c===void 0||c.call(t,a,o,l),o.selected&&!t.required){(d=t.onSelect)===null||d===void 0||d.call(t,void 0,a,o,l);return}(u=t.onSelect)===null||u===void 0||u.call(t,a,a,o,l)},i={selected:t.selected,onDayClick:n};return s.jsx(Xv.Provider,{value:i,children:r})}function c_(){var e=m.useContext(Xv);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function i7(e,t){var r=wt(),n=c_(),i=Yv(),a=Gv(),o=Zv(),l=o.focusDayAfter,c=o.focusDayBefore,d=o.focusWeekAfter,u=o.focusWeekBefore,f=o.blur,h=o.focus,p=o.focusMonthBefore,v=o.focusMonthAfter,g=o.focusYearBefore,b=o.focusYearAfter,x=o.focusStartOfWeek,y=o.focusEndOfWeek,w=function(_){var C,T,$,U;gm(r)?(C=n.onDayClick)===null||C===void 0||C.call(n,e,t,_):Hd(r)?(T=i.onDayClick)===null||T===void 0||T.call(i,e,t,_):Kd(r)?($=a.onDayClick)===null||$===void 0||$.call(a,e,t,_):(U=r.onDayClick)===null||U===void 0||U.call(r,e,t,_)},j=function(_){var C;h(e),(C=r.onDayFocus)===null||C===void 0||C.call(r,e,t,_)},N=function(_){var C;f(),(C=r.onDayBlur)===null||C===void 0||C.call(r,e,t,_)},P=function(_){var C;(C=r.onDayMouseEnter)===null||C===void 0||C.call(r,e,t,_)},S=function(_){var C;(C=r.onDayMouseLeave)===null||C===void 0||C.call(r,e,t,_)},E=function(_){var C;(C=r.onDayPointerEnter)===null||C===void 0||C.call(r,e,t,_)},R=function(_){var C;(C=r.onDayPointerLeave)===null||C===void 0||C.call(r,e,t,_)},A=function(_){var C;(C=r.onDayTouchCancel)===null||C===void 0||C.call(r,e,t,_)},W=function(_){var C;(C=r.onDayTouchEnd)===null||C===void 0||C.call(r,e,t,_)},V=function(_){var C;(C=r.onDayTouchMove)===null||C===void 0||C.call(r,e,t,_)},O=function(_){var C;(C=r.onDayTouchStart)===null||C===void 0||C.call(r,e,t,_)},B=function(_){var C;(C=r.onDayKeyUp)===null||C===void 0||C.call(r,e,t,_)},Y=function(_){var C;switch(_.key){case"ArrowLeft":_.preventDefault(),_.stopPropagation(),r.dir==="rtl"?l():c();break;case"ArrowRight":_.preventDefault(),_.stopPropagation(),r.dir==="rtl"?c():l();break;case"ArrowDown":_.preventDefault(),_.stopPropagation(),d();break;case"ArrowUp":_.preventDefault(),_.stopPropagation(),u();break;case"PageUp":_.preventDefault(),_.stopPropagation(),_.shiftKey?g():p();break;case"PageDown":_.preventDefault(),_.stopPropagation(),_.shiftKey?b():v();break;case"Home":_.preventDefault(),_.stopPropagation(),x();break;case"End":_.preventDefault(),_.stopPropagation(),y();break}(C=r.onDayKeyDown)===null||C===void 0||C.call(r,e,t,_)},H={onClick:w,onFocus:j,onBlur:N,onKeyDown:Y,onKeyUp:B,onMouseEnter:P,onMouseLeave:S,onPointerEnter:E,onPointerLeave:R,onTouchCancel:A,onTouchEnd:W,onTouchMove:V,onTouchStart:O};return H}function a7(){var e=wt(),t=c_(),r=Yv(),n=Gv(),i=gm(e)?t.selected:Hd(e)?r.selected:Kd(e)?n.selected:void 0;return i}function o7(e){return Object.values(Yn).includes(e)}function l7(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(n){var i=e.modifiersClassNames[n];if(i)r.push(i);else if(o7(n)){var a=e.classNames["day_".concat(n)];a&&r.push(a)}}),r}function c7(e,t){var r=Ee({},e.styles.day);return Object.keys(t).forEach(function(n){var i;r=Ee(Ee({},r),(i=e.modifiersStyles)===null||i===void 0?void 0:i[n])}),r}function d7(e,t,r){var n,i,a,o=wt(),l=Zv(),c=r7(e,t),d=i7(e,c),u=a7(),f=!!(o.onDayClick||o.mode!=="default");m.useEffect(function(){var P;c.outside||l.focusedDay&&f&&Br(l.focusedDay,e)&&((P=r.current)===null||P===void 0||P.focus())},[l.focusedDay,e,r,f,c.outside]);var h=l7(o,c).join(" "),p=c7(o,c),v=!!(c.outside&&!o.showOutsideDays||c.hidden),g=(a=(i=o.components)===null||i===void 0?void 0:i.DayContent)!==null&&a!==void 0?a:D9,b=s.jsx(g,{date:e,displayMonth:t,activeModifiers:c}),x={style:p,className:h,children:b,role:"gridcell"},y=l.focusTarget&&Br(l.focusTarget,e)&&!c.outside,w=l.focusedDay&&Br(l.focusedDay,e),j=Ee(Ee(Ee({},x),(n={disabled:c.disabled,role:"gridcell"},n["aria-selected"]=c.selected,n.tabIndex=w||y?0:-1,n)),d),N={isButton:f,isHidden:v,activeModifiers:c,selectedDays:u,buttonProps:j,divProps:x};return N}function u7(e){var t=m.useRef(null),r=d7(e.date,e.displayMonth,t);return r.isHidden?s.jsx("div",{role:"gridcell"}):r.isButton?s.jsx(Yf,Ee({name:"day",ref:t},r.buttonProps)):s.jsx("div",Ee({},r.divProps))}function f7(e){var t=e.number,r=e.dates,n=wt(),i=n.onWeekNumberClick,a=n.styles,o=n.classNames,l=n.locale,c=n.labels.labelWeekNumber,d=n.formatters.formatWeekNumber,u=d(Number(t),{locale:l});if(!i)return s.jsx("span",{className:o.weeknumber,style:a.weeknumber,children:u});var f=c(Number(t),{locale:l}),h=function(p){i(t,r,p)};return s.jsx(Yf,{name:"week-number","aria-label":f,className:o.weeknumber,style:a.weeknumber,onClick:h,children:u})}function h7(e){var t,r,n=wt(),i=n.styles,a=n.classNames,o=n.showWeekNumber,l=n.components,c=(t=l==null?void 0:l.Day)!==null&&t!==void 0?t:u7,d=(r=l==null?void 0:l.WeekNumber)!==null&&r!==void 0?r:f7,u;return o&&(u=s.jsx("td",{className:a.cell,style:i.cell,children:s.jsx(d,{number:e.weekNumber,dates:e.dates})})),s.jsxs("tr",{className:a.row,style:i.row,children:[u,e.dates.map(function(f){return s.jsx("td",{className:a.cell,style:i.cell,role:"presentation",children:s.jsx(c,{displayMonth:e.displayMonth,date:f})},ZV(f))})]})}function r1(e,t,r){for(var n=r!=null&&r.ISOWeek?vE(t):Lv(t,r),i=r!=null&&r.ISOWeek?Ra(e):ms(e,r),a=is(n,i),o=[],l=0;l<=a;l++)o.push(Sr(i,l));var c=o.reduce(function(d,u){var f=r!=null&&r.ISOWeek?bE(u):NE(u,r),h=d.find(function(p){return p.weekNumber===f});return h?(h.dates.push(u),d):(d.push({weekNumber:f,dates:[u]}),d)},[]);return c}function m7(e,t){var r=r1(Yr(e),Iv(e),t);if(t!=null&&t.useFixedWeeks){var n=JV(e,t);if(n<6){var i=r[r.length-1],a=i.dates[i.dates.length-1],o=px(a,6-n),l=r1(px(a,1),o,t);r.push.apply(r,l)}}return r}function p7(e){var t,r,n,i=wt(),a=i.locale,o=i.classNames,l=i.styles,c=i.hideHead,d=i.fixedWeeks,u=i.components,f=i.weekStartsOn,h=i.firstWeekContainsDate,p=i.ISOWeek,v=m7(e.displayMonth,{useFixedWeeks:!!d,ISOWeek:p,locale:a,weekStartsOn:f,firstWeekContainsDate:h}),g=(t=u==null?void 0:u.Head)!==null&&t!==void 0?t:_9,b=(r=u==null?void 0:u.Row)!==null&&r!==void 0?r:h7,x=(n=u==null?void 0:u.Footer)!==null&&n!==void 0?n:P9;return s.jsxs("table",{id:e.id,className:o.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&s.jsx(g,{}),s.jsx("tbody",{className:o.tbody,style:l.tbody,children:v.map(function(y){return s.jsx(b,{displayMonth:e.displayMonth,dates:y.dates,weekNumber:y.weekNumber},y.weekNumber)})}),s.jsx(x,{displayMonth:e.displayMonth})]})}function g7(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var x7=g7()?m.useLayoutEffect:m.useEffect,Cp=!1,y7=0;function n1(){return"react-day-picker-".concat(++y7)}function v7(e){var t,r=e??(Cp?n1():null),n=m.useState(r),i=n[0],a=n[1];return x7(function(){i===null&&a(n1())},[]),m.useEffect(function(){Cp===!1&&(Cp=!0)},[]),(t=e??i)!==null&&t!==void 0?t:void 0}function w7(e){var t,r,n=wt(),i=n.dir,a=n.classNames,o=n.styles,l=n.components,c=Yd().displayMonths,d=v7(n.id?"".concat(n.id,"-").concat(e.displayIndex):void 0),u=n.id?"".concat(n.id,"-grid-").concat(e.displayIndex):void 0,f=[a.month],h=o.month,p=e.displayIndex===0,v=e.displayIndex===c.length-1,g=!p&&!v;i==="rtl"&&(t=[p,v],v=t[0],p=t[1]),p&&(f.push(a.caption_start),h=Ee(Ee({},h),o.caption_start)),v&&(f.push(a.caption_end),h=Ee(Ee({},h),o.caption_end)),g&&(f.push(a.caption_between),h=Ee(Ee({},h),o.caption_between));var b=(r=l==null?void 0:l.Caption)!==null&&r!==void 0?r:C9;return s.jsxs("div",{className:f.join(" "),style:h,children:[s.jsx(b,{id:d,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(p7,{id:u,"aria-labelledby":d,displayMonth:e.displayMonth})]},e.displayIndex)}function b7(e){var t=wt(),r=t.classNames,n=t.styles;return s.jsx("div",{className:r.months,style:n.months,children:e.children})}function j7(e){var t,r,n=e.initialProps,i=wt(),a=Zv(),o=Yd(),l=m.useState(!1),c=l[0],d=l[1];m.useEffect(function(){i.initialFocus&&a.focusTarget&&(c||(a.focus(a.focusTarget),d(!0)))},[i.initialFocus,c,a.focus,a.focusTarget,a]);var u=[i.classNames.root,i.className];i.numberOfMonths>1&&u.push(i.classNames.multiple_months),i.showWeekNumber&&u.push(i.classNames.with_weeknumber);var f=Ee(Ee({},i.styles.root),i.style),h=Object.keys(n).filter(function(v){return v.startsWith("data-")}).reduce(function(v,g){var b;return Ee(Ee({},v),(b={},b[g]=n[g],b))},{}),p=(r=(t=n.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:b7;return s.jsx("div",Ee({className:u.join(" "),style:f,dir:i.dir,id:i.id,nonce:n.nonce,title:n.title,lang:n.lang},h,{children:s.jsx(p,{children:o.displayMonths.map(function(v,g){return s.jsx(w7,{displayIndex:g,displayMonth:v},g)})})}))}function N7(e){var t=e.children,r=Y$(e,["children"]);return s.jsx(f9,{initialProps:r,children:s.jsx(j9,{children:s.jsx(n7,{initialProps:r,children:s.jsx(M9,{initialProps:r,children:s.jsx(O9,{initialProps:r,children:s.jsx(W9,{children:s.jsx(t7,{children:t})})})})})})})}function k7(e){return s.jsx(N7,Ee({},e,{children:s.jsx(j7,{initialProps:e})}))}function sd({className:e,classNames:t,showOutsideDays:r=!0,...n}){return s.jsx(k7,{showOutsideDays:r,className:re("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:re(Qc({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:re(Qc({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({className:i,...a})=>s.jsx(dO,{className:re("h-4 w-4",i),...a}),IconRight:({className:i,...a})=>s.jsx(Qy,{className:re("h-4 w-4",i),...a})},...n})}sd.displayName="Calendar";const S7=({isOpen:e,onClose:t,trip:r})=>{const{toast:n}=vt(),i=fn(),[a,o]=m.useState(""),[l,c]=m.useState(""),[d,u]=m.useState(""),[f,h]=m.useState(void 0),[p,v]=m.useState(void 0);m.useEffect(()=>{r&&(o(r.name||""),c(r.description||""),u(r.location||""),r.startDate?h(new Date(r.startDate)):h(void 0),r.endDate?v(new Date(r.endDate)):v(void 0))},[r,e]);const g=Ae({mutationFn:async()=>{if(!r)return null;const x=f?new Date(Date.UTC(f.getFullYear(),f.getMonth(),f.getDate(),12,0,0)).toISOString():null,y=p?new Date(Date.UTC(p.getFullYear(),p.getMonth(),p.getDate(),12,0,0)).toISOString():null;return(await je("PATCH",`/api/trips/${r.id}`,{name:a,description:l,location:d,startDate:x,endDate:y})).json()},onSuccess:()=>{n({title:"Trip Updated",description:"Your trip has been updated successfully.",variant:"default"}),t(),i.invalidateQueries({queryKey:[`/api/trips/${r==null?void 0:r.id}`]}),i.invalidateQueries({queryKey:["/api/trips"]})},onError:x=>{n({title:"Error",description:"Failed to update trip. Please try again.",variant:"destructive"}),console.error("Error updating trip:",x)}}),b=x=>{if(x.preventDefault(),!a.trim()){n({title:"Missing Information",description:"Please enter a trip name.",variant:"destructive"});return}g.mutate()};return s.jsx(xt,{open:e,onOpenChange:t,children:s.jsxs(ut,{className:"sm:max-w-[500px]",children:[s.jsx(ft,{children:s.jsxs(ht,{className:"text-xl flex items-center gap-2",children:[s.jsx("i",{className:"ri-edit-line text-primary-600"})," Edit Trip"]})}),s.jsxs("form",{onSubmit:b,className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(G,{htmlFor:"name",children:"Trip Name *"}),s.jsx(me,{id:"name",value:a,onChange:x=>o(x.target.value),placeholder:"e.g., Summer Beach Vacation",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(G,{htmlFor:"location",children:"Destination"}),s.jsx(me,{id:"location",value:d,onChange:x=>u(x.target.value),placeholder:"e.g., Miami, Florida"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(G,{htmlFor:"description",children:"Description"}),s.jsx(Xr,{id:"description",value:l,onChange:x=>c(x.target.value),placeholder:"Brief description of your trip",rows:3})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(G,{children:"Start Date"}),s.jsxs(al,{children:[s.jsx(ol,{asChild:!0,children:s.jsxs(F,{variant:"outline",className:re("w-full justify-start text-left font-normal",!f&&"text-muted-foreground"),children:[s.jsx(Yt,{className:"mr-2 h-4 w-4"}),f?_r(f,"PPP"):"Select date"]})}),s.jsx(Oa,{className:"w-auto p-0",children:s.jsx(sd,{mode:"single",selected:f,onSelect:h,initialFocus:!0})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(G,{children:"End Date"}),s.jsxs(al,{children:[s.jsx(ol,{asChild:!0,children:s.jsxs(F,{variant:"outline",className:re("w-full justify-start text-left font-normal",!p&&"text-muted-foreground"),children:[s.jsx(Yt,{className:"mr-2 h-4 w-4"}),p?_r(p,"PPP"):"Select date"]})}),s.jsx(Oa,{className:"w-auto p-0",children:s.jsx(sd,{mode:"single",selected:p,onSelect:v,fromDate:f,initialFocus:!0})})]})]})]}),s.jsxs($t,{className:"pt-4",children:[s.jsx(F,{type:"button",variant:"outline",onClick:t,className:"mr-2",children:"Cancel"}),s.jsx(F,{type:"submit",disabled:g.isPending,children:g.isPending?"Saving...":"Save Changes"})]})]})]})})},C7=({trip:e,open:t,onOpenChange:r})=>{const{toast:n}=vt(),i=fn(),a=Ae({mutationFn:async()=>(await je("POST",`/api/trips/${e.id}/hide`)).json(),onSuccess:()=>{n({title:"Trip Hidden",description:"This trip has been hidden from your main view.",variant:"default"}),i.invalidateQueries({queryKey:["/api/trips"]}),r(!1)},onError:c=>{n({title:"Error",description:"Failed to hide trip. Please try again.",variant:"destructive"}),console.error("Error hiding trip:",c)}}),o=()=>{a.mutate()},l=()=>{e.inviteCode&&(navigator.clipboard.writeText(e.inviteCode),n({title:"Copied!",description:"Invite code copied to clipboard"}))};return s.jsx(xt,{open:t,onOpenChange:r,children:s.jsxs(ut,{className:"sm:max-w-md",children:[s.jsxs(ft,{children:[s.jsx(ht,{className:"text-xl font-bold",children:e.name}),s.jsx(qt,{children:e.isPast?s.jsx("span",{className:"inline-block mt-1 text-xs bg-amber-100 dark:bg-amber-900 text-amber-800 dark:text-amber-200 px-1.5 py-0.5 rounded-full",children:"Past Trip"}):null})]}),s.jsxs("div",{className:"space-y-3 py-2",children:[s.jsxs("div",{className:"flex",children:[s.jsx(Yt,{className:"h-5 w-5 mr-3 text-primary-500 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:"Date"}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:jC(e.startDate,e.endDate)||"No dates set"})]})]}),s.jsxs("div",{className:"flex",children:[s.jsx(As,{className:"h-5 w-5 mr-3 text-primary-500 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:"Location"}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.location||"No location set"})]})]}),e.description&&s.jsxs("div",{className:"flex",children:[s.jsx(Zy,{className:"h-5 w-5 mr-3 text-primary-500 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:"Description"}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 whitespace-pre-line",children:e.description})]})]}),s.jsx(Wd,{className:"my-2"}),s.jsxs("div",{className:"flex",children:[s.jsx(pC,{className:"h-5 w-5 mr-3 text-primary-500 flex-shrink-0"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium",children:"Invite Code"}),s.jsxs("div",{className:"flex mt-1",children:[s.jsx("div",{className:"flex-1 bg-primary-50 dark:bg-primary-900/20 border border-primary-200 dark:border-primary-800 rounded px-3 py-1.5 font-mono text-sm",children:e.inviteCode}),s.jsx(F,{size:"sm",variant:"outline",className:"ml-2 h-9",onClick:l,children:s.jsx(sC,{className:"h-4 w-4"})})]})]})]})]}),s.jsxs($t,{className:"sm:justify-between flex-wrap gap-2",children:[s.jsxs(F,{type:"button",variant:"outline",onClick:o,className:"flex items-center gap-1 md:flex hidden",disabled:a.isPending,children:[s.jsx(la,{className:"h-4 w-4"}),s.jsx("span",{children:"Hide Trip"})]}),s.jsx(F,{type:"button",variant:"secondary",onClick:()=>r(!1),children:"Close"})]})]})})};var qd=e=>e.type==="checkbox",da=e=>e instanceof Date,Cr=e=>e==null;const d_=e=>typeof e=="object";var zt=e=>!Cr(e)&&!Array.isArray(e)&&d_(e)&&!da(e),u_=e=>zt(e)&&e.target?qd(e.target)?e.target.checked:e.target.value:e,P7=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,f_=(e,t)=>e.has(P7(t)),T7=e=>{const t=e.constructor&&e.constructor.prototype;return zt(t)&&t.hasOwnProperty("isPrototypeOf")},Jv=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function rr(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(Jv&&(e instanceof Blob||n))&&(r||zt(e)))if(t=r?[]:{},!r&&!T7(e))t=e;else for(const i in e)e.hasOwnProperty(i)&&(t[i]=rr(e[i]));else return e;return t}var xm=e=>Array.isArray(e)?e.filter(Boolean):[],Lt=e=>e===void 0,oe=(e,t,r)=>{if(!t||!zt(e))return r;const n=xm(t.split(/[,[\].]+?/)).reduce((i,a)=>Cr(i)?i:i[a],e);return Lt(n)||n===e?Lt(e[t])?r:e[t]:n},Qr=e=>typeof e=="boolean",e0=e=>/^\w*$/.test(e),h_=e=>xm(e.replace(/["|']|\]/g,"").split(/\.|\[/)),at=(e,t,r)=>{let n=-1;const i=e0(t)?[t]:h_(t),a=i.length,o=a-1;for(;++n<a;){const l=i[n];let c=r;if(n!==o){const d=e[l];c=zt(d)||Array.isArray(d)?d:isNaN(+i[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const qf={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Fn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},js={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},m_=Be.createContext(null),ym=()=>Be.useContext(m_),E7=e=>{const{children:t,...r}=e;return Be.createElement(m_.Provider,{value:r},t)};var p_=(e,t,r,n=!0)=>{const i={defaultValues:t._defaultValues};for(const a in e)Object.defineProperty(i,a,{get:()=>{const o=a;return t._proxyFormState[o]!==Fn.all&&(t._proxyFormState[o]=!n||Fn.all),r&&(r[o]=!0),e[o]}});return i};function _7(e){const t=ym(),{control:r=t.control,disabled:n,name:i,exact:a}=e||{},[o,l]=Be.useState(r._formState),c=Be.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),d=Be.useRef(i);return d.current=i,Be.useEffect(()=>r._subscribe({name:d.current,formState:c.current,exact:a,callback:u=>{!n&&l({...r._formState,...u})}}),[r,n,a]),Be.useEffect(()=>{c.current.isValid&&r._setValid(!0)},[r]),Be.useMemo(()=>p_(o,r,c.current,!1),[o,r])}var as=e=>typeof e=="string",g_=(e,t,r,n,i)=>as(e)?(n&&t.watch.add(e),oe(r,e,i)):Array.isArray(e)?e.map(a=>(n&&t.watch.add(a),oe(r,a))):(n&&(t.watchAll=!0),r);function D7(e){const t=ym(),{control:r=t.control,name:n,defaultValue:i,disabled:a,exact:o}=e||{},l=Be.useRef(n),c=Be.useRef(i);l.current=n,Be.useEffect(()=>r._subscribe({name:l.current,formState:{values:!0},exact:o,callback:f=>!a&&u(g_(l.current,r._names,f.values||r._formValues,!1,c.current))}),[r,a,o]);const[d,u]=Be.useState(r._getWatch(n,i));return Be.useEffect(()=>r._removeUnmounted()),d}function M7(e){const t=ym(),{name:r,disabled:n,control:i=t.control,shouldUnregister:a}=e,o=f_(i._names.array,r),l=D7({control:i,name:r,defaultValue:oe(i._formValues,r,oe(i._defaultValues,r,e.defaultValue)),exact:!0}),c=_7({control:i,name:r,exact:!0}),d=Be.useRef(e),u=Be.useRef(i.register(r,{...e.rules,value:l,...Qr(e.disabled)?{disabled:e.disabled}:{}})),f=Be.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!oe(c.errors,r)},isDirty:{enumerable:!0,get:()=>!!oe(c.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!oe(c.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!oe(c.validatingFields,r)},error:{enumerable:!0,get:()=>oe(c.errors,r)}}),[c,r]),h=Be.useCallback(b=>u.current.onChange({target:{value:u_(b),name:r},type:qf.CHANGE}),[r]),p=Be.useCallback(()=>u.current.onBlur({target:{value:oe(i._formValues,r),name:r},type:qf.BLUR}),[r,i._formValues]),v=Be.useCallback(b=>{const x=oe(i._fields,r);x&&b&&(x._f.ref={focus:()=>b.focus(),select:()=>b.select(),setCustomValidity:y=>b.setCustomValidity(y),reportValidity:()=>b.reportValidity()})},[i._fields,r]),g=Be.useMemo(()=>({name:r,value:l,...Qr(n)||c.disabled?{disabled:c.disabled||n}:{},onChange:h,onBlur:p,ref:v}),[r,n,c.disabled,h,p,v,l]);return Be.useEffect(()=>{const b=i._options.shouldUnregister||a;i.register(r,{...d.current.rules,...Qr(d.current.disabled)?{disabled:d.current.disabled}:{}});const x=(y,w)=>{const j=oe(i._fields,y);j&&j._f&&(j._f.mount=w)};if(x(r,!0),b){const y=rr(oe(i._options.defaultValues,r));at(i._defaultValues,r,y),Lt(oe(i._formValues,r))&&at(i._formValues,r,y)}return!o&&i.register(r),()=>{(o?b&&!i._state.action:b)?i.unregister(r):x(r,!1)}},[r,i,o,a]),Be.useEffect(()=>{i._setDisabledField({disabled:n,name:r})},[n,r,i]),Be.useMemo(()=>({field:g,formState:c,fieldState:f}),[g,c,f])}const A7=e=>e.render(M7(e));var x_=(e,t,r,n,i)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:i||!0}}:{},Nc=e=>Array.isArray(e)?e:[e],s1=()=>{let e=[];return{get observers(){return e},next:i=>{for(const a of e)a.next&&a.next(i)},subscribe:i=>(e.push(i),{unsubscribe:()=>{e=e.filter(a=>a!==i)}}),unsubscribe:()=>{e=[]}}},xx=e=>Cr(e)||!d_(e);function ai(e,t){if(xx(e)||xx(t))return e===t;if(da(e)&&da(t))return e.getTime()===t.getTime();const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(const i of r){const a=e[i];if(!n.includes(i))return!1;if(i!=="ref"){const o=t[i];if(da(a)&&da(o)||zt(a)&&zt(o)||Array.isArray(a)&&Array.isArray(o)?!ai(a,o):a!==o)return!1}}return!0}var Nr=e=>zt(e)&&!Object.keys(e).length,t0=e=>e.type==="file",In=e=>typeof e=="function",Gf=e=>{if(!Jv)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},y_=e=>e.type==="select-multiple",r0=e=>e.type==="radio",R7=e=>r0(e)||qd(e),Pp=e=>Gf(e)&&e.isConnected;function O7(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=Lt(e)?n++:e[t[n++]];return e}function F7(e){for(const t in e)if(e.hasOwnProperty(t)&&!Lt(e[t]))return!1;return!0}function Ut(e,t){const r=Array.isArray(t)?t:e0(t)?[t]:h_(t),n=r.length===1?e:O7(e,r),i=r.length-1,a=r[i];return n&&delete n[a],i!==0&&(zt(n)&&Nr(n)||Array.isArray(n)&&F7(n))&&Ut(e,r.slice(0,-1)),e}var v_=e=>{for(const t in e)if(In(e[t]))return!0;return!1};function Qf(e,t={}){const r=Array.isArray(e);if(zt(e)||r)for(const n in e)Array.isArray(e[n])||zt(e[n])&&!v_(e[n])?(t[n]=Array.isArray(e[n])?[]:{},Qf(e[n],t[n])):Cr(e[n])||(t[n]=!0);return t}function w_(e,t,r){const n=Array.isArray(e);if(zt(e)||n)for(const i in e)Array.isArray(e[i])||zt(e[i])&&!v_(e[i])?Lt(t)||xx(r[i])?r[i]=Array.isArray(e[i])?Qf(e[i],[]):{...Qf(e[i])}:w_(e[i],Cr(t)?{}:t[i],r[i]):r[i]=!ai(e[i],t[i]);return r}var Yl=(e,t)=>w_(e,t,Qf(t));const i1={value:!1,isValid:!1},a1={value:!0,isValid:!0};var b_=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Lt(e[0].attributes.value)?Lt(e[0].value)||e[0].value===""?a1:{value:e[0].value,isValid:!0}:a1:i1}return i1},j_=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>Lt(e)?e:t?e===""?NaN:e&&+e:r&&as(e)?new Date(e):n?n(e):e;const o1={isValid:!1,value:null};var N_=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,o1):o1;function l1(e){const t=e.ref;return t0(t)?t.files:r0(t)?N_(e.refs).value:y_(t)?[...t.selectedOptions].map(({value:r})=>r):qd(t)?b_(e.refs).value:j_(Lt(t.value)?e.ref.value:t.value,e)}var I7=(e,t,r,n)=>{const i={};for(const a of e){const o=oe(t,a);o&&at(i,a,o._f)}return{criteriaMode:r,names:[...e],fields:i,shouldUseNativeValidation:n}},Zf=e=>e instanceof RegExp,ql=e=>Lt(e)?e:Zf(e)?e.source:zt(e)?Zf(e.value)?e.value.source:e.value:e,c1=e=>({isOnSubmit:!e||e===Fn.onSubmit,isOnBlur:e===Fn.onBlur,isOnChange:e===Fn.onChange,isOnAll:e===Fn.all,isOnTouch:e===Fn.onTouched});const d1="AsyncFunction";var L7=e=>!!e&&!!e.validate&&!!(In(e.validate)&&e.validate.constructor.name===d1||zt(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===d1)),V7=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),u1=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const kc=(e,t,r,n)=>{for(const i of r||Object.keys(e)){const a=oe(e,i);if(a){const{_f:o,...l}=a;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],i)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(kc(l,t))break}else if(zt(l)&&kc(l,t))break}}};function f1(e,t,r){const n=oe(e,r);if(n||e0(r))return{error:n,name:r};const i=r.split(".");for(;i.length;){const a=i.join("."),o=oe(t,a),l=oe(e,a);if(o&&!Array.isArray(o)&&r!==a)return{name:r};if(l&&l.type)return{name:a,error:l};i.pop()}return{name:r}}var $7=(e,t,r,n)=>{r(e);const{name:i,...a}=e;return Nr(a)||Object.keys(a).length>=Object.keys(t).length||Object.keys(a).find(o=>t[o]===(!n||Fn.all))},z7=(e,t,r)=>!e||!t||e===t||Nc(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),B7=(e,t,r,n,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(t||e):(r?n.isOnBlur:i.isOnBlur)?!e:(r?n.isOnChange:i.isOnChange)?e:!0,W7=(e,t)=>!xm(oe(e,t)).length&&Ut(e,t),U7=(e,t,r)=>{const n=Nc(oe(e,r));return at(n,"root",t[r]),at(e,r,n),e},tf=e=>as(e);function h1(e,t,r="validate"){if(tf(e)||Array.isArray(e)&&e.every(tf)||Qr(e)&&!e)return{type:r,message:tf(e)?e:"",ref:t}}var Qa=e=>zt(e)&&!Zf(e)?e:{value:e,message:""},m1=async(e,t,r,n,i,a)=>{const{ref:o,refs:l,required:c,maxLength:d,minLength:u,min:f,max:h,pattern:p,validate:v,name:g,valueAsNumber:b,mount:x}=e._f,y=oe(r,g);if(!x||t.has(g))return{};const w=l?l[0]:o,j=V=>{i&&w.reportValidity&&(w.setCustomValidity(Qr(V)?"":V||""),w.reportValidity())},N={},P=r0(o),S=qd(o),E=P||S,R=(b||t0(o))&&Lt(o.value)&&Lt(y)||Gf(o)&&o.value===""||y===""||Array.isArray(y)&&!y.length,A=x_.bind(null,g,n,N),W=(V,O,B,Y=js.maxLength,H=js.minLength)=>{const _=V?O:B;N[g]={type:V?Y:H,message:_,ref:o,...A(V?Y:H,_)}};if(a?!Array.isArray(y)||!y.length:c&&(!E&&(R||Cr(y))||Qr(y)&&!y||S&&!b_(l).isValid||P&&!N_(l).isValid)){const{value:V,message:O}=tf(c)?{value:!!c,message:c}:Qa(c);if(V&&(N[g]={type:js.required,message:O,ref:w,...A(js.required,O)},!n))return j(O),N}if(!R&&(!Cr(f)||!Cr(h))){let V,O;const B=Qa(h),Y=Qa(f);if(!Cr(y)&&!isNaN(y)){const H=o.valueAsNumber||y&&+y;Cr(B.value)||(V=H>B.value),Cr(Y.value)||(O=H<Y.value)}else{const H=o.valueAsDate||new Date(y),_=$=>new Date(new Date().toDateString()+" "+$),C=o.type=="time",T=o.type=="week";as(B.value)&&y&&(V=C?_(y)>_(B.value):T?y>B.value:H>new Date(B.value)),as(Y.value)&&y&&(O=C?_(y)<_(Y.value):T?y<Y.value:H<new Date(Y.value))}if((V||O)&&(W(!!V,B.message,Y.message,js.max,js.min),!n))return j(N[g].message),N}if((d||u)&&!R&&(as(y)||a&&Array.isArray(y))){const V=Qa(d),O=Qa(u),B=!Cr(V.value)&&y.length>+V.value,Y=!Cr(O.value)&&y.length<+O.value;if((B||Y)&&(W(B,V.message,O.message),!n))return j(N[g].message),N}if(p&&!R&&as(y)){const{value:V,message:O}=Qa(p);if(Zf(V)&&!y.match(V)&&(N[g]={type:js.pattern,message:O,ref:o,...A(js.pattern,O)},!n))return j(O),N}if(v){if(In(v)){const V=await v(y,r),O=h1(V,w);if(O&&(N[g]={...O,...A(js.validate,O.message)},!n))return j(O.message),N}else if(zt(v)){let V={};for(const O in v){if(!Nr(V)&&!n)break;const B=h1(await v[O](y,r),w,O);B&&(V={...B,...A(O,B.message)},j(B.message),n&&(N[g]=V))}if(!Nr(V)&&(N[g]={ref:w,...V},!n))return N}}return j(!0),N};const H7={mode:Fn.onSubmit,reValidateMode:Fn.onChange,shouldFocusError:!0};function K7(e={}){let t={...H7,...e},r={submitCount:0,isDirty:!1,isLoading:In(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1};const n={};let i=zt(t.defaultValues)||zt(t.values)?rr(t.values||t.defaultValues)||{}:{},a=t.shouldUnregister?{}:rr(i),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...u};const h={array:s1(),state:s1()},p=c1(t.mode),v=c1(t.reValidateMode),g=t.criteriaMode===Fn.all,b=k=>D=>{clearTimeout(d),d=setTimeout(k,D)},x=async k=>{if(!t.disabled&&(u.isValid||f.isValid||k)){const D=t.resolver?Nr((await R()).errors):await W(n,!0);D!==r.isValid&&h.state.next({isValid:D})}},y=(k,D)=>{!t.disabled&&(u.isValidating||u.validatingFields||f.isValidating||f.validatingFields)&&((k||Array.from(l.mount)).forEach(L=>{L&&(D?at(r.validatingFields,L,D):Ut(r.validatingFields,L))}),h.state.next({validatingFields:r.validatingFields,isValidating:!Nr(r.validatingFields)}))},w=(k,D=[],L,se,ne=!0,ee=!0)=>{if(se&&L&&!t.disabled){if(o.action=!0,ee&&Array.isArray(oe(n,k))){const ie=L(oe(n,k),se.argA,se.argB);ne&&at(n,k,ie)}if(ee&&Array.isArray(oe(r.errors,k))){const ie=L(oe(r.errors,k),se.argA,se.argB);ne&&at(r.errors,k,ie),W7(r.errors,k)}if((u.touchedFields||f.touchedFields)&&ee&&Array.isArray(oe(r.touchedFields,k))){const ie=L(oe(r.touchedFields,k),se.argA,se.argB);ne&&at(r.touchedFields,k,ie)}(u.dirtyFields||f.dirtyFields)&&(r.dirtyFields=Yl(i,a)),h.state.next({name:k,isDirty:O(k,D),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else at(a,k,D)},j=(k,D)=>{at(r.errors,k,D),h.state.next({errors:r.errors})},N=k=>{r.errors=k,h.state.next({errors:r.errors,isValid:!1})},P=(k,D,L,se)=>{const ne=oe(n,k);if(ne){const ee=oe(a,k,Lt(L)?oe(i,k):L);Lt(ee)||se&&se.defaultChecked||D?at(a,k,D?ee:l1(ne._f)):H(k,ee),o.mount&&x()}},S=(k,D,L,se,ne)=>{let ee=!1,ie=!1;const be={name:k};if(!t.disabled){if(!L||se){(u.isDirty||f.isDirty)&&(ie=r.isDirty,r.isDirty=be.isDirty=O(),ee=ie!==be.isDirty);const qe=ai(oe(i,k),D);ie=!!oe(r.dirtyFields,k),qe?Ut(r.dirtyFields,k):at(r.dirtyFields,k,!0),be.dirtyFields=r.dirtyFields,ee=ee||(u.dirtyFields||f.dirtyFields)&&ie!==!qe}if(L){const qe=oe(r.touchedFields,k);qe||(at(r.touchedFields,k,L),be.touchedFields=r.touchedFields,ee=ee||(u.touchedFields||f.touchedFields)&&qe!==L)}ee&&ne&&h.state.next(be)}return ee?be:{}},E=(k,D,L,se)=>{const ne=oe(r.errors,k),ee=(u.isValid||f.isValid)&&Qr(D)&&r.isValid!==D;if(t.delayError&&L?(c=b(()=>j(k,L)),c(t.delayError)):(clearTimeout(d),c=null,L?at(r.errors,k,L):Ut(r.errors,k)),(L?!ai(ne,L):ne)||!Nr(se)||ee){const ie={...se,...ee&&Qr(D)?{isValid:D}:{},errors:r.errors,name:k};r={...r,...ie},h.state.next(ie)}},R=async k=>{y(k,!0);const D=await t.resolver(a,t.context,I7(k||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return y(k),D},A=async k=>{const{errors:D}=await R(k);if(k)for(const L of k){const se=oe(D,L);se?at(r.errors,L,se):Ut(r.errors,L)}else r.errors=D;return D},W=async(k,D,L={valid:!0})=>{for(const se in k){const ne=k[se];if(ne){const{_f:ee,...ie}=ne;if(ee){const be=l.array.has(ee.name),qe=ne._f&&L7(ne._f);qe&&u.validatingFields&&y([se],!0);const Ze=await m1(ne,l.disabled,a,g,t.shouldUseNativeValidation&&!D,be);if(qe&&u.validatingFields&&y([se]),Ze[ee.name]&&(L.valid=!1,D))break;!D&&(oe(Ze,ee.name)?be?U7(r.errors,Ze,ee.name):at(r.errors,ee.name,Ze[ee.name]):Ut(r.errors,ee.name))}!Nr(ie)&&await W(ie,D,L)}}return L.valid},V=()=>{for(const k of l.unMount){const D=oe(n,k);D&&(D._f.refs?D._f.refs.every(L=>!Pp(L)):!Pp(D._f.ref))&&ce(k)}l.unMount=new Set},O=(k,D)=>!t.disabled&&(k&&D&&at(a,k,D),!ai(fe(),i)),B=(k,D,L)=>g_(k,l,{...o.mount?a:Lt(D)?i:as(k)?{[k]:D}:D},L,D),Y=k=>xm(oe(o.mount?a:i,k,t.shouldUnregister?oe(i,k,[]):[])),H=(k,D,L={})=>{const se=oe(n,k);let ne=D;if(se){const ee=se._f;ee&&(!ee.disabled&&at(a,k,j_(D,ee)),ne=Gf(ee.ref)&&Cr(D)?"":D,y_(ee.ref)?[...ee.ref.options].forEach(ie=>ie.selected=ne.includes(ie.value)):ee.refs?qd(ee.ref)?ee.refs.length>1?ee.refs.forEach(ie=>(!ie.defaultChecked||!ie.disabled)&&(ie.checked=Array.isArray(ne)?!!ne.find(be=>be===ie.value):ne===ie.value)):ee.refs[0]&&(ee.refs[0].checked=!!ne):ee.refs.forEach(ie=>ie.checked=ie.value===ne):t0(ee.ref)?ee.ref.value="":(ee.ref.value=ne,ee.ref.type||h.state.next({name:k,values:rr(a)})))}(L.shouldDirty||L.shouldTouch)&&S(k,ne,L.shouldTouch,L.shouldDirty,!0),L.shouldValidate&&U(k)},_=(k,D,L)=>{for(const se in D){const ne=D[se],ee=`${k}.${se}`,ie=oe(n,ee);(l.array.has(k)||zt(ne)||ie&&!ie._f)&&!da(ne)?_(ee,ne,L):H(ee,ne,L)}},C=(k,D,L={})=>{const se=oe(n,k),ne=l.array.has(k),ee=rr(D);at(a,k,ee),ne?(h.array.next({name:k,values:rr(a)}),(u.isDirty||u.dirtyFields||f.isDirty||f.dirtyFields)&&L.shouldDirty&&h.state.next({name:k,dirtyFields:Yl(i,a),isDirty:O(k,ee)})):se&&!se._f&&!Cr(ee)?_(k,ee,L):H(k,ee,L),u1(k,l)&&h.state.next({...r}),h.state.next({name:o.mount?k:void 0,values:rr(a)})},T=async k=>{o.mount=!0;const D=k.target;let L=D.name,se=!0;const ne=oe(n,L),ee=ie=>{se=Number.isNaN(ie)||da(ie)&&isNaN(ie.getTime())||ai(ie,oe(a,L,ie))};if(ne){let ie,be;const qe=D.type?l1(ne._f):u_(k),Ze=k.type===qf.BLUR||k.type===qf.FOCUS_OUT,wr=!V7(ne._f)&&!t.resolver&&!oe(r.errors,L)&&!ne._f.deps||B7(Ze,oe(r.touchedFields,L),r.isSubmitted,v,p),vs=u1(L,l,Ze);at(a,L,qe),Ze?(ne._f.onBlur&&ne._f.onBlur(k),c&&c(0)):ne._f.onChange&&ne._f.onChange(k);const Pn=S(L,qe,Ze),Xi=!Nr(Pn)||vs;if(!Ze&&h.state.next({name:L,type:k.type,values:rr(a)}),wr)return(u.isValid||f.isValid)&&(t.mode==="onBlur"?Ze&&x():Ze||x()),Xi&&h.state.next({name:L,...vs?{}:Pn});if(!Ze&&vs&&h.state.next({...r}),t.resolver){const{errors:Tl}=await R([L]);if(ee(qe),se){const eu=f1(r.errors,n,L),El=f1(Tl,n,eu.name||L);ie=El.error,L=El.name,be=Nr(Tl)}}else y([L],!0),ie=(await m1(ne,l.disabled,a,g,t.shouldUseNativeValidation))[L],y([L]),ee(qe),se&&(ie?be=!1:(u.isValid||f.isValid)&&(be=await W(n,!0)));se&&(ne._f.deps&&U(ne._f.deps),E(L,be,ie,Pn))}},$=(k,D)=>{if(oe(r.errors,D)&&k.focus)return k.focus(),1},U=async(k,D={})=>{let L,se;const ne=Nc(k);if(t.resolver){const ee=await A(Lt(k)?k:ne);L=Nr(ee),se=k?!ne.some(ie=>oe(ee,ie)):L}else k?(se=(await Promise.all(ne.map(async ee=>{const ie=oe(n,ee);return await W(ie&&ie._f?{[ee]:ie}:ie)}))).every(Boolean),!(!se&&!r.isValid)&&x()):se=L=await W(n);return h.state.next({...!as(k)||(u.isValid||f.isValid)&&L!==r.isValid?{}:{name:k},...t.resolver||!k?{isValid:L}:{},errors:r.errors}),D.shouldFocus&&!se&&kc(n,$,k?ne:l.mount),se},fe=k=>{const D={...o.mount?a:i};return Lt(k)?D:as(k)?oe(D,k):k.map(L=>oe(D,L))},Te=(k,D)=>({invalid:!!oe((D||r).errors,k),isDirty:!!oe((D||r).dirtyFields,k),error:oe((D||r).errors,k),isValidating:!!oe(r.validatingFields,k),isTouched:!!oe((D||r).touchedFields,k)}),$e=k=>{k&&Nc(k).forEach(D=>Ut(r.errors,D)),h.state.next({errors:k?r.errors:{}})},pt=(k,D,L)=>{const se=(oe(n,k,{_f:{}})._f||{}).ref,ne=oe(r.errors,k)||{},{ref:ee,message:ie,type:be,...qe}=ne;at(r.errors,k,{...qe,...D,ref:se}),h.state.next({name:k,errors:r.errors,isValid:!1}),L&&L.shouldFocus&&se&&se.focus&&se.focus()},ze=(k,D)=>In(k)?h.state.subscribe({next:L=>k(B(void 0,D),L)}):B(k,D,!0),te=k=>h.state.subscribe({next:D=>{z7(k.name,D.name,k.exact)&&$7(D,k.formState||u,Ve,k.reRenderRoot)&&k.callback({values:{...a},...r,...D})}}).unsubscribe,K=k=>(o.mount=!0,f={...f,...k.formState},te({...k,formState:f})),ce=(k,D={})=>{for(const L of k?Nc(k):l.mount)l.mount.delete(L),l.array.delete(L),D.keepValue||(Ut(n,L),Ut(a,L)),!D.keepError&&Ut(r.errors,L),!D.keepDirty&&Ut(r.dirtyFields,L),!D.keepTouched&&Ut(r.touchedFields,L),!D.keepIsValidating&&Ut(r.validatingFields,L),!t.shouldUnregister&&!D.keepDefaultValue&&Ut(i,L);h.state.next({values:rr(a)}),h.state.next({...r,...D.keepDirty?{isDirty:O()}:{}}),!D.keepIsValid&&x()},ve=({disabled:k,name:D})=>{(Qr(k)&&o.mount||k||l.disabled.has(D))&&(k?l.disabled.add(D):l.disabled.delete(D))},xe=(k,D={})=>{let L=oe(n,k);const se=Qr(D.disabled)||Qr(t.disabled);return at(n,k,{...L||{},_f:{...L&&L._f?L._f:{ref:{name:k}},name:k,mount:!0,...D}}),l.mount.add(k),L?ve({disabled:Qr(D.disabled)?D.disabled:t.disabled,name:k}):P(k,!0,D.value),{...se?{disabled:D.disabled||t.disabled}:{},...t.progressive?{required:!!D.required,min:ql(D.min),max:ql(D.max),minLength:ql(D.minLength),maxLength:ql(D.maxLength),pattern:ql(D.pattern)}:{},name:k,onChange:T,onBlur:T,ref:ne=>{if(ne){xe(k,D),L=oe(n,k);const ee=Lt(ne.value)&&ne.querySelectorAll&&ne.querySelectorAll("input,select,textarea")[0]||ne,ie=R7(ee),be=L._f.refs||[];if(ie?be.find(qe=>qe===ee):ee===L._f.ref)return;at(n,k,{_f:{...L._f,...ie?{refs:[...be.filter(Pp),ee,...Array.isArray(oe(i,k))?[{}]:[]],ref:{type:ee.type,name:k}}:{ref:ee}}}),P(k,!1,void 0,ee)}else L=oe(n,k,{}),L._f&&(L._f.mount=!1),(t.shouldUnregister||D.shouldUnregister)&&!(f_(l.array,k)&&o.action)&&l.unMount.add(k)}}},Se=()=>t.shouldFocusError&&kc(n,$,l.mount),I=k=>{Qr(k)&&(h.state.next({disabled:k}),kc(n,(D,L)=>{const se=oe(n,L);se&&(D.disabled=se._f.disabled||k,Array.isArray(se._f.refs)&&se._f.refs.forEach(ne=>{ne.disabled=se._f.disabled||k}))},0,!1))},ae=(k,D)=>async L=>{let se;L&&(L.preventDefault&&L.preventDefault(),L.persist&&L.persist());let ne=rr(a);if(h.state.next({isSubmitting:!0}),t.resolver){const{errors:ee,values:ie}=await R();r.errors=ee,ne=ie}else await W(n);if(l.disabled.size)for(const ee of l.disabled)at(ne,ee,void 0);if(Ut(r.errors,"root"),Nr(r.errors)){h.state.next({errors:{}});try{await k(ne,L)}catch(ee){se=ee}}else D&&await D({...r.errors},L),Se(),setTimeout(Se);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Nr(r.errors)&&!se,submitCount:r.submitCount+1,errors:r.errors}),se)throw se},pe=(k,D={})=>{oe(n,k)&&(Lt(D.defaultValue)?C(k,rr(oe(i,k))):(C(k,D.defaultValue),at(i,k,rr(D.defaultValue))),D.keepTouched||Ut(r.touchedFields,k),D.keepDirty||(Ut(r.dirtyFields,k),r.isDirty=D.defaultValue?O(k,rr(oe(i,k))):O()),D.keepError||(Ut(r.errors,k),u.isValid&&x()),h.state.next({...r}))},z=(k,D={})=>{const L=k?rr(k):i,se=rr(L),ne=Nr(k),ee=ne?i:se;if(D.keepDefaultValues||(i=L),!D.keepValues){if(D.keepDirtyValues){const ie=new Set([...l.mount,...Object.keys(Yl(i,a))]);for(const be of Array.from(ie))oe(r.dirtyFields,be)?at(ee,be,oe(a,be)):C(be,oe(ee,be))}else{if(Jv&&Lt(k))for(const ie of l.mount){const be=oe(n,ie);if(be&&be._f){const qe=Array.isArray(be._f.refs)?be._f.refs[0]:be._f.ref;if(Gf(qe)){const Ze=qe.closest("form");if(Ze){Ze.reset();break}}}}for(const ie of l.mount)C(ie,oe(ee,ie))}a=rr(ee),h.array.next({values:{...ee}}),h.state.next({values:{...ee}})}l={mount:D.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!D.keepIsValid||!!D.keepDirtyValues,o.watch=!!t.shouldUnregister,h.state.next({submitCount:D.keepSubmitCount?r.submitCount:0,isDirty:ne?!1:D.keepDirty?r.isDirty:!!(D.keepDefaultValues&&!ai(k,i)),isSubmitted:D.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:ne?{}:D.keepDirtyValues?D.keepDefaultValues&&a?Yl(i,a):r.dirtyFields:D.keepDefaultValues&&k?Yl(i,k):D.keepDirty?r.dirtyFields:{},touchedFields:D.keepTouched?r.touchedFields:{},errors:D.keepErrors?r.errors:{},isSubmitSuccessful:D.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},q=(k,D)=>z(In(k)?k(a):k,D),Fe=(k,D={})=>{const L=oe(n,k),se=L&&L._f;if(se){const ne=se.refs?se.refs[0]:se.ref;ne.focus&&(ne.focus(),D.shouldSelect&&In(ne.select)&&ne.select())}},Ve=k=>{r={...r,...k}},tt={control:{register:xe,unregister:ce,getFieldState:Te,handleSubmit:ae,setError:pt,_subscribe:te,_runSchema:R,_getWatch:B,_getDirty:O,_setValid:x,_setFieldArray:w,_setDisabledField:ve,_setErrors:N,_getFieldArray:Y,_reset:z,_resetDefaultValues:()=>In(t.defaultValues)&&t.defaultValues().then(k=>{q(k,t.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:V,_disableForm:I,_subjects:h,_proxyFormState:u,get _fields(){return n},get _formValues(){return a},get _state(){return o},set _state(k){o=k},get _defaultValues(){return i},get _names(){return l},set _names(k){l=k},get _formState(){return r},get _options(){return t},set _options(k){t={...t,...k}}},subscribe:K,trigger:U,register:xe,handleSubmit:ae,watch:ze,setValue:C,getValues:fe,reset:q,resetField:pe,clearErrors:$e,unregister:ce,setError:pt,setFocus:Fe,getFieldState:Te};return{...tt,formControl:tt}}function k_(e={}){const t=Be.useRef(void 0),r=Be.useRef(void 0),[n,i]=Be.useState({isDirty:!1,isValidating:!1,isLoading:In(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:In(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...e.formControl?e.formControl:K7(e),formState:n},e.formControl&&e.defaultValues&&!In(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions));const a=t.current.control;return a._options=e,Be.useLayoutEffect(()=>a._subscribe({formState:a._proxyFormState,callback:()=>i({...a._formState}),reRenderRoot:!0}),[a]),Be.useEffect(()=>a._disableForm(e.disabled),[a,e.disabled]),Be.useEffect(()=>{if(a._proxyFormState.isDirty){const o=a._getDirty();o!==n.isDirty&&a._subjects.state.next({isDirty:o})}},[a,n.isDirty]),Be.useEffect(()=>{e.values&&!ai(e.values,r.current)?(a._reset(e.values,a._options.resetOptions),r.current=e.values,i(o=>({...o}))):a._resetDefaultValues()},[e.values,a]),Be.useEffect(()=>{e.errors&&!Nr(e.errors)&&a._setErrors(e.errors)},[e.errors,a]),Be.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),Be.useEffect(()=>{e.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[e.shouldUnregister,a]),t.current.formState=p_(n,a),t.current}const S_=E7,C_=m.createContext({}),yx=({...e})=>s.jsx(C_.Provider,{value:{name:e.name},children:s.jsx(A7,{...e})}),vm=()=>{const e=m.useContext(C_),t=m.useContext(P_),{getFieldState:r,formState:n}=ym(),i=r(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:a}=t;return{id:a,name:e.name,formItemId:`${a}-form-item`,formDescriptionId:`${a}-form-item-description`,formMessageId:`${a}-form-item-message`,...i}},P_=m.createContext({}),Xf=m.forwardRef(({className:e,...t},r)=>{const n=m.useId();return s.jsx(P_.Provider,{value:{id:n},children:s.jsx("div",{ref:r,className:re("space-y-2",e),...t})})});Xf.displayName="FormItem";const Jf=m.forwardRef(({className:e,...t},r)=>{const{error:n,formItemId:i}=vm();return s.jsx(G,{ref:r,className:re(n&&"text-destructive",e),htmlFor:i,...t})});Jf.displayName="FormLabel";const eh=m.forwardRef(({...e},t)=>{const{error:r,formItemId:n,formDescriptionId:i,formMessageId:a}=vm();return s.jsx(CS,{ref:t,id:n,"aria-describedby":r?`${i} ${a}`:`${i}`,"aria-invalid":!!r,...e})});eh.displayName="FormControl";const Y7=m.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:n}=vm();return s.jsx("p",{ref:r,id:n,className:re("text-sm text-muted-foreground",e),...t})});Y7.displayName="FormDescription";const th=m.forwardRef(({className:e,children:t,...r},n)=>{const{error:i,formMessageId:a}=vm(),o=i?String((i==null?void 0:i.message)??""):t;return o?s.jsx("p",{ref:n,id:a,className:re("text-sm font-medium text-destructive",e),...r,children:o}):null});th.displayName="FormMessage";var T_=["PageUp","PageDown"],E_=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],__={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Cl="Slider",[vx,q7,G7]=Dd(Cl),[D_,IY]=yr(Cl,[G7]),[Q7,wm]=D_(Cl),M_=m.forwardRef((e,t)=>{const{name:r,min:n=0,max:i=100,step:a=1,orientation:o="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:d=[n],value:u,onValueChange:f=()=>{},onValueCommit:h=()=>{},inverted:p=!1,form:v,...g}=e,b=m.useRef(new Set),x=m.useRef(0),w=o==="horizontal"?Z7:X7,[j=[],N]=Sn({prop:u,defaultProp:d,onChange:W=>{var O;(O=[...b.current][x.current])==null||O.focus(),f(W)}}),P=m.useRef(j);function S(W){const V=nz(j,W);A(W,V)}function E(W){A(W,x.current)}function R(){const W=P.current[x.current];j[x.current]!==W&&h(j)}function A(W,V,{commit:O}={commit:!1}){const B=oz(a),Y=lz(Math.round((W-n)/a)*a+n,B),H=rd(Y,[n,i]);N((_=[])=>{const C=tz(_,H,V);if(az(C,c*a)){x.current=C.indexOf(H);const T=String(C)!==String(_);return T&&O&&h(C),T?C:_}else return _})}return s.jsx(Q7,{scope:e.__scopeSlider,name:r,disabled:l,min:n,max:i,valueIndexToChangeRef:x,thumbs:b.current,values:j,orientation:o,form:v,children:s.jsx(vx.Provider,{scope:e.__scopeSlider,children:s.jsx(vx.Slot,{scope:e.__scopeSlider,children:s.jsx(w,{"aria-disabled":l,"data-disabled":l?"":void 0,...g,ref:t,onPointerDown:Q(g.onPointerDown,()=>{l||(P.current=j)}),min:n,max:i,inverted:p,onSlideStart:l?void 0:S,onSlideMove:l?void 0:E,onSlideEnd:l?void 0:R,onHomeKeyDown:()=>!l&&A(n,0,{commit:!0}),onEndKeyDown:()=>!l&&A(i,j.length-1,{commit:!0}),onStepKeyDown:({event:W,direction:V})=>{if(!l){const Y=T_.includes(W.key)||W.shiftKey&&E_.includes(W.key)?10:1,H=x.current,_=j[H],C=a*Y*V;A(_+C,H,{commit:!0})}}})})})})});M_.displayName=Cl;var[A_,R_]=D_(Cl,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Z7=m.forwardRef((e,t)=>{const{min:r,max:n,dir:i,inverted:a,onSlideStart:o,onSlideMove:l,onSlideEnd:c,onStepKeyDown:d,...u}=e,[f,h]=m.useState(null),p=De(t,w=>h(w)),v=m.useRef(void 0),g=kl(i),b=g==="ltr",x=b&&!a||!b&&a;function y(w){const j=v.current||f.getBoundingClientRect(),N=[0,j.width],S=n0(N,x?[r,n]:[n,r]);return v.current=j,S(w-j.left)}return s.jsx(A_,{scope:e.__scopeSlider,startEdge:x?"left":"right",endEdge:x?"right":"left",direction:x?1:-1,size:"width",children:s.jsx(O_,{dir:g,"data-orientation":"horizontal",...u,ref:p,style:{...u.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:w=>{const j=y(w.clientX);o==null||o(j)},onSlideMove:w=>{const j=y(w.clientX);l==null||l(j)},onSlideEnd:()=>{v.current=void 0,c==null||c()},onStepKeyDown:w=>{const N=__[x?"from-left":"from-right"].includes(w.key);d==null||d({event:w,direction:N?-1:1})}})})}),X7=m.forwardRef((e,t)=>{const{min:r,max:n,inverted:i,onSlideStart:a,onSlideMove:o,onSlideEnd:l,onStepKeyDown:c,...d}=e,u=m.useRef(null),f=De(t,u),h=m.useRef(void 0),p=!i;function v(g){const b=h.current||u.current.getBoundingClientRect(),x=[0,b.height],w=n0(x,p?[n,r]:[r,n]);return h.current=b,w(g-b.top)}return s.jsx(A_,{scope:e.__scopeSlider,startEdge:p?"bottom":"top",endEdge:p?"top":"bottom",size:"height",direction:p?1:-1,children:s.jsx(O_,{"data-orientation":"vertical",...d,ref:f,style:{...d.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:g=>{const b=v(g.clientY);a==null||a(b)},onSlideMove:g=>{const b=v(g.clientY);o==null||o(b)},onSlideEnd:()=>{h.current=void 0,l==null||l()},onStepKeyDown:g=>{const x=__[p?"from-bottom":"from-top"].includes(g.key);c==null||c({event:g,direction:x?-1:1})}})})}),O_=m.forwardRef((e,t)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:i,onSlideEnd:a,onHomeKeyDown:o,onEndKeyDown:l,onStepKeyDown:c,...d}=e,u=wm(Cl,r);return s.jsx(ge.span,{...d,ref:t,onKeyDown:Q(e.onKeyDown,f=>{f.key==="Home"?(o(f),f.preventDefault()):f.key==="End"?(l(f),f.preventDefault()):T_.concat(E_).includes(f.key)&&(c(f),f.preventDefault())}),onPointerDown:Q(e.onPointerDown,f=>{const h=f.target;h.setPointerCapture(f.pointerId),f.preventDefault(),u.thumbs.has(h)?h.focus():n(f)}),onPointerMove:Q(e.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&i(f)}),onPointerUp:Q(e.onPointerUp,f=>{const h=f.target;h.hasPointerCapture(f.pointerId)&&(h.releasePointerCapture(f.pointerId),a(f))})})}),F_="SliderTrack",I_=m.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,i=wm(F_,r);return s.jsx(ge.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...n,ref:t})});I_.displayName=F_;var wx="SliderRange",L_=m.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,i=wm(wx,r),a=R_(wx,r),o=m.useRef(null),l=De(t,o),c=i.values.length,d=i.values.map(h=>$_(h,i.min,i.max)),u=c>1?Math.min(...d):0,f=100-Math.max(...d);return s.jsx(ge.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...n,ref:l,style:{...e.style,[a.startEdge]:u+"%",[a.endEdge]:f+"%"}})});L_.displayName=wx;var bx="SliderThumb",V_=m.forwardRef((e,t)=>{const r=q7(e.__scopeSlider),[n,i]=m.useState(null),a=De(t,l=>i(l)),o=m.useMemo(()=>n?r().findIndex(l=>l.ref.current===n):-1,[r,n]);return s.jsx(J7,{...e,ref:a,index:o})}),J7=m.forwardRef((e,t)=>{const{__scopeSlider:r,index:n,name:i,...a}=e,o=wm(bx,r),l=R_(bx,r),[c,d]=m.useState(null),u=De(t,y=>d(y)),f=c?o.form||!!c.closest("form"):!0,h=$h(c),p=o.values[n],v=p===void 0?0:$_(p,o.min,o.max),g=rz(n,o.values.length),b=h==null?void 0:h[l.size],x=b?sz(b,v,l.direction):0;return m.useEffect(()=>{if(c)return o.thumbs.add(c),()=>{o.thumbs.delete(c)}},[c,o.thumbs]),s.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${v}% + ${x}px)`},children:[s.jsx(vx.ItemSlot,{scope:e.__scopeSlider,children:s.jsx(ge.span,{role:"slider","aria-label":e["aria-label"]||g,"aria-valuemin":o.min,"aria-valuenow":p,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...a,ref:u,style:p===void 0?{display:"none"}:e.style,onFocus:Q(e.onFocus,()=>{o.valueIndexToChangeRef.current=n})})}),f&&s.jsx(ez,{name:i??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:p},n)]})});V_.displayName=bx;var ez=e=>{const{value:t,...r}=e,n=m.useRef(null),i=dm(t);return m.useEffect(()=>{const a=n.current,o=window.HTMLInputElement.prototype,c=Object.getOwnPropertyDescriptor(o,"value").set;if(i!==t&&c){const d=new Event("input",{bubbles:!0});c.call(a,t),a.dispatchEvent(d)}},[i,t]),s.jsx("input",{style:{display:"none"},...r,ref:n,defaultValue:t})};function tz(e=[],t,r){const n=[...e];return n[r]=t,n.sort((i,a)=>i-a)}function $_(e,t,r){const a=100/(r-t)*(e-t);return rd(a,[0,100])}function rz(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function nz(e,t){if(e.length===1)return 0;const r=e.map(i=>Math.abs(i-t)),n=Math.min(...r);return r.indexOf(n)}function sz(e,t,r){const n=e/2,a=n0([0,50],[0,n]);return(n-a(t)*r)*r}function iz(e){return e.slice(0,-1).map((t,r)=>e[r+1]-t)}function az(e,t){if(t>0){const r=iz(e);return Math.min(...r)>=t}return!0}function n0(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function oz(e){return(String(e).split(".")[1]||"").length}function lz(e,t){const r=Math.pow(10,t);return Math.round(e*r)/r}var z_=M_,cz=I_,dz=L_,uz=V_;const B_=m.forwardRef(({className:e,...t},r)=>s.jsxs(z_,{ref:r,className:re("relative flex w-full touch-none select-none items-center",e),...t,children:[s.jsx(cz,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:s.jsx(dz,{className:"absolute h-full bg-primary"})}),s.jsx(uz,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));B_.displayName=z_.displayName;const p1=(e,t,r)=>{if(e&&"reportValidity"in e){const n=oe(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},W_=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?p1(n.ref,r,e):n.refs&&n.refs.forEach(i=>p1(i,r,e))}},fz=(e,t)=>{t.shouldUseNativeValidation&&W_(e,t);const r={};for(const n in e){const i=oe(t.fields,n),a=Object.assign(e[n]||{},{ref:i&&i.ref});if(hz(t.names||Object.keys(e),n)){const o=Object.assign({},oe(r,n));at(o,"root",a),at(r,n,o)}else at(r,n,a)}return r},hz=(e,t)=>e.some(r=>r.startsWith(t+"."));var mz=function(e,t){for(var r={};e.length;){var n=e[0],i=n.code,a=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:a,type:i};if("unionErrors"in n&&n.unionErrors.forEach(function(u){return u.errors.forEach(function(f){return e.push(f)})}),t){var c=r[o].types,d=c&&c[n.code];r[o]=x_(o,t,r,i,d?[].concat(d,n.message):n.message)}e.shift()}return r},U_=function(e,t,r){return r===void 0&&(r={}),function(n,i,a){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(d){return a.shouldUseNativeValidation&&W_({},a),{errors:{},values:r.raw?n:d}})}catch(d){return l(d)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:fz(mz(o.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw o}))}catch(o){return Promise.reject(o)}}},rt;(function(e){e.assertEqual=i=>i;function t(i){}e.assertIs=t;function r(i){throw new Error}e.assertNever=r,e.arrayToEnum=i=>{const a={};for(const o of i)a[o]=o;return a},e.getValidEnumValues=i=>{const a=e.objectKeys(i).filter(l=>typeof i[i[l]]!="number"),o={};for(const l of a)o[l]=i[l];return e.objectValues(o)},e.objectValues=i=>e.objectKeys(i).map(function(a){return i[a]}),e.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const a=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&a.push(o);return a},e.find=(i,a)=>{for(const o of i)if(a(o))return o},e.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function n(i,a=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(a)}e.joinValues=n,e.jsonStringifyReplacer=(i,a)=>typeof a=="bigint"?a.toString():a})(rt||(rt={}));var jx;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(jx||(jx={}));const ue=rt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ps=e=>{switch(typeof e){case"undefined":return ue.undefined;case"string":return ue.string;case"number":return isNaN(e)?ue.nan:ue.number;case"boolean":return ue.boolean;case"function":return ue.function;case"bigint":return ue.bigint;case"symbol":return ue.symbol;case"object":return Array.isArray(e)?ue.array:e===null?ue.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?ue.promise:typeof Map<"u"&&e instanceof Map?ue.map:typeof Set<"u"&&e instanceof Set?ue.set:typeof Date<"u"&&e instanceof Date?ue.date:ue.object;default:return ue.unknown}},Z=rt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),pz=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class an extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(a){return a.message},n={_errors:[]},i=a=>{for(const o of a.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let l=n,c=0;for(;c<o.path.length;){const d=o.path[c];c===o.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(r(o))):l[d]=l[d]||{_errors:[]},l=l[d],c++}}};return i(this),n}static assert(t){if(!(t instanceof an))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,rt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const i of this.issues)i.path.length>0?(r[i.path[0]]=r[i.path[0]]||[],r[i.path[0]].push(t(i))):n.push(t(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}an.create=e=>new an(e);const ll=(e,t)=>{let r;switch(e.code){case Z.invalid_type:e.received===ue.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case Z.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,rt.jsonStringifyReplacer)}`;break;case Z.unrecognized_keys:r=`Unrecognized key(s) in object: ${rt.joinValues(e.keys,", ")}`;break;case Z.invalid_union:r="Invalid input";break;case Z.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${rt.joinValues(e.options)}`;break;case Z.invalid_enum_value:r=`Invalid enum value. Expected ${rt.joinValues(e.options)}, received '${e.received}'`;break;case Z.invalid_arguments:r="Invalid function arguments";break;case Z.invalid_return_type:r="Invalid function return type";break;case Z.invalid_date:r="Invalid date";break;case Z.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:rt.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case Z.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case Z.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case Z.custom:r="Invalid input";break;case Z.invalid_intersection_types:r="Intersection results could not be merged";break;case Z.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case Z.not_finite:r="Number must be finite";break;default:r=t.defaultError,rt.assertNever(e)}return{message:r}};let H_=ll;function gz(e){H_=e}function rh(){return H_}const nh=e=>{const{data:t,path:r,errorMaps:n,issueData:i}=e,a=[...r,...i.path||[]],o={...i,path:a};if(i.message!==void 0)return{...i,path:a,message:i.message};let l="";const c=n.filter(d=>!!d).slice().reverse();for(const d of c)l=d(o,{data:t,defaultError:l}).message;return{...i,path:a,message:l}},xz=[];function le(e,t){const r=rh(),n=nh({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===ll?void 0:ll].filter(i=>!!i)});e.common.issues.push(n)}class xr{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const i of r){if(i.status==="aborted")return _e;i.status==="dirty"&&t.dirty(),n.push(i.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const i of r){const a=await i.key,o=await i.value;n.push({key:a,value:o})}return xr.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const i of r){const{key:a,value:o}=i;if(a.status==="aborted"||o.status==="aborted")return _e;a.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),a.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(n[a.value]=o.value)}return{status:t.value,value:n}}}const _e=Object.freeze({status:"aborted"}),fo=e=>({status:"dirty",value:e}),Dr=e=>({status:"valid",value:e}),Nx=e=>e.status==="aborted",kx=e=>e.status==="dirty",Fa=e=>e.status==="valid",id=e=>typeof Promise<"u"&&e instanceof Promise;function sh(e,t,r,n){if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function K_(e,t,r,n,i){if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,r),r}var ye;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(ye||(ye={}));var ic,ac;class ps{constructor(t,r,n,i){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const g1=(e,t)=>{if(Fa(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new an(e.common.issues);return this._error=r,this._error}}};function We(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:i}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:i}:{errorMap:(o,l)=>{var c,d;const{message:u}=e;return o.code==="invalid_enum_value"?{message:u??l.defaultError}:typeof l.data>"u"?{message:(c=u??n)!==null&&c!==void 0?c:l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:(d=u??r)!==null&&d!==void 0?d:l.defaultError}},description:i}}class Ye{get description(){return this._def.description}_getType(t){return Ps(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:Ps(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new xr,ctx:{common:t.parent.common,data:t.data,parsedType:Ps(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(id(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){var n;const i={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ps(t)},a=this._parseSync({data:t,path:i.path,parent:i});return g1(i,a)}"~validate"(t){var r,n;const i={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ps(t)};if(!this["~standard"].async)try{const a=this._parseSync({data:t,path:[],parent:i});return Fa(a)?{value:a.value}:{issues:i.common.issues}}catch(a){!((n=(r=a==null?void 0:a.message)===null||r===void 0?void 0:r.toLowerCase())===null||n===void 0)&&n.includes("encountered")&&(this["~standard"].async=!0),i.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:i}).then(a=>Fa(a)?{value:a.value}:{issues:i.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ps(t)},i=this._parse({data:t,path:n.path,parent:n}),a=await(id(i)?i:Promise.resolve(i));return g1(n,a)}refine(t,r){const n=i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r;return this._refinement((i,a)=>{const o=t(i),l=()=>a.addIssue({code:Z.custom,...n(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,i)=>t(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(t){return new qn({schema:this,typeName:Pe.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return ds.create(this,this._def)}nullable(){return $i.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return zn.create(this)}promise(){return dl.create(this,this._def)}or(t){return cd.create([this,t],this._def)}and(t){return dd.create(this,t,this._def)}transform(t){return new qn({...We(this._def),schema:this,typeName:Pe.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new pd({...We(this._def),innerType:this,defaultValue:r,typeName:Pe.ZodDefault})}brand(){return new s0({typeName:Pe.ZodBranded,type:this,...We(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new gd({...We(this._def),innerType:this,catchValue:r,typeName:Pe.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return Gd.create(this,t)}readonly(){return xd.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const yz=/^c[^\s-]{8,}$/i,vz=/^[0-9a-z]+$/,wz=/^[0-9A-HJKMNP-TV-Z]{26}$/i,bz=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,jz=/^[a-z0-9_-]{21}$/i,Nz=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,kz=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Sz=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Cz="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Tp;const Pz=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Tz=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Ez=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,_z=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Dz=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Mz=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Y_="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Az=new RegExp(`^${Y_}$`);function q_(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function Rz(e){return new RegExp(`^${q_(e)}$`)}function G_(e){let t=`${Y_}T${q_(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function Oz(e,t){return!!((t==="v4"||!t)&&Pz.test(e)||(t==="v6"||!t)&&Ez.test(e))}function Fz(e,t){if(!Nz.test(e))return!1;try{const[r]=e.split("."),n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),i=JSON.parse(atob(n));return!(typeof i!="object"||i===null||!i.typ||!i.alg||t&&i.alg!==t)}catch{return!1}}function Iz(e,t){return!!((t==="v4"||!t)&&Tz.test(e)||(t==="v6"||!t)&&_z.test(e))}class Ln extends Ye{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==ue.string){const a=this._getOrReturnCtx(t);return le(a,{code:Z.invalid_type,expected:ue.string,received:a.parsedType}),_e}const n=new xr;let i;for(const a of this._def.checks)if(a.kind==="min")t.data.length<a.value&&(i=this._getOrReturnCtx(t,i),le(i,{code:Z.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="max")t.data.length>a.value&&(i=this._getOrReturnCtx(t,i),le(i,{code:Z.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="length"){const o=t.data.length>a.value,l=t.data.length<a.value;(o||l)&&(i=this._getOrReturnCtx(t,i),o?le(i,{code:Z.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):l&&le(i,{code:Z.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),n.dirty())}else if(a.kind==="email")Sz.test(t.data)||(i=this._getOrReturnCtx(t,i),le(i,{validation:"email",code:Z.invalid_string,message:a.message}),n.dirty());else if(a.kind==="emoji")Tp||(Tp=new RegExp(Cz,"u")),Tp.test(t.data)||(i=this._getOrReturnCtx(t,i),le(i,{validation:"emoji",code:Z.invalid_string,message:a.message}),n.dirty());else if(a.kind==="uuid")bz.test(t.data)||(i=this._getOrReturnCtx(t,i),le(i,{validation:"uuid",code:Z.invalid_string,message:a.message}),n.dirty());else if(a.kind==="nanoid")jz.test(t.data)||(i=this._getOrReturnCtx(t,i),le(i,{validation:"nanoid",code:Z.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid")yz.test(t.data)||(i=this._getOrReturnCtx(t,i),le(i,{validation:"cuid",code:Z.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid2")vz.test(t.data)||(i=this._getOrReturnCtx(t,i),le(i,{validation:"cuid2",code:Z.invalid_string,message:a.message}),n.dirty());else if(a.kind==="ulid")wz.test(t.data)||(i=this._getOrReturnCtx(t,i),le(i,{validation:"ulid",code:Z.invalid_string,message:a.message}),n.dirty());else if(a.kind==="url")try{new URL(t.data)}catch{i=this._getOrReturnCtx(t,i),le(i,{validation:"url",code:Z.invalid_string,message:a.message}),n.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(t.data)||(i=this._getOrReturnCtx(t,i),le(i,{validation:"regex",code:Z.invalid_string,message:a.message}),n.dirty())):a.kind==="trim"?t.data=t.data.trim():a.kind==="includes"?t.data.includes(a.value,a.position)||(i=this._getOrReturnCtx(t,i),le(i,{code:Z.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),n.dirty()):a.kind==="toLowerCase"?t.data=t.data.toLowerCase():a.kind==="toUpperCase"?t.data=t.data.toUpperCase():a.kind==="startsWith"?t.data.startsWith(a.value)||(i=this._getOrReturnCtx(t,i),le(i,{code:Z.invalid_string,validation:{startsWith:a.value},message:a.message}),n.dirty()):a.kind==="endsWith"?t.data.endsWith(a.value)||(i=this._getOrReturnCtx(t,i),le(i,{code:Z.invalid_string,validation:{endsWith:a.value},message:a.message}),n.dirty()):a.kind==="datetime"?G_(a).test(t.data)||(i=this._getOrReturnCtx(t,i),le(i,{code:Z.invalid_string,validation:"datetime",message:a.message}),n.dirty()):a.kind==="date"?Az.test(t.data)||(i=this._getOrReturnCtx(t,i),le(i,{code:Z.invalid_string,validation:"date",message:a.message}),n.dirty()):a.kind==="time"?Rz(a).test(t.data)||(i=this._getOrReturnCtx(t,i),le(i,{code:Z.invalid_string,validation:"time",message:a.message}),n.dirty()):a.kind==="duration"?kz.test(t.data)||(i=this._getOrReturnCtx(t,i),le(i,{validation:"duration",code:Z.invalid_string,message:a.message}),n.dirty()):a.kind==="ip"?Oz(t.data,a.version)||(i=this._getOrReturnCtx(t,i),le(i,{validation:"ip",code:Z.invalid_string,message:a.message}),n.dirty()):a.kind==="jwt"?Fz(t.data,a.alg)||(i=this._getOrReturnCtx(t,i),le(i,{validation:"jwt",code:Z.invalid_string,message:a.message}),n.dirty()):a.kind==="cidr"?Iz(t.data,a.version)||(i=this._getOrReturnCtx(t,i),le(i,{validation:"cidr",code:Z.invalid_string,message:a.message}),n.dirty()):a.kind==="base64"?Dz.test(t.data)||(i=this._getOrReturnCtx(t,i),le(i,{validation:"base64",code:Z.invalid_string,message:a.message}),n.dirty()):a.kind==="base64url"?Mz.test(t.data)||(i=this._getOrReturnCtx(t,i),le(i,{validation:"base64url",code:Z.invalid_string,message:a.message}),n.dirty()):rt.assertNever(a);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(i=>t.test(i),{validation:r,code:Z.invalid_string,...ye.errToObj(n)})}_addCheck(t){return new Ln({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...ye.errToObj(t)})}url(t){return this._addCheck({kind:"url",...ye.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...ye.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...ye.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...ye.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...ye.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...ye.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...ye.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...ye.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...ye.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...ye.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...ye.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...ye.errToObj(t)})}datetime(t){var r,n;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(r=t==null?void 0:t.offset)!==null&&r!==void 0?r:!1,local:(n=t==null?void 0:t.local)!==null&&n!==void 0?n:!1,...ye.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...ye.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...ye.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...ye.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...ye.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...ye.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...ye.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...ye.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...ye.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...ye.errToObj(r)})}nonempty(t){return this.min(1,ye.errToObj(t))}trim(){return new Ln({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ln({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ln({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Ln.create=e=>{var t;return new Ln({checks:[],typeName:Pe.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...We(e)})};function Lz(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,i=r>n?r:n,a=parseInt(e.toFixed(i).replace(".","")),o=parseInt(t.toFixed(i).replace(".",""));return a%o/Math.pow(10,i)}class Ii extends Ye{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==ue.number){const a=this._getOrReturnCtx(t);return le(a,{code:Z.invalid_type,expected:ue.number,received:a.parsedType}),_e}let n;const i=new xr;for(const a of this._def.checks)a.kind==="int"?rt.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),le(n,{code:Z.invalid_type,expected:"integer",received:"float",message:a.message}),i.dirty()):a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(n=this._getOrReturnCtx(t,n),le(n,{code:Z.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(n=this._getOrReturnCtx(t,n),le(n,{code:Z.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="multipleOf"?Lz(t.data,a.value)!==0&&(n=this._getOrReturnCtx(t,n),le(n,{code:Z.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):a.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),le(n,{code:Z.not_finite,message:a.message}),i.dirty()):rt.assertNever(a);return{status:i.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,ye.toString(r))}gt(t,r){return this.setLimit("min",t,!1,ye.toString(r))}lte(t,r){return this.setLimit("max",t,!0,ye.toString(r))}lt(t,r){return this.setLimit("max",t,!1,ye.toString(r))}setLimit(t,r,n,i){return new Ii({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:ye.toString(i)}]})}_addCheck(t){return new Ii({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:ye.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ye.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ye.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ye.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ye.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:ye.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:ye.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ye.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ye.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&rt.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}Ii.create=e=>new Ii({checks:[],typeName:Pe.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...We(e)});class Li extends Ye{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==ue.bigint)return this._getInvalidInput(t);let n;const i=new xr;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(n=this._getOrReturnCtx(t,n),le(n,{code:Z.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(n=this._getOrReturnCtx(t,n),le(n,{code:Z.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="multipleOf"?t.data%a.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),le(n,{code:Z.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):rt.assertNever(a);return{status:i.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return le(r,{code:Z.invalid_type,expected:ue.bigint,received:r.parsedType}),_e}gte(t,r){return this.setLimit("min",t,!0,ye.toString(r))}gt(t,r){return this.setLimit("min",t,!1,ye.toString(r))}lte(t,r){return this.setLimit("max",t,!0,ye.toString(r))}lt(t,r){return this.setLimit("max",t,!1,ye.toString(r))}setLimit(t,r,n,i){return new Li({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:ye.toString(i)}]})}_addCheck(t){return new Li({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ye.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ye.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ye.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ye.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:ye.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Li.create=e=>{var t;return new Li({checks:[],typeName:Pe.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...We(e)})};class ad extends Ye{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==ue.boolean){const n=this._getOrReturnCtx(t);return le(n,{code:Z.invalid_type,expected:ue.boolean,received:n.parsedType}),_e}return Dr(t.data)}}ad.create=e=>new ad({typeName:Pe.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...We(e)});class Ia extends Ye{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==ue.date){const a=this._getOrReturnCtx(t);return le(a,{code:Z.invalid_type,expected:ue.date,received:a.parsedType}),_e}if(isNaN(t.data.getTime())){const a=this._getOrReturnCtx(t);return le(a,{code:Z.invalid_date}),_e}const n=new xr;let i;for(const a of this._def.checks)a.kind==="min"?t.data.getTime()<a.value&&(i=this._getOrReturnCtx(t,i),le(i,{code:Z.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),n.dirty()):a.kind==="max"?t.data.getTime()>a.value&&(i=this._getOrReturnCtx(t,i),le(i,{code:Z.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),n.dirty()):rt.assertNever(a);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Ia({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:ye.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:ye.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}Ia.create=e=>new Ia({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Pe.ZodDate,...We(e)});class ih extends Ye{_parse(t){if(this._getType(t)!==ue.symbol){const n=this._getOrReturnCtx(t);return le(n,{code:Z.invalid_type,expected:ue.symbol,received:n.parsedType}),_e}return Dr(t.data)}}ih.create=e=>new ih({typeName:Pe.ZodSymbol,...We(e)});class od extends Ye{_parse(t){if(this._getType(t)!==ue.undefined){const n=this._getOrReturnCtx(t);return le(n,{code:Z.invalid_type,expected:ue.undefined,received:n.parsedType}),_e}return Dr(t.data)}}od.create=e=>new od({typeName:Pe.ZodUndefined,...We(e)});class ld extends Ye{_parse(t){if(this._getType(t)!==ue.null){const n=this._getOrReturnCtx(t);return le(n,{code:Z.invalid_type,expected:ue.null,received:n.parsedType}),_e}return Dr(t.data)}}ld.create=e=>new ld({typeName:Pe.ZodNull,...We(e)});class cl extends Ye{constructor(){super(...arguments),this._any=!0}_parse(t){return Dr(t.data)}}cl.create=e=>new cl({typeName:Pe.ZodAny,...We(e)});class ja extends Ye{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Dr(t.data)}}ja.create=e=>new ja({typeName:Pe.ZodUnknown,...We(e)});class Ws extends Ye{_parse(t){const r=this._getOrReturnCtx(t);return le(r,{code:Z.invalid_type,expected:ue.never,received:r.parsedType}),_e}}Ws.create=e=>new Ws({typeName:Pe.ZodNever,...We(e)});class ah extends Ye{_parse(t){if(this._getType(t)!==ue.undefined){const n=this._getOrReturnCtx(t);return le(n,{code:Z.invalid_type,expected:ue.void,received:n.parsedType}),_e}return Dr(t.data)}}ah.create=e=>new ah({typeName:Pe.ZodVoid,...We(e)});class zn extends Ye{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),i=this._def;if(r.parsedType!==ue.array)return le(r,{code:Z.invalid_type,expected:ue.array,received:r.parsedType}),_e;if(i.exactLength!==null){const o=r.data.length>i.exactLength.value,l=r.data.length<i.exactLength.value;(o||l)&&(le(r,{code:o?Z.too_big:Z.too_small,minimum:l?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(le(r,{code:Z.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(le(r,{code:Z.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>i.type._parseAsync(new ps(r,o,r.path,l)))).then(o=>xr.mergeArray(n,o));const a=[...r.data].map((o,l)=>i.type._parseSync(new ps(r,o,r.path,l)));return xr.mergeArray(n,a)}get element(){return this._def.type}min(t,r){return new zn({...this._def,minLength:{value:t,message:ye.toString(r)}})}max(t,r){return new zn({...this._def,maxLength:{value:t,message:ye.toString(r)}})}length(t,r){return new zn({...this._def,exactLength:{value:t,message:ye.toString(r)}})}nonempty(t){return this.min(1,t)}}zn.create=(e,t)=>new zn({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Pe.ZodArray,...We(t)});function Za(e){if(e instanceof Ct){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=ds.create(Za(n))}return new Ct({...e._def,shape:()=>t})}else return e instanceof zn?new zn({...e._def,type:Za(e.element)}):e instanceof ds?ds.create(Za(e.unwrap())):e instanceof $i?$i.create(Za(e.unwrap())):e instanceof gs?gs.create(e.items.map(t=>Za(t))):e}class Ct extends Ye{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=rt.objectKeys(t);return this._cached={shape:t,keys:r}}_parse(t){if(this._getType(t)!==ue.object){const d=this._getOrReturnCtx(t);return le(d,{code:Z.invalid_type,expected:ue.object,received:d.parsedType}),_e}const{status:n,ctx:i}=this._processInputParams(t),{shape:a,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Ws&&this._def.unknownKeys==="strip"))for(const d in i.data)o.includes(d)||l.push(d);const c=[];for(const d of o){const u=a[d],f=i.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new ps(i,f,i.path,d)),alwaysSet:d in i.data})}if(this._def.catchall instanceof Ws){const d=this._def.unknownKeys;if(d==="passthrough")for(const u of l)c.push({key:{status:"valid",value:u},value:{status:"valid",value:i.data[u]}});else if(d==="strict")l.length>0&&(le(i,{code:Z.unrecognized_keys,keys:l}),n.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const u of l){const f=i.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new ps(i,f,i.path,u)),alwaysSet:u in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const d=[];for(const u of c){const f=await u.key,h=await u.value;d.push({key:f,value:h,alwaysSet:u.alwaysSet})}return d}).then(d=>xr.mergeObjectSync(n,d)):xr.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return ye.errToObj,new Ct({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var i,a,o,l;const c=(o=(a=(i=this._def).errorMap)===null||a===void 0?void 0:a.call(i,r,n).message)!==null&&o!==void 0?o:n.defaultError;return r.code==="unrecognized_keys"?{message:(l=ye.errToObj(t).message)!==null&&l!==void 0?l:c}:{message:c}}}:{}})}strip(){return new Ct({...this._def,unknownKeys:"strip"})}passthrough(){return new Ct({...this._def,unknownKeys:"passthrough"})}extend(t){return new Ct({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Ct({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Pe.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new Ct({...this._def,catchall:t})}pick(t){const r={};return rt.objectKeys(t).forEach(n=>{t[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new Ct({...this._def,shape:()=>r})}omit(t){const r={};return rt.objectKeys(this.shape).forEach(n=>{t[n]||(r[n]=this.shape[n])}),new Ct({...this._def,shape:()=>r})}deepPartial(){return Za(this)}partial(t){const r={};return rt.objectKeys(this.shape).forEach(n=>{const i=this.shape[n];t&&!t[n]?r[n]=i:r[n]=i.optional()}),new Ct({...this._def,shape:()=>r})}required(t){const r={};return rt.objectKeys(this.shape).forEach(n=>{if(t&&!t[n])r[n]=this.shape[n];else{let a=this.shape[n];for(;a instanceof ds;)a=a._def.innerType;r[n]=a}}),new Ct({...this._def,shape:()=>r})}keyof(){return Q_(rt.objectKeys(this.shape))}}Ct.create=(e,t)=>new Ct({shape:()=>e,unknownKeys:"strip",catchall:Ws.create(),typeName:Pe.ZodObject,...We(t)});Ct.strictCreate=(e,t)=>new Ct({shape:()=>e,unknownKeys:"strict",catchall:Ws.create(),typeName:Pe.ZodObject,...We(t)});Ct.lazycreate=(e,t)=>new Ct({shape:e,unknownKeys:"strip",catchall:Ws.create(),typeName:Pe.ZodObject,...We(t)});class cd extends Ye{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function i(a){for(const l of a)if(l.result.status==="valid")return l.result;for(const l of a)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=a.map(l=>new an(l.ctx.common.issues));return le(r,{code:Z.invalid_union,unionErrors:o}),_e}if(r.common.async)return Promise.all(n.map(async a=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await a._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(i);{let a;const o=[];for(const c of n){const d={...r,common:{...r.common,issues:[]},parent:null},u=c._parseSync({data:r.data,path:r.path,parent:d});if(u.status==="valid")return u;u.status==="dirty"&&!a&&(a={result:u,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(a)return r.common.issues.push(...a.ctx.common.issues),a.result;const l=o.map(c=>new an(c));return le(r,{code:Z.invalid_union,unionErrors:l}),_e}}get options(){return this._def.options}}cd.create=(e,t)=>new cd({options:e,typeName:Pe.ZodUnion,...We(t)});const ks=e=>e instanceof fd?ks(e.schema):e instanceof qn?ks(e.innerType()):e instanceof hd?[e.value]:e instanceof Vi?e.options:e instanceof md?rt.objectValues(e.enum):e instanceof pd?ks(e._def.innerType):e instanceof od?[void 0]:e instanceof ld?[null]:e instanceof ds?[void 0,...ks(e.unwrap())]:e instanceof $i?[null,...ks(e.unwrap())]:e instanceof s0||e instanceof xd?ks(e.unwrap()):e instanceof gd?ks(e._def.innerType):[];class bm extends Ye{_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==ue.object)return le(r,{code:Z.invalid_type,expected:ue.object,received:r.parsedType}),_e;const n=this.discriminator,i=r.data[n],a=this.optionsMap.get(i);return a?r.common.async?a._parseAsync({data:r.data,path:r.path,parent:r}):a._parseSync({data:r.data,path:r.path,parent:r}):(le(r,{code:Z.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),_e)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,r,n){const i=new Map;for(const a of r){const o=ks(a.shape[t]);if(!o.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const l of o){if(i.has(l))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(l)}`);i.set(l,a)}}return new bm({typeName:Pe.ZodDiscriminatedUnion,discriminator:t,options:r,optionsMap:i,...We(n)})}}function Sx(e,t){const r=Ps(e),n=Ps(t);if(e===t)return{valid:!0,data:e};if(r===ue.object&&n===ue.object){const i=rt.objectKeys(t),a=rt.objectKeys(e).filter(l=>i.indexOf(l)!==-1),o={...e,...t};for(const l of a){const c=Sx(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===ue.array&&n===ue.array){if(e.length!==t.length)return{valid:!1};const i=[];for(let a=0;a<e.length;a++){const o=e[a],l=t[a],c=Sx(o,l);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return r===ue.date&&n===ue.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class dd extends Ye{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),i=(a,o)=>{if(Nx(a)||Nx(o))return _e;const l=Sx(a.value,o.value);return l.valid?((kx(a)||kx(o))&&r.dirty(),{status:r.value,value:l.data}):(le(n,{code:Z.invalid_intersection_types}),_e)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([a,o])=>i(a,o)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}dd.create=(e,t,r)=>new dd({left:e,right:t,typeName:Pe.ZodIntersection,...We(r)});class gs extends Ye{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ue.array)return le(n,{code:Z.invalid_type,expected:ue.array,received:n.parsedType}),_e;if(n.data.length<this._def.items.length)return le(n,{code:Z.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),_e;!this._def.rest&&n.data.length>this._def.items.length&&(le(n,{code:Z.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const a=[...n.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new ps(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(a).then(o=>xr.mergeArray(r,o)):xr.mergeArray(r,a)}get items(){return this._def.items}rest(t){return new gs({...this._def,rest:t})}}gs.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new gs({items:e,typeName:Pe.ZodTuple,rest:null,...We(t)})};class ud extends Ye{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ue.object)return le(n,{code:Z.invalid_type,expected:ue.object,received:n.parsedType}),_e;const i=[],a=this._def.keyType,o=this._def.valueType;for(const l in n.data)i.push({key:a._parse(new ps(n,l,n.path,l)),value:o._parse(new ps(n,n.data[l],n.path,l)),alwaysSet:l in n.data});return n.common.async?xr.mergeObjectAsync(r,i):xr.mergeObjectSync(r,i)}get element(){return this._def.valueType}static create(t,r,n){return r instanceof Ye?new ud({keyType:t,valueType:r,typeName:Pe.ZodRecord,...We(n)}):new ud({keyType:Ln.create(),valueType:t,typeName:Pe.ZodRecord,...We(r)})}}class oh extends Ye{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ue.map)return le(n,{code:Z.invalid_type,expected:ue.map,received:n.parsedType}),_e;const i=this._def.keyType,a=this._def.valueType,o=[...n.data.entries()].map(([l,c],d)=>({key:i._parse(new ps(n,l,n.path,[d,"key"])),value:a._parse(new ps(n,c,n.path,[d,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const d=await c.key,u=await c.value;if(d.status==="aborted"||u.status==="aborted")return _e;(d.status==="dirty"||u.status==="dirty")&&r.dirty(),l.set(d.value,u.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const d=c.key,u=c.value;if(d.status==="aborted"||u.status==="aborted")return _e;(d.status==="dirty"||u.status==="dirty")&&r.dirty(),l.set(d.value,u.value)}return{status:r.value,value:l}}}}oh.create=(e,t,r)=>new oh({valueType:t,keyType:e,typeName:Pe.ZodMap,...We(r)});class La extends Ye{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ue.set)return le(n,{code:Z.invalid_type,expected:ue.set,received:n.parsedType}),_e;const i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(le(n,{code:Z.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(le(n,{code:Z.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());const a=this._def.valueType;function o(c){const d=new Set;for(const u of c){if(u.status==="aborted")return _e;u.status==="dirty"&&r.dirty(),d.add(u.value)}return{status:r.value,value:d}}const l=[...n.data.values()].map((c,d)=>a._parse(new ps(n,c,n.path,d)));return n.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,r){return new La({...this._def,minSize:{value:t,message:ye.toString(r)}})}max(t,r){return new La({...this._def,maxSize:{value:t,message:ye.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}La.create=(e,t)=>new La({valueType:e,minSize:null,maxSize:null,typeName:Pe.ZodSet,...We(t)});class Mo extends Ye{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==ue.function)return le(r,{code:Z.invalid_type,expected:ue.function,received:r.parsedType}),_e;function n(l,c){return nh({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,rh(),ll].filter(d=>!!d),issueData:{code:Z.invalid_arguments,argumentsError:c}})}function i(l,c){return nh({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,rh(),ll].filter(d=>!!d),issueData:{code:Z.invalid_return_type,returnTypeError:c}})}const a={errorMap:r.common.contextualErrorMap},o=r.data;if(this._def.returns instanceof dl){const l=this;return Dr(async function(...c){const d=new an([]),u=await l._def.args.parseAsync(c,a).catch(p=>{throw d.addIssue(n(c,p)),d}),f=await Reflect.apply(o,this,u);return await l._def.returns._def.type.parseAsync(f,a).catch(p=>{throw d.addIssue(i(f,p)),d})})}else{const l=this;return Dr(function(...c){const d=l._def.args.safeParse(c,a);if(!d.success)throw new an([n(c,d.error)]);const u=Reflect.apply(o,this,d.data),f=l._def.returns.safeParse(u,a);if(!f.success)throw new an([i(u,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new Mo({...this._def,args:gs.create(t).rest(ja.create())})}returns(t){return new Mo({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,r,n){return new Mo({args:t||gs.create([]).rest(ja.create()),returns:r||ja.create(),typeName:Pe.ZodFunction,...We(n)})}}class fd extends Ye{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}fd.create=(e,t)=>new fd({getter:e,typeName:Pe.ZodLazy,...We(t)});class hd extends Ye{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return le(r,{received:r.data,code:Z.invalid_literal,expected:this._def.value}),_e}return{status:"valid",value:t.data}}get value(){return this._def.value}}hd.create=(e,t)=>new hd({value:e,typeName:Pe.ZodLiteral,...We(t)});function Q_(e,t){return new Vi({values:e,typeName:Pe.ZodEnum,...We(t)})}class Vi extends Ye{constructor(){super(...arguments),ic.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return le(r,{expected:rt.joinValues(n),received:r.parsedType,code:Z.invalid_type}),_e}if(sh(this,ic)||K_(this,ic,new Set(this._def.values)),!sh(this,ic).has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return le(r,{received:r.data,code:Z.invalid_enum_value,options:n}),_e}return Dr(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return Vi.create(t,{...this._def,...r})}exclude(t,r=this._def){return Vi.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}ic=new WeakMap;Vi.create=Q_;class md extends Ye{constructor(){super(...arguments),ac.set(this,void 0)}_parse(t){const r=rt.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==ue.string&&n.parsedType!==ue.number){const i=rt.objectValues(r);return le(n,{expected:rt.joinValues(i),received:n.parsedType,code:Z.invalid_type}),_e}if(sh(this,ac)||K_(this,ac,new Set(rt.getValidEnumValues(this._def.values))),!sh(this,ac).has(t.data)){const i=rt.objectValues(r);return le(n,{received:n.data,code:Z.invalid_enum_value,options:i}),_e}return Dr(t.data)}get enum(){return this._def.values}}ac=new WeakMap;md.create=(e,t)=>new md({values:e,typeName:Pe.ZodNativeEnum,...We(t)});class dl extends Ye{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==ue.promise&&r.common.async===!1)return le(r,{code:Z.invalid_type,expected:ue.promise,received:r.parsedType}),_e;const n=r.parsedType===ue.promise?r.data:Promise.resolve(r.data);return Dr(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}}dl.create=(e,t)=>new dl({type:e,typeName:Pe.ZodPromise,...We(t)});class qn extends Ye{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Pe.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),i=this._def.effect||null,a={addIssue:o=>{le(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),i.type==="preprocess"){const o=i.transform(n.data,a);if(n.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return _e;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?_e:c.status==="dirty"||r.value==="dirty"?fo(c.value):c});{if(r.value==="aborted")return _e;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?_e:l.status==="dirty"||r.value==="dirty"?fo(l.value):l}}if(i.type==="refinement"){const o=l=>{const c=i.refinement(l,a);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?_e:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?_e:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(i.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Fa(o))return o;const l=i.transform(o.value,a);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>Fa(o)?Promise.resolve(i.transform(o.value,a)).then(l=>({status:r.value,value:l})):o);rt.assertNever(i)}}qn.create=(e,t,r)=>new qn({schema:e,typeName:Pe.ZodEffects,effect:t,...We(r)});qn.createWithPreprocess=(e,t,r)=>new qn({schema:t,effect:{type:"preprocess",transform:e},typeName:Pe.ZodEffects,...We(r)});class ds extends Ye{_parse(t){return this._getType(t)===ue.undefined?Dr(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}ds.create=(e,t)=>new ds({innerType:e,typeName:Pe.ZodOptional,...We(t)});class $i extends Ye{_parse(t){return this._getType(t)===ue.null?Dr(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}$i.create=(e,t)=>new $i({innerType:e,typeName:Pe.ZodNullable,...We(t)});class pd extends Ye{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===ue.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}pd.create=(e,t)=>new pd({innerType:e,typeName:Pe.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...We(t)});class gd extends Ye{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return id(i)?i.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new an(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new an(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}gd.create=(e,t)=>new gd({innerType:e,typeName:Pe.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...We(t)});class lh extends Ye{_parse(t){if(this._getType(t)!==ue.nan){const n=this._getOrReturnCtx(t);return le(n,{code:Z.invalid_type,expected:ue.nan,received:n.parsedType}),_e}return{status:"valid",value:t.data}}}lh.create=e=>new lh({typeName:Pe.ZodNaN,...We(e)});const Vz=Symbol("zod_brand");class s0 extends Ye{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class Gd extends Ye{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?_e:a.status==="dirty"?(r.dirty(),fo(a.value)):this._def.out._parseAsync({data:a.value,path:n.path,parent:n})})();{const i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?_e:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(t,r){return new Gd({in:t,out:r,typeName:Pe.ZodPipeline})}}class xd extends Ye{_parse(t){const r=this._def.innerType._parse(t),n=i=>(Fa(i)&&(i.value=Object.freeze(i.value)),i);return id(r)?r.then(i=>n(i)):n(r)}unwrap(){return this._def.innerType}}xd.create=(e,t)=>new xd({innerType:e,typeName:Pe.ZodReadonly,...We(t)});function x1(e,t){const r=typeof e=="function"?e(t):typeof e=="string"?{message:e}:e;return typeof r=="string"?{message:r}:r}function Z_(e,t={},r){return e?cl.create().superRefine((n,i)=>{var a,o;const l=e(n);if(l instanceof Promise)return l.then(c=>{var d,u;if(!c){const f=x1(t,n),h=(u=(d=f.fatal)!==null&&d!==void 0?d:r)!==null&&u!==void 0?u:!0;i.addIssue({code:"custom",...f,fatal:h})}});if(!l){const c=x1(t,n),d=(o=(a=c.fatal)!==null&&a!==void 0?a:r)!==null&&o!==void 0?o:!0;i.addIssue({code:"custom",...c,fatal:d})}}):cl.create()}const $z={object:Ct.lazycreate};var Pe;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Pe||(Pe={}));const zz=(e,t={message:`Input not instance of ${e.name}`})=>Z_(r=>r instanceof e,t),X_=Ln.create,J_=Ii.create,Bz=lh.create,Wz=Li.create,e4=ad.create,Uz=Ia.create,Hz=ih.create,Kz=od.create,Yz=ld.create,qz=cl.create,Gz=ja.create,Qz=Ws.create,Zz=ah.create,Xz=zn.create,Jz=Ct.create,eB=Ct.strictCreate,tB=cd.create,rB=bm.create,nB=dd.create,sB=gs.create,iB=ud.create,aB=oh.create,oB=La.create,lB=Mo.create,cB=fd.create,dB=hd.create,uB=Vi.create,fB=md.create,hB=dl.create,y1=qn.create,mB=ds.create,pB=$i.create,gB=qn.createWithPreprocess,xB=Gd.create,yB=()=>X_().optional(),vB=()=>J_().optional(),wB=()=>e4().optional(),bB={string:e=>Ln.create({...e,coerce:!0}),number:e=>Ii.create({...e,coerce:!0}),boolean:e=>ad.create({...e,coerce:!0}),bigint:e=>Li.create({...e,coerce:!0}),date:e=>Ia.create({...e,coerce:!0})},jB=_e;var Sc=Object.freeze({__proto__:null,defaultErrorMap:ll,setErrorMap:gz,getErrorMap:rh,makeIssue:nh,EMPTY_PATH:xz,addIssueToContext:le,ParseStatus:xr,INVALID:_e,DIRTY:fo,OK:Dr,isAborted:Nx,isDirty:kx,isValid:Fa,isAsync:id,get util(){return rt},get objectUtil(){return jx},ZodParsedType:ue,getParsedType:Ps,ZodType:Ye,datetimeRegex:G_,ZodString:Ln,ZodNumber:Ii,ZodBigInt:Li,ZodBoolean:ad,ZodDate:Ia,ZodSymbol:ih,ZodUndefined:od,ZodNull:ld,ZodAny:cl,ZodUnknown:ja,ZodNever:Ws,ZodVoid:ah,ZodArray:zn,ZodObject:Ct,ZodUnion:cd,ZodDiscriminatedUnion:bm,ZodIntersection:dd,ZodTuple:gs,ZodRecord:ud,ZodMap:oh,ZodSet:La,ZodFunction:Mo,ZodLazy:fd,ZodLiteral:hd,ZodEnum:Vi,ZodNativeEnum:md,ZodPromise:dl,ZodEffects:qn,ZodTransformer:qn,ZodOptional:ds,ZodNullable:$i,ZodDefault:pd,ZodCatch:gd,ZodNaN:lh,BRAND:Vz,ZodBranded:s0,ZodPipeline:Gd,ZodReadonly:xd,custom:Z_,Schema:Ye,ZodSchema:Ye,late:$z,get ZodFirstPartyTypeKind(){return Pe},coerce:bB,any:qz,array:Xz,bigint:Wz,boolean:e4,date:Uz,discriminatedUnion:rB,effect:y1,enum:uB,function:lB,instanceof:zz,intersection:nB,lazy:cB,literal:dB,map:aB,nan:Bz,nativeEnum:fB,never:Qz,null:Yz,nullable:pB,number:J_,object:Jz,oboolean:wB,onumber:vB,optional:mB,ostring:yB,pipeline:xB,preprocess:gB,promise:hB,record:iB,set:oB,strictObject:eB,string:X_,symbol:Hz,transformer:y1,tuple:sB,undefined:Kz,union:tB,unknown:Gz,void:Zz,NEVER:jB,ZodIssueCode:Z,quotelessJson:pz,ZodError:an});const NB=Sc.object({budgetLimit:Sc.number().min(1,"Budget limit must be at least $1"),warningThreshold:Sc.number().min(.1).max(1)});function kB({tripId:e,isOpen:t,onClose:r}){const{toast:n}=vt(),i=fn(),{user:a}=vr(),[o,l]=m.useState(!1),c=k_({resolver:U_(NB),defaultValues:{budgetLimit:100,warningThreshold:.8}}),{data:d,isLoading:u}=kt({queryKey:[`/api/trips/${e}/spending-margin`,a==null?void 0:a.id],enabled:t&&!!a});m.useEffect(()=>{d?(l(!0),c.reset({budgetLimit:d.budgetLimit,warningThreshold:d.warningThreshold})):(l(!1),c.reset({budgetLimit:100,warningThreshold:.8}))},[d,c]);const f=Ae({mutationFn:async x=>{const y=`/api/trips/${e}/spending-margin`;return(await je(o?"PATCH":"POST",y,x)).json()},onSuccess:()=>{i.invalidateQueries({queryKey:[`/api/trips/${e}/spending-margin`,a==null?void 0:a.id]}),n({title:o?"Budget Updated":"Budget Set",description:o?"Your spending limit has been updated successfully.":"Your personal spending limit has been set successfully."}),r()},onError:()=>{n({title:"Error",description:"There was an error saving your spending limit. Please try again.",variant:"destructive"})}}),h=Ae({mutationFn:async()=>(await je("DELETE",`/api/trips/${e}/spending-margin`)).json(),onSuccess:()=>{i.invalidateQueries({queryKey:[`/api/trips/${e}/spending-margin`]}),n({title:"Budget Removed",description:"Your spending limit has been removed successfully."}),r()},onError:()=>{n({title:"Error",description:"There was an error removing your spending limit. Please try again.",variant:"destructive"})}}),p=x=>{f.mutate(x)},v=()=>{window.confirm("Are you sure you want to remove your spending limit?")&&h.mutate()},g=c.watch("warningThreshold"),b=c.watch("budgetLimit");return s.jsx(xt,{open:t,onOpenChange:r,children:s.jsxs(ut,{className:"sm:max-w-md",children:[s.jsxs(ft,{children:[s.jsxs(ht,{className:"flex items-center gap-2",children:[s.jsx(Bt,{className:"h-5 w-5 text-green-600"}),o?"Update Spending Limit":"Set Spending Limit"]}),s.jsx(qt,{children:"Set a personal spending limit for this trip. You'll receive notifications when you approach or exceed your budget."})]}),u?s.jsx("div",{className:"py-6 text-center text-sm text-gray-500",children:"Loading current settings..."}):s.jsx(S_,{...c,children:s.jsxs("form",{onSubmit:c.handleSubmit(p),className:"space-y-6",children:[s.jsx(yx,{control:c.control,name:"budgetLimit",render:({field:x})=>s.jsxs(Xf,{children:[s.jsx(Jf,{children:"Budget Limit ($)"}),s.jsx(eh,{children:s.jsx(me,{type:"number",placeholder:"Enter amount",...x,onChange:y=>x.onChange(parseFloat(y.target.value)||0)})}),s.jsx(th,{})]})}),s.jsx(yx,{control:c.control,name:"warningThreshold",render:({field:x})=>s.jsxs(Xf,{children:[s.jsxs(Jf,{children:["Warning Threshold (",Math.round(g*100),"%)"]}),s.jsx(eh,{children:s.jsxs("div",{className:"px-3",children:[s.jsx(B_,{value:[x.value],onValueChange:y=>x.onChange(y[0]),max:1,min:.1,step:.05,className:"py-4"}),s.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[s.jsx("span",{children:"10%"}),s.jsx("span",{children:"100%"})]})]})}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-amber-600 bg-amber-50 dark:bg-amber-900/20 p-2 rounded-md",children:[s.jsx(FO,{className:"h-4 w-4"}),s.jsxs("span",{children:["You'll get notified when you spend $",Math.round(b*g)," or more"]})]}),s.jsx(th,{})]})}),s.jsxs($t,{className:"flex justify-between",children:[s.jsx("div",{children:o&&s.jsx(F,{type:"button",variant:"outline",onClick:v,disabled:h.isPending,className:"text-red-600 border-red-200 hover:bg-red-50",children:h.isPending?"Removing...":"Remove Limit"})}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(F,{type:"button",variant:"outline",onClick:r,children:"Cancel"}),s.jsx(F,{type:"submit",disabled:f.isPending,children:f.isPending?o?"Updating...":"Setting...":o?"Update":"Set Limit"})]})]})]})})]})})}const SB=({tripId:e,tripMembers:t,isOpen:r,onClose:n,currentUserId:i})=>{const[a,o]=m.useState(""),{toast:l}=vt(),c=fn(),d=t.filter(p=>p.user&&p.userId!==i),u=Ae({mutationFn:async p=>(await je("DELETE",`/api/trips/${e}/members/${p}`)).json(),onSuccess:()=>{l({title:"Member Removed",description:"The member has been successfully removed from the trip."}),c.invalidateQueries({queryKey:["/api/trips",e,"members"]}),n(),o("")},onError:p=>{l({title:"Error",description:p.message||"Failed to remove member. Please try again.",variant:"destructive"})}}),f=()=>{a&&u.mutate(parseInt(a))},h=()=>{n(),o("")};return s.jsx(xt,{open:r,onOpenChange:h,children:s.jsxs(ut,{className:"sm:max-w-md",children:[s.jsx(ft,{children:s.jsxs(ht,{className:"flex items-center gap-2",children:[s.jsx(Yc,{className:"h-5 w-5 text-destructive"}),"Remove Member"]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a member to remove from this trip. This action cannot be undone."}),d.length===0?s.jsx("div",{className:"text-center py-6",children:s.jsx("p",{className:"text-sm text-muted-foreground",children:"No members to remove. You are the only member of this trip."})}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Select Member"}),s.jsxs(tn,{value:a,onValueChange:o,children:[s.jsx($r,{children:s.jsx(rn,{placeholder:"Choose a member to remove"})}),s.jsx(zr,{children:d.map(p=>{var v,g,b,x;return s.jsx(we,{value:p.userId.toString(),children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(gr,{src:((v=p.user)==null?void 0:v.avatar)??void 0,fallback:((g=p.user)==null?void 0:g.displayName)??void 0,size:"sm",className:"w-5 h-5"}),s.jsx("span",{children:((b=p.user)==null?void 0:b.displayName)||`User ${p.userId}`}),((x=p.user)==null?void 0:x.email)&&s.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",p.user.email,")"]})]})},p.userId)})})]})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[s.jsx(F,{variant:"outline",onClick:h,children:"Cancel"}),s.jsx(F,{variant:"destructive",onClick:f,disabled:!a||u.isPending,children:u.isPending?s.jsxs(s.Fragment,{children:[s.jsx(Pr,{className:"h-4 w-4 mr-2 animate-spin"}),"Removing..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Yc,{className:"h-4 w-4 mr-2"}),"Remove Member"]})})]})]})]})]})})};function CB({trip:e,isOpen:t,onClose:r}){const[n,i]=m.useState(""),[a,o]=m.useState(""),[l,c]=m.useState(e.inviteCode),[d,u]=m.useState(e.inviteCodeExpiresAt),{toast:f}=vt(),h=fn(),p=[{value:"5",label:"5 minutes",minutes:5},{value:"30",label:"30 minutes",minutes:30},{value:"60",label:"1 hour",minutes:60},{value:"180",label:"3 hours",minutes:180},{value:"720",label:"12 hours",minutes:720},{value:"1440",label:"24 hours",minutes:1440},{value:"custom",label:"Custom duration",minutes:0},{value:"never",label:"Never expires",minutes:0}],v=Ae({mutationFn:async j=>{const N=await fetch(`/api/trips/${e.id}/regenerate-invite`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({expirationMinutes:j})});if(!N.ok)throw new Error("Failed to regenerate invite code");return N.json()},onSuccess:j=>{c(j.newInviteCode),u(j.expiresAt),f({title:"New Invite Code Generated",description:j.expiresAt?`Code expires on ${new Date(j.expiresAt).toLocaleString()}`:"Code never expires"}),h.invalidateQueries({queryKey:[`/api/trips/${e.id}`]})},onError:j=>{f({title:"Error",description:"Failed to generate invite code",variant:"destructive"})}}),g=()=>{navigator.clipboard.writeText(l),f({title:"Copied!",description:"Invite code copied to clipboard"})},b=()=>{let j=null;if(n==="never")j=null;else if(n==="custom"){const N=parseInt(a);if(isNaN(N)||N<=0){f({title:"Invalid Duration",description:"Please enter a valid number of minutes",variant:"destructive"});return}j=N}else{const N=p.find(P=>P.value===n);j=N?N.minutes:null}v.mutate(j)},x=`Join me on "${e.name}" trip! Use invite code: ${l}`,y=async()=>{if(navigator.share)try{await navigator.share({title:`Join ${e.name}`,text:x})}catch{g()}else g()},w=d&&new Date(d)<new Date;return s.jsx(xt,{open:t,onOpenChange:r,children:s.jsxs(ut,{className:"sm:max-w-md",children:[s.jsxs(ft,{children:[s.jsx(ht,{children:"Share Trip"}),s.jsx(qt,{children:"Share this trip with others using an invite code. You can set a custom expiration time."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(G,{className:"text-sm font-medium",children:"Current Invite Code"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("code",{className:"flex-1 px-3 py-2 bg-muted rounded text-sm font-mono",children:l}),s.jsx(F,{variant:"outline",size:"sm",onClick:g,children:s.jsx(sC,{className:"h-4 w-4"})})]}),d&&s.jsxs("p",{className:`text-xs ${w?"text-destructive":"text-muted-foreground"}`,children:[w?"Expired":"Expires"," on ",new Date(d).toLocaleString()]}),!d&&s.jsx("p",{className:"text-xs text-muted-foreground",children:"Never expires"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(G,{children:"Generate New Code with Expiration"}),s.jsxs(tn,{value:n,onValueChange:i,children:[s.jsx($r,{children:s.jsx(rn,{placeholder:"Select expiration time"})}),s.jsx(zr,{children:p.map(j=>s.jsx(we,{value:j.value,children:j.label},j.value))})]}),n==="custom"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(G,{children:"Custom Duration (minutes)"}),s.jsx(me,{type:"number",placeholder:"Enter minutes",value:a,onChange:j=>o(j.target.value),min:"1"})]}),n&&s.jsxs(F,{onClick:b,disabled:v.isPending,className:"w-full",children:[s.jsx(Xg,{className:"h-4 w-4 mr-2"}),v.isPending?"Generating...":"Generate New Code"]})]})]}),s.jsxs($t,{className:"flex-col sm:flex-row gap-2",children:[s.jsxs(F,{onClick:y,className:"w-full sm:w-auto",children:[s.jsx(Rf,{className:"h-4 w-4 mr-2"}),"Share Code"]}),s.jsx(F,{variant:"outline",onClick:r,className:"w-full sm:w-auto",children:"Close"})]})]})})}function PB({isOpen:e,onClose:t,tripId:r,currentUserId:n,tripOwnerId:i}){const{toast:a}=vt(),o=fn(),[l,c]=m.useState(null),{data:d=[],isLoading:u}=kt({queryKey:[`/api/trips/${r}/members`],enabled:e}),f=Ae({mutationFn:async({userId:x,isAdmin:y})=>{const w=await fetch(`/api/trips/${r}/members/${x}/admin`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({isAdmin:y}),credentials:"include"});if(!w.ok){const j=await w.json();throw new Error(j.message||"Failed to update admin status")}return w.json()},onMutate:({userId:x})=>{c(x)},onSuccess:(x,{userId:y,isAdmin:w})=>{a({title:"Success",description:`Member ${w?"promoted to admin":"removed from admin role"}`}),o.invalidateQueries({queryKey:[`/api/trips/${r}/members`]}),o.invalidateQueries({queryKey:[`/api/trips/${r}/admins`]})},onError:x=>{a({title:"Error",description:x.message||"Failed to update admin status",variant:"destructive"})},onSettled:()=>{c(null)}}),h=x=>{if(x.user){if(x.userId===i){a({title:"Cannot change owner status",description:"Trip owner automatically has admin privileges",variant:"destructive"});return}f.mutate({userId:x.userId,isAdmin:!x.isAdmin})}},p=x=>x.userId===i?s.jsx(iC,{className:"h-4 w-4 text-yellow-500"}):x.isAdmin?s.jsx(Of,{className:"h-4 w-4 text-blue-500"}):s.jsx(en,{className:"h-4 w-4 text-gray-500"}),v=x=>x.userId===i?"Owner":x.isAdmin?"Admin":"Member",g=x=>x.userId===i?"default":x.isAdmin?"secondary":"outline",b=x=>n===i&&x.userId!==i;return u?s.jsx(xt,{open:e,onOpenChange:t,children:s.jsxs(ut,{className:"sm:max-w-md",children:[s.jsx(ft,{children:s.jsx(ht,{children:"Manage Admins"})}),s.jsx("div",{className:"flex justify-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})]})}):s.jsx(xt,{open:e,onOpenChange:t,children:s.jsxs(ut,{className:"sm:max-w-md",children:[s.jsx(ft,{children:s.jsx(ht,{children:"Manage Admins"})}),s.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:d.map(x=>{var y,w,j,N;return s.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(gr,{src:((y=x.user)==null?void 0:y.avatar)||void 0,fallback:((j=(w=x.user)==null?void 0:w.displayName)==null?void 0:j.charAt(0))||"?",size:"md"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:(N=x.user)==null?void 0:N.displayName}),s.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[p(x),s.jsx(He,{variant:g(x),children:v(x)})]})]})]}),b(x)&&s.jsx(F,{variant:x.isAdmin?"destructive":"default",size:"sm",onClick:()=>h(x),disabled:l===x.userId,children:l===x.userId?s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-current"}):x.isAdmin?"Remove Admin":"Make Admin"})]},x.id)})}),s.jsx("div",{className:"flex justify-end pt-4",children:s.jsx(F,{variant:"outline",onClick:t,children:"Done"})})]})})}function TB({open:e,onOpenChange:t,members:r,tripOwnerId:n}){return s.jsx(xt,{open:e,onOpenChange:t,children:s.jsxs(ut,{className:"sm:max-w-md",children:[s.jsx(ft,{children:s.jsx(ht,{children:"Trip Members"})}),s.jsxs("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:[r==null?void 0:r.map(i=>s.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-lg border bg-card/50",children:[s.jsx(gr,{src:i.user.avatar||void 0,fallback:i.user.displayName,size:"md",className:"h-10 w-10"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("p",{className:"text-sm font-medium text-foreground truncate",children:i.user.displayName}),i.userId===n&&s.jsxs(He,{variant:"secondary",className:"text-xs",children:[s.jsx(iC,{className:"h-3 w-3 mr-1"}),"Owner"]}),i.isAdmin&&i.userId!==n&&s.jsxs(He,{variant:"outline",className:"text-xs",children:[s.jsx(Of,{className:"h-3 w-3 mr-1"}),"Admin"]})]}),s.jsxs("p",{className:"text-xs text-muted-foreground truncate",children:["@",i.user.username]}),i.user.email&&s.jsx("p",{className:"text-xs text-muted-foreground truncate",children:i.user.email})]})]},i.id)),(!r||r.length===0)&&s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-muted-foreground",children:"No members found"})})]})]})})}const EB=()=>{const[e,t]=TR("/trips/:id"),[r,n]=Qt(),{user:i}=vr(),[a,o]=m.useState("itinerary"),{toast:l}=vt(),[c,d]=m.useState(!1),[u,f]=m.useState(!1),[h,p]=m.useState(!1),[v,g]=m.useState(!1),[b,x]=m.useState(!1),[y,w]=m.useState(!1),[j,N]=m.useState(!1),[P,S]=m.useState(!1),E=fn();if(!e||!(t!=null&&t.id))return n("/"),null;const R=parseInt(t.id);m.useEffect(()=>{if(!(!R||!(i!=null&&i.id)))return Je.registerConnection(),Je.send("auth",{userId:i.id}),Je.send("join_trip",{tripId:R}),console.log(`Joined WebSocket notification channel for trip ${R}`),()=>{Je.deregisterConnection()}},[R,i==null?void 0:i.id]);const{data:A,isLoading:W,error:V}=kt({queryKey:[`/api/trips/${R}`],enabled:!!R}),{data:O}=kt({queryKey:["/api/trips",R,"members"],queryFn:async()=>(await je("GET",`/api/trips/${R}/members`)).json(),enabled:!!R&&!!i}),B=Ae({mutationFn:async()=>(await je("DELETE",`/api/trips/${R}`)).json(),onSuccess:()=>{l({title:"Trip Deleted",description:"The trip has been successfully deleted."}),E.invalidateQueries({queryKey:["/api/trips"]}),n("/")},onError:()=>{l({title:"Error",description:"Failed to delete trip. Please try again.",variant:"destructive"})}}),Y=Ae({mutationFn:async()=>(await je("POST",`/api/trips/${R}/hide`)).json(),onSuccess:()=>{l({title:"Trip Hidden",description:"This trip has been hidden from your dashboard."}),E.invalidateQueries({queryKey:["/api/trips"]}),E.invalidateQueries({queryKey:["/api/trips/hidden"]}),n("/")},onError:()=>{l({title:"Error",description:"Failed to hide trip. Please try again.",variant:"destructive"})}}),H=Ae({mutationFn:async()=>(await je("POST",`/api/trips/${R}/leave`)).json(),onSuccess:()=>{l({title:"Left Trip",description:"You have successfully left the trip."}),E.invalidateQueries({queryKey:["/api/trips"]}),n("/")},onError:te=>{l({title:"Error",description:te.message||"Failed to leave trip. Please try again.",variant:"destructive"})}}),_=Ae({mutationFn:async()=>(await je("POST",`/api/trips/${R}/restore`)).json(),onSuccess:()=>{l({title:"Trip Restored",description:"Trip has been restored to active status."}),E.invalidateQueries({queryKey:["/api/trips"]}),E.invalidateQueries({queryKey:[`/api/trips/${R}`]})},onError:te=>{l({title:"Error",description:te.message||"Failed to restore trip. Please try again.",variant:"destructive"})}}),C=te=>{o(te)},T=()=>{w(!0)},$=()=>{Y.mutate()},U=()=>{H.mutate()},fe=()=>{_.mutate()},Te=A&&i&&A.createdById===i.id,$e=O==null?void 0:O.find(te=>te.userId===(i==null?void 0:i.id)),pt=($e==null?void 0:$e.isAdmin)||!1,ze=Te||pt;return W?s.jsx("div",{className:"flex-1 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),s.jsx("p",{className:"mt-2 text-muted-foreground",children:"Loading trip details..."})]})}):V||!A||!A.name?s.jsx("div",{className:"flex-1 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Trip not found"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"The trip you're looking for doesn't exist or you don't have access to it."}),s.jsx(F,{onClick:()=>n("/"),children:"Go back to trips"})]})}):s.jsxs("div",{className:"flex-1 flex flex-col h-full",children:[s.jsxs("div",{className:"bg-card shadow-sm border-b border-border px-4 py-3 flex-shrink-0",children:[s.jsx("div",{className:"md:hidden",children:s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("h1",{className:"text-lg font-bold truncate flex-1",style:{color:"var(--foreground)"},children:[(A==null?void 0:A.name)||"Loading...",(A==null?void 0:A.isPast)&&ze&&s.jsx("span",{className:"ml-2 text-xs bg-secondary/10 text-secondary px-1.5 py-0.5 rounded-full",children:"Past"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Re,{children:s.jsxs(Ie,{children:[s.jsx(Le,{asChild:!0,children:s.jsx("button",{className:"p-1.5 rounded-md bg-primary/10 text-primary hover:bg-primary/20 transition-colors",onClick:T,children:s.jsx(Rf,{className:"h-4 w-4"})})}),s.jsx(Oe,{children:s.jsx("p",{children:"Share trip invite code"})})]})}),s.jsxs(Jc,{children:[s.jsx(ed,{asChild:!0,children:s.jsx("button",{className:"p-1.5 rounded-md bg-muted text-muted-foreground hover:bg-accent transition-colors",children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("circle",{cx:"12",cy:"12",r:"1"}),s.jsx("circle",{cx:"12",cy:"5",r:"1"}),s.jsx("circle",{cx:"12",cy:"19",r:"1"})]})})}),s.jsxs(rl,{align:"end",className:"w-48",children:[s.jsxs(dt,{className:"cursor-pointer flex items-center text-primary",onClick:()=>p(!0),children:[s.jsx(Yt,{className:"h-4 w-4 mr-2"}),s.jsx("span",{children:"View Trip Details"})]}),s.jsxs(dt,{className:"cursor-pointer flex items-center text-secondary",onClick:()=>g(!0),children:[s.jsx(Bt,{className:"h-4 w-4 mr-2"}),s.jsx("span",{children:"Set Budget"})]}),s.jsxs(dt,{className:"cursor-pointer flex items-center text-blue-600 dark:text-blue-400",onClick:()=>S(!0),children:[s.jsx(Xt,{className:"h-4 w-4 mr-2"}),s.jsx("span",{children:"View Members"})]}),(A==null?void 0:A.isPast)&&ze&&s.jsxs(dt,{className:"cursor-pointer flex items-center text-green-600 dark:text-green-400",onClick:fe,children:[s.jsx(Yt,{className:"h-4 w-4 mr-2"}),s.jsx("span",{children:"Restore to Active"})]}),ze?s.jsxs(s.Fragment,{children:[s.jsxs(dt,{className:"cursor-pointer flex items-center text-blue-600 dark:text-blue-400",onClick:()=>f(!0),children:[s.jsx(ca,{className:"h-4 w-4 mr-2"}),s.jsx("span",{children:"Edit Trip"})]}),s.jsxs(dt,{className:"cursor-pointer flex items-center text-orange-600 dark:text-orange-400",onClick:$,children:[s.jsx(la,{className:"h-4 w-4 mr-2"}),s.jsx("span",{children:"Hide Trip"})]}),s.jsxs(dt,{className:"cursor-pointer flex items-center text-blue-600 dark:text-blue-400",onClick:()=>x(!0),children:[s.jsx(Yc,{className:"h-4 w-4 mr-2"}),s.jsx("span",{children:"Remove Member"})]}),s.jsxs(dt,{className:"cursor-pointer flex items-center text-purple-600 dark:text-purple-400",onClick:()=>N(!0),children:[s.jsx(Of,{className:"h-4 w-4 mr-2"}),s.jsx("span",{children:"Select Admin"})]}),s.jsxs(dt,{className:"cursor-pointer flex items-center text-destructive",onClick:()=>d(!0),children:[s.jsx(Tr,{className:"h-4 w-4 mr-2"}),s.jsx("span",{children:"Delete Trip"})]})]}):s.jsxs(s.Fragment,{children:[s.jsxs(dt,{className:"cursor-pointer flex items-center text-orange-600 dark:text-orange-400",onClick:$,children:[s.jsx(la,{className:"h-4 w-4 mr-2"}),s.jsx("span",{children:"Hide Trip"})]}),s.jsxs(dt,{className:"cursor-pointer flex items-center text-destructive",onClick:U,children:[s.jsx(Tr,{className:"h-4 w-4 mr-2"}),s.jsx("span",{children:"Leave Trip"})]})]})]})]})]})]})}),s.jsx("div",{className:"hidden md:block",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center space-x-4",children:s.jsxs("h1",{className:"text-xl font-bold",style:{color:"var(--foreground)"},children:[(A==null?void 0:A.name)||"Loading...",(A==null?void 0:A.isPast)&&ze&&s.jsx("span",{className:"ml-2 text-sm bg-secondary/10 text-secondary px-2 py-1 rounded-full",children:"Past"})]})}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Re,{children:s.jsxs(Ie,{children:[s.jsx(Le,{asChild:!0,children:s.jsx("button",{className:"p-2 rounded-md bg-primary/10 text-primary hover:bg-primary/20 transition-colors",onClick:T,children:s.jsx(Rf,{className:"h-4 w-4"})})}),s.jsx(Oe,{children:s.jsx("p",{children:"Share trip invite code"})})]})}),s.jsxs(Jc,{children:[s.jsx(ed,{asChild:!0,children:s.jsx("button",{className:"p-2 rounded-md bg-muted text-muted-foreground hover:bg-accent transition-colors",children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("circle",{cx:"12",cy:"12",r:"1"}),s.jsx("circle",{cx:"12",cy:"5",r:"1"}),s.jsx("circle",{cx:"12",cy:"19",r:"1"})]})})}),s.jsxs(rl,{align:"end",className:"w-48",children:[s.jsxs(dt,{className:"cursor-pointer flex items-center text-primary",onClick:()=>p(!0),children:[s.jsx(Yt,{className:"h-4 w-4 mr-2"}),s.jsx("span",{children:"View Trip Details"})]}),s.jsxs(dt,{className:"cursor-pointer flex items-center text-secondary",onClick:()=>g(!0),children:[s.jsxs(dt,{className:"cursor-pointer flex items-center text-blue-600 dark:text-blue-400",onClick:()=>S(!0),children:[s.jsx(Xt,{className:"h-4 w-4 mr-2"}),s.jsx("span",{children:"View Members"})]}),s.jsx(Bt,{className:"h-4 w-4 mr-2"}),s.jsx("span",{children:"Set Budget"})]}),(A==null?void 0:A.isPast)&&ze&&s.jsxs(dt,{className:"cursor-pointer flex items-center text-green-600 dark:text-green-400",onClick:fe,children:[s.jsx(Yt,{className:"h-4 w-4 mr-2"}),s.jsx("span",{children:"Restore to Active"})]}),ze?s.jsxs(s.Fragment,{children:[s.jsxs(dt,{className:"cursor-pointer flex items-center text-blue-600 dark:text-blue-400",onClick:()=>f(!0),children:[s.jsx(ca,{className:"h-4 w-4 mr-2"}),s.jsx("span",{children:"Edit Trip"})]}),s.jsxs(dt,{className:"cursor-pointer flex items-center text-orange-600 dark:text-orange-400",onClick:$,children:[s.jsx(la,{className:"h-4 w-4 mr-2"}),s.jsx("span",{children:"Hide Trip"})]}),s.jsxs(dt,{className:"cursor-pointer flex items-center text-blue-600 dark:text-blue-400",onClick:()=>x(!0),children:[s.jsx(Yc,{className:"h-4 w-4 mr-2"}),s.jsx("span",{children:"Remove Member"})]}),s.jsxs(dt,{className:"cursor-pointer flex items-center text-purple-600 dark:text-purple-400",onClick:()=>N(!0),children:[s.jsx(Of,{className:"h-4 w-4 mr-2"}),s.jsx("span",{children:"Select Admin"})]}),s.jsxs(dt,{className:"cursor-pointer flex items-center text-destructive",onClick:()=>d(!0),children:[s.jsx(Tr,{className:"h-4 w-4 mr-2"}),s.jsx("span",{children:"Delete Trip"})]})]}):s.jsxs(s.Fragment,{children:[s.jsxs(dt,{className:"cursor-pointer flex items-center text-orange-600 dark:text-orange-400",onClick:$,children:[s.jsx(la,{className:"h-4 w-4 mr-2"}),s.jsx("span",{children:"Hide Trip"})]}),s.jsxs(dt,{className:"cursor-pointer flex items-center text-destructive",onClick:U,children:[s.jsx(Tr,{className:"h-4 w-4 mr-2"}),s.jsx("span",{children:"Leave Trip"})]})]})]})]})]})]})})]}),s.jsx("div",{className:"md:hidden bg-card border-b border-border overflow-x-auto scrollbar-hide flex-shrink-0",children:s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("button",{className:`py-2 px-3 text-xs font-medium flex flex-col items-center relative flex-1 ${a==="itinerary"?"text-primary border-b-2 border-primary":"text-muted-foreground hover:text-foreground"}`,onClick:()=>C("itinerary"),children:[s.jsx(Yt,{className:"h-4 w-4 mb-1"}),s.jsx("span",{children:"Itinerary"})]}),s.jsxs("button",{className:`py-2 px-3 text-xs font-medium flex flex-col items-center relative flex-1 ${a==="expenses"?"text-primary border-b-2 border-primary":"text-muted-foreground hover:text-foreground"}`,onClick:()=>C("expenses"),children:[s.jsx(Bt,{className:"h-4 w-4 mb-1"}),s.jsx("span",{children:"Money"})]}),s.jsxs("button",{className:`py-2 px-3 text-xs font-medium flex flex-col items-center relative flex-1 ${a==="packing"?"text-primary border-b-2 border-primary":"text-muted-foreground hover:text-foreground"}`,onClick:()=>C("packing"),children:[s.jsx(vc,{className:"h-4 w-4 mb-1"}),s.jsx("span",{children:"Packing"})]}),s.jsxs("button",{className:`py-2 px-3 text-xs font-medium flex flex-col items-center relative flex-1 ${a==="chat"?"text-primary border-b-2 border-primary":"text-muted-foreground hover:text-foreground"}`,onClick:()=>C("chat"),children:[s.jsx(Ci,{className:"h-4 w-4 mb-1"}),s.jsx("span",{children:"Chat"})]})]})}),s.jsx("div",{className:"hidden md:block border-b border-border flex-shrink-0",children:s.jsxs("div",{className:"flex space-x-6 px-4",children:[s.jsx("button",{className:`py-3 text-sm font-medium border-b-2 transition-colors ${a==="itinerary"?"border-primary text-primary":"border-transparent text-muted-foreground hover:text-foreground"}`,onClick:()=>C("itinerary"),children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Yt,{className:"h-4 w-4 mr-2"}),"Itinerary"]})}),s.jsx("button",{className:`py-3 text-sm font-medium border-b-2 transition-colors ${a==="expenses"?"border-primary text-primary":"border-transparent text-muted-foreground hover:text-foreground"}`,onClick:()=>C("expenses"),children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Bt,{className:"h-4 w-4 mr-2"}),"Expenses"]})}),s.jsx("button",{className:`py-3 text-sm font-medium border-b-2 transition-colors ${a==="packing"?"border-primary text-primary":"border-transparent text-muted-foreground hover:text-foreground"}`,onClick:()=>C("packing"),children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(vc,{className:"h-4 w-4 mr-2"}),"Packing List"]})}),s.jsx("button",{className:`py-3 text-sm font-medium border-b-2 transition-colors ${a==="chat"?"border-primary text-primary":"border-transparent text-muted-foreground hover:text-foreground"}`,onClick:()=>C("chat"),children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ci,{className:"h-4 w-4 mr-2"}),"Chat"]})})]})}),s.jsx("div",{className:"flex-1 overflow-y-auto h-full pb-20 min-h-0",children:s.jsxs("div",{className:"h-full overflow-y-auto",children:[a==="itinerary"&&s.jsx(X6,{tripId:R}),a==="expenses"&&s.jsx($8,{tripId:R,currentUserId:(i==null?void 0:i.id)||0}),a==="packing"&&s.jsx(K8,{tripId:R}),a==="chat"&&s.jsx(K$,{tripId:R})]})}),(A==null?void 0:A.name)&&s.jsx(Pv,{open:c,onOpenChange:d,children:s.jsxs(rm,{children:[s.jsxs(nm,{children:[s.jsx(im,{children:"Delete Trip"}),s.jsxs(am,{children:['Are you sure you want to delete "',A.name,'"? This action cannot be undone and will remove all trip data including expenses, grocery lists, and chat messages.']})]}),s.jsxs(sm,{children:[s.jsx(lm,{children:"Cancel"}),s.jsx(om,{onClick:()=>B.mutate(),disabled:B.isPending,children:B.isPending?"Deleting...":"Delete Trip"})]})]})}),(A==null?void 0:A.name)&&s.jsx(S7,{isOpen:u,onClose:()=>f(!1),trip:A}),(A==null?void 0:A.name)&&s.jsx(C7,{trip:A,open:h,onOpenChange:p}),s.jsx(kB,{tripId:R,isOpen:v,onClose:()=>g(!1)}),s.jsx(SB,{tripId:R,tripMembers:O||[],isOpen:b,onClose:()=>x(!1),currentUserId:i==null?void 0:i.id}),A&&s.jsx(CB,{trip:{id:A.id,name:A.name,inviteCode:A.inviteCode,inviteCodeExpiresAt:A.inviteCodeExpiresAt?A.inviteCodeExpiresAt.toString():null},isOpen:y,onClose:()=>w(!1)}),A&&i&&s.jsx(PB,{isOpen:j,onClose:()=>N(!1),tripId:R,currentUserId:i.id,tripOwnerId:A.createdById}),A&&O&&s.jsx(TB,{open:P,onOpenChange:S,members:O,tripOwnerId:A.createdById})]})};function _B(){const e=$y(),t=parseInt(e.id),{toast:r}=vt(),{user:n}=vr(),[i,a]=m.useState("timeline"),[o,l]=m.useState(!1),[c,d]=m.useState(!1),[u,f]=m.useState(!1);m.useState(!1);const[h,p]=m.useState(!1),[v,g]=m.useState(null),[b,x]=m.useState(null),[y,w]=m.useState(""),[j,N]=m.useState(""),[P,S]=m.useState({title:"",description:"",startTime:"",endTime:"",location:"",category:"sightseeing",estimatedCost:0,notes:""}),[E,R]=m.useState({title:"",description:"",location:"",category:"sightseeing",estimatedCost:0,notes:""}),{data:A}=kt({queryKey:["/api/trips",t],enabled:!!t}),{data:W=[],isLoading:V}=kt({queryKey:["/api/trips",t,"itinerary","days"],enabled:!!t}),{data:O=[],isLoading:B}=kt({queryKey:["/api/trips",t,"itinerary"],enabled:!!t}),Y=O.reduce((I,ae)=>(I[ae.dayId]||(I[ae.dayId]=[]),I[ae.dayId].push(ae),I),{}),H=Ae({mutationFn:async I=>je(`/api/trips/${t}/itinerary/days`,"POST",I),onSuccess:()=>{et.invalidateQueries({queryKey:["/api/trips",t,"itinerary","days"]}),l(!1),w(""),N(""),r({title:"Day created successfully!"})},onError:()=>{r({title:"Failed to create day",variant:"destructive"})}}),_=Ae({mutationFn:async I=>je(`/api/itinerary/days/${v}/activities`,"POST",I),onSuccess:()=>{et.invalidateQueries({queryKey:["/api/trips",t,"itinerary"]}),d(!1),S({title:"",description:"",startTime:"",endTime:"",location:"",category:"sightseeing",estimatedCost:0,notes:""}),r({title:"Activity added successfully!"})},onError:()=>{r({title:"Failed to create activity",variant:"destructive"})}}),{data:C=[],mutate:T,isPending:$}=Ae({mutationFn:async()=>je(`/api/trips/${t}/itinerary/suggest-activities`,"POST",{})}),U=Ae({mutationFn:async I=>je(`/api/itinerary/activities/${I.activityId}/vote`,"POST",{vote:I.vote}),onSuccess:()=>{et.invalidateQueries({queryKey:["/api/trips",t,"itinerary"]}),et.invalidateQueries({queryKey:["/api/itinerary/activities","votes"]}),r({title:"Vote recorded!"})},onError:()=>{r({title:"Failed to vote",variant:"destructive"})}}),{data:fe={}}=kt({queryKey:["/api/itinerary/activities","votes",t],queryFn:async()=>{const I={};if(Y)for(const ae of Object.values(Y))for(const pe of ae){const z=await je(`/api/itinerary/activities/${pe.id}/votes`,"GET");I[pe.id]=z||[]}return I},enabled:!!t&&!!Y}),Te=Ae({mutationFn:async I=>je(`/api/itinerary/activities/${I.activityId}`,"PATCH",I.updates),onSuccess:()=>{et.invalidateQueries({queryKey:["/api/trips",t,"itinerary"]}),f(!1),x(null),r({title:"Activity updated successfully!"})},onError:()=>{r({title:"Failed to update activity",variant:"destructive"})}}),$e=Ae({mutationFn:async I=>je(`/api/itinerary/activities/${I}`,"DELETE"),onSuccess:()=>{et.invalidateQueries({queryKey:["/api/trips",t,"itinerary"]}),r({title:"Activity deleted successfully!"})},onError:()=>{r({title:"Failed to delete activity",variant:"destructive"})}}),pt=()=>{!y||!j||H.mutate({title:y,date:j})},ze=()=>{!P.title||!v||_.mutate(P)},te=I=>{if(!v)return;const ae={morning:{start:"09:00",end:"12:00"},afternoon:{start:"14:00",end:"17:00"},evening:{start:"18:00",end:"21:00"},night:{start:"21:00",end:"23:00"}},pe=ae[I.bestTimeOfDay]||ae.morning;_.mutate({title:I.title,description:I.description,startTime:pe.start,endTime:pe.end,location:I.location,category:I.category,estimatedCost:I.estimatedCost,notes:I.tips,isAiGenerated:!0})},K=I=>{x(I),f(!0)},ce=()=>{b&&Te.mutate({activityId:b.id,updates:{title:b.title,description:b.description,startTime:b.startTime,endTime:b.endTime,location:b.location,category:b.category,estimatedCost:b.estimatedCost,notes:b.notes}})},ve=I=>{confirm("Are you sure you want to delete this activity?")&&$e.mutate(I)},xe=I=>{switch(I){case"sightseeing":return"";case"dining":return"";case"culture":return"";case"adventure":return"";case"relaxation":return"";case"shopping":return"";case"nightlife":return"";case"transport":return"";default:return""}},Se=I=>{switch(I){case"easy":return"bg-green-100 text-green-800";case"moderate":return"bg-yellow-100 text-yellow-800";case"challenging":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return V||B?s.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading itinerary..."})]})}):s.jsxs("div",{className:"container mx-auto p-6 max-w-7xl",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Trip Itinerary"}),s.jsxs("p",{className:"text-muted-foreground mt-1",children:[A==null?void 0:A.name,"  ",A==null?void 0:A.location]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs(F,{onClick:()=>T(),variant:"outline",disabled:$,className:"flex items-center space-x-2",children:[s.jsx(Gu,{className:"h-4 w-4"}),s.jsx("span",{children:$?"Getting suggestions...":"AI Suggestions"})]}),s.jsxs(F,{onClick:()=>l(!0),className:"flex items-center space-x-2",children:[s.jsx(Vr,{className:"h-4 w-4"}),s.jsx("span",{children:"Add Day"})]})]})]}),s.jsxs(_v,{value:i,onValueChange:a,className:"w-full",children:[s.jsxs(cm,{className:"grid w-full grid-cols-3",children:[s.jsx(ss,{value:"timeline",children:"Timeline View"}),s.jsx(ss,{value:"collaboration",children:"Collaboration"}),s.jsx(ss,{value:"overview",children:"Overview"})]}),s.jsx(Do,{value:"timeline",className:"mt-6",children:s.jsx("div",{className:"space-y-6",children:W.length===0?s.jsx(Ce,{children:s.jsxs(Me,{className:"flex flex-col items-center justify-center py-16",children:[s.jsx(Yt,{className:"h-12 w-12 text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No itinerary days yet"}),s.jsx("p",{className:"text-muted-foreground text-center mb-4",children:"Start planning your trip by adding your first day"}),s.jsxs(F,{onClick:()=>l(!0),children:[s.jsx(Vr,{className:"h-4 w-4 mr-2"}),"Add Your First Day"]})]})}):W.map(I=>{var ae;return s.jsxs(Ce,{className:"overflow-hidden",children:[s.jsx(Ot,{className:"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-950 dark:to-indigo-950",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(Ft,{className:"text-xl",children:I.title}),s.jsxs(Kr,{className:"flex items-center mt-2",children:[s.jsx(Yt,{className:"h-4 w-4 mr-2"}),_r(Qb(I.date),"EEEE, MMMM do, yyyy")]})]}),s.jsxs(F,{onClick:()=>{g(I.id),d(!0)},size:"sm",variant:"outline",children:[s.jsx(Vr,{className:"h-4 w-4 mr-2"}),"Add Activity"]})]})}),s.jsx(Me,{className:"p-6",children:((ae=Y[I.id])==null?void 0:ae.length)>0?s.jsx("div",{className:"space-y-4",children:Y[I.id].sort((pe,z)=>pe.sortOrder-z.sortOrder).map(pe=>s.jsxs("div",{className:"flex items-start space-x-4 p-4 border rounded-lg",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"text-2xl",children:xe(pe.category)})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h4",{className:"font-semibold text-lg",children:pe.title}),s.jsxs("div",{className:"flex items-center space-x-2",children:[pe.isAiGenerated&&s.jsxs(He,{variant:"secondary",className:"flex items-center space-x-1",children:[s.jsx(Gu,{className:"h-3 w-3"}),s.jsx("span",{children:"AI"})]}),s.jsx(He,{variant:pe.isCompleted?"default":"outline",children:pe.isCompleted?"Completed":"Planned"})]})]}),s.jsx("p",{className:"text-muted-foreground mb-3",children:pe.description}),s.jsxs("div",{className:"flex items-center flex-wrap gap-4 text-sm text-muted-foreground",children:[pe.startTime&&pe.endTime&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ai,{className:"h-4 w-4 mr-1"}),s.jsxs("span",{children:[pe.startTime," - ",pe.endTime]})]}),pe.location&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(As,{className:"h-4 w-4 mr-1"}),s.jsx("span",{children:pe.location})]}),pe.estimatedCost>0&&s.jsxs("span",{className:"font-medium",children:["$",pe.estimatedCost]})]}),pe.notes&&s.jsx("div",{className:"mt-3 p-3 bg-muted rounded-md",children:s.jsx("p",{className:"text-sm",children:pe.notes})}),s.jsxs("div",{className:"flex items-center justify-between mt-4",children:[s.jsx(He,{variant:"outline",className:"capitalize",children:pe.category}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(F,{size:"sm",variant:"ghost",onClick:()=>K(pe),title:"Edit activity",children:s.jsx(cC,{className:"h-4 w-4"})}),s.jsx(F,{size:"sm",variant:"ghost",onClick:()=>ve(pe.id),title:"Delete activity",children:s.jsx(Tr,{className:"h-4 w-4"})}),s.jsx(Wd,{orientation:"vertical",className:"h-4"}),s.jsx("div",{className:"flex items-center space-x-1",children:(()=>{var tt;const z=fe[pe.id]||[],q=z.filter(k=>k.vote==="up").length,Fe=z.filter(k=>k.vote==="down").length,Ve=z.filter(k=>k.vote==="interested").length,Qe=(tt=z.find(k=>k.userId===(n==null?void 0:n.id)))==null?void 0:tt.vote;return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"flex items-center",children:s.jsxs(F,{size:"sm",variant:Qe==="up"?"default":"ghost",onClick:()=>U.mutate({activityId:pe.id,vote:"up"}),disabled:U.isPending,className:"px-2",children:[s.jsx(Af,{className:"h-4 w-4"}),q>0&&s.jsx("span",{className:"ml-1 text-xs",children:q})]})}),s.jsx("div",{className:"flex items-center",children:s.jsxs(F,{size:"sm",variant:Qe==="interested"?"default":"ghost",onClick:()=>U.mutate({activityId:pe.id,vote:"interested"}),disabled:U.isPending,className:"px-2",children:[s.jsx(wc,{className:"h-4 w-4"}),Ve>0&&s.jsx("span",{className:"ml-1 text-xs",children:Ve})]})}),s.jsx("div",{className:"flex items-center",children:s.jsxs(F,{size:"sm",variant:Qe==="down"?"default":"ghost",onClick:()=>U.mutate({activityId:pe.id,vote:"down"}),disabled:U.isPending,className:"px-2",children:[s.jsx(So,{className:"h-4 w-4"}),Fe>0&&s.jsx("span",{className:"ml-1 text-xs",children:Fe})]})})]})})()})]})]})]})]},pe.id))}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx("p",{className:"text-muted-foreground mb-4",children:"No activities planned for this day yet"}),s.jsxs(F,{onClick:()=>{g(I.id),d(!0)},variant:"outline",size:"sm",children:[s.jsx(Vr,{className:"h-4 w-4 mr-2"}),"Add First Activity"]})]})})]},I.id)})})}),s.jsx(Do,{value:"collaboration",className:"mt-6",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Collaborative Planning"}),s.jsx("p",{className:"text-muted-foreground",children:"Suggest activities and vote on ideas with your group"})]}),s.jsxs(F,{onClick:()=>p(!0),className:"flex items-center space-x-2",children:[s.jsx(Ci,{className:"h-4 w-4"}),s.jsx("span",{children:"Suggest Activity"})]})]}),s.jsxs(Ce,{children:[s.jsxs(Ot,{children:[s.jsxs(Ft,{className:"flex items-center space-x-2",children:[s.jsx(LO,{className:"h-5 w-5"}),s.jsx("span",{children:"Activity Voting Summary"})]}),s.jsx(Kr,{children:"See how your group feels about planned activities"})]}),s.jsx(Me,{children:s.jsx("div",{className:"space-y-4",children:O.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Xt,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No activities to vote on yet"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Add some activities to start collaborative voting!"})]}):O.map(I=>{var Qe;const ae=fe[I.id]||[],pe=ae.filter(tt=>tt.vote==="up").length,z=ae.filter(tt=>tt.vote==="down").length,q=ae.filter(tt=>tt.vote==="interested").length,Fe=ae.length,Ve=(Qe=ae.find(tt=>tt.userId===(n==null?void 0:n.id)))==null?void 0:Qe.vote;return s.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-medium",children:I.title}),s.jsx("p",{className:"text-sm text-muted-foreground",children:I.description}),s.jsxs("div",{className:"flex items-center space-x-4 mt-2",children:[s.jsxs(He,{variant:"outline",className:"text-xs",children:[xe(I.category)," ",I.category]}),I.location&&s.jsxs("span",{className:"text-xs text-muted-foreground flex items-center",children:[s.jsx(As,{className:"h-3 w-3 mr-1"}),I.location]})]})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsxs(F,{size:"sm",variant:Ve==="up"?"default":"ghost",onClick:()=>U.mutate({activityId:I.id,vote:"up"}),disabled:U.isPending,className:"px-2",children:[s.jsx(Af,{className:"h-4 w-4"}),pe>0&&s.jsx("span",{className:"ml-1 text-xs",children:pe})]}),s.jsxs(F,{size:"sm",variant:Ve==="interested"?"default":"ghost",onClick:()=>U.mutate({activityId:I.id,vote:"interested"}),disabled:U.isPending,className:"px-2",children:[s.jsx(wc,{className:"h-4 w-4"}),q>0&&s.jsx("span",{className:"ml-1 text-xs",children:q})]}),s.jsxs(F,{size:"sm",variant:Ve==="down"?"default":"ghost",onClick:()=>U.mutate({activityId:I.id,vote:"down"}),disabled:U.isPending,className:"px-2",children:[s.jsx(So,{className:"h-4 w-4"}),z>0&&s.jsx("span",{className:"ml-1 text-xs",children:z})]})]})]}),Fe>0&&s.jsxs("div",{className:"pt-2 border-t",children:[s.jsxs("div",{className:"text-xs text-muted-foreground mb-2",children:[Fe," group member",Fe!==1?"s":""," voted"]}),s.jsxs("div",{className:"flex space-x-4",children:[pe>0&&s.jsxs("div",{className:"flex items-center space-x-1 text-green-600",children:[s.jsx(mC,{className:"h-3 w-3"}),s.jsxs("span",{className:"text-xs",children:[pe," like",pe!==1?"s":""]})]}),q>0&&s.jsxs("div",{className:"flex items-center space-x-1 text-red-500",children:[s.jsx(wc,{className:"h-3 w-3"}),s.jsxs("span",{className:"text-xs",children:[q," interested"]})]}),z>0&&s.jsxs("div",{className:"flex items-center space-x-1 text-gray-500",children:[s.jsx(So,{className:"h-3 w-3"}),s.jsxs("span",{className:"text-xs",children:[z," dislike",z!==1?"s":""]})]})]})]})]},I.id)})})})]}),s.jsxs(Ce,{children:[s.jsxs(Ot,{children:[s.jsxs(Ft,{className:"flex items-center space-x-2",children:[s.jsx(Xt,{className:"h-5 w-5"}),s.jsx("span",{children:"Group Participation"})]}),s.jsx(Kr,{children:"See how active everyone is in planning"})]}),s.jsx(Me,{children:s.jsx("div",{className:"space-y-2",children:(()=>{const ae=Object.values(fe).flat().reduce((pe,z)=>(pe[z.userId]=(pe[z.userId]||0)+1,pe),{});return Object.keys(ae).length===0?s.jsx("div",{className:"text-center py-4",children:s.jsx("p",{className:"text-muted-foreground",children:"No voting activity yet"})}):Object.entries(ae).map(([pe,z])=>s.jsxs("div",{className:"flex items-center justify-between p-2 rounded-md bg-muted/50",children:[s.jsxs("span",{className:"text-sm",children:["User ",pe]}),s.jsxs(He,{variant:"secondary",children:[z," vote",z!==1?"s":""]})]},pe))})()})})]})]})}),s.jsx(Do,{value:"overview",className:"mt-6",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs(Ce,{children:[s.jsx(Ot,{children:s.jsx(Ft,{children:"Trip Summary"})}),s.jsxs(Me,{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Total Days"}),s.jsx("span",{className:"font-medium",children:W.length})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Total Activities"}),s.jsx("span",{className:"font-medium",children:O.length})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Estimated Cost"}),s.jsxs("span",{className:"font-medium",children:["$",O.reduce((I,ae)=>I+(ae.estimatedCost||0),0)]})]})]})]}),s.jsxs(Ce,{children:[s.jsx(Ot,{children:s.jsx(Ft,{children:"Activities by Category"})}),s.jsx(Me,{children:s.jsx("div",{className:"space-y-2",children:Object.entries(O.reduce((I,ae)=>(I[ae.category]=(I[ae.category]||0)+1,I),{})).map(([I,ae])=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{children:xe(I)}),s.jsx("span",{className:"capitalize",children:I})]}),s.jsx(He,{variant:"secondary",children:ae})]},I))})})]}),s.jsxs(Ce,{children:[s.jsx(Ot,{children:s.jsx(Ft,{children:"Planning Progress"})}),s.jsx(Me,{children:s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between mb-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Completed Activities"}),s.jsxs("span",{className:"text-sm font-medium",children:[O.filter(I=>I.isCompleted).length," / ",O.length]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-green-600 h-2 rounded-full transition-all duration-300",style:{width:`${O.length>0?O.filter(I=>I.isCompleted).length/O.length*100:0}%`}})})]})})})]})]})})]}),s.jsx(xt,{open:o,onOpenChange:l,children:s.jsxs(ut,{children:[s.jsxs(ft,{children:[s.jsx(ht,{children:"Add New Day"}),s.jsx(qt,{children:"Create a new day for your itinerary"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(G,{htmlFor:"dayDate",children:"Date"}),s.jsx(me,{id:"dayDate",type:"date",value:j,onChange:I=>N(I.target.value)})]}),s.jsxs("div",{children:[s.jsx(G,{htmlFor:"dayTitle",children:"Day Title"}),s.jsx(me,{id:"dayTitle",placeholder:"e.g., Exploring the City Center",value:y,onChange:I=>w(I.target.value)})]})]}),s.jsxs($t,{children:[s.jsx(F,{variant:"outline",onClick:()=>l(!1),children:"Cancel"}),s.jsx(F,{onClick:pt,disabled:H.isPending,children:H.isPending?"Creating...":"Create Day"})]})]})}),s.jsx(xt,{open:c,onOpenChange:d,children:s.jsxs(ut,{className:"max-w-2xl",children:[s.jsxs(ft,{children:[s.jsx(ht,{children:"Add New Activity"}),s.jsx(qt,{children:"Add a new activity to your itinerary"})]}),s.jsx(uo,{className:"max-h-[60vh] pr-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(G,{htmlFor:"activityTitle",children:"Activity Title"}),s.jsx(me,{id:"activityTitle",placeholder:"e.g., Visit Edinburgh Castle",value:P.title,onChange:I=>S({...P,title:I.target.value})})]}),s.jsxs("div",{children:[s.jsx(G,{htmlFor:"activityDescription",children:"Description"}),s.jsx(Xr,{id:"activityDescription",placeholder:"Describe what you'll do during this activity",value:P.description,onChange:I=>S({...P,description:I.target.value})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(G,{htmlFor:"startTime",children:"Start Time"}),s.jsx(me,{id:"startTime",type:"time",value:P.startTime,onChange:I=>S({...P,startTime:I.target.value})})]}),s.jsxs("div",{children:[s.jsx(G,{htmlFor:"endTime",children:"End Time"}),s.jsx(me,{id:"endTime",type:"time",value:P.endTime,onChange:I=>S({...P,endTime:I.target.value})})]})]}),s.jsxs("div",{children:[s.jsx(G,{htmlFor:"location",children:"Location"}),s.jsx(me,{id:"location",placeholder:"e.g., Edinburgh Castle, Castle Esplanade",value:P.location,onChange:I=>S({...P,location:I.target.value})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(G,{htmlFor:"category",children:"Category"}),s.jsxs(tn,{value:P.category,onValueChange:I=>S({...P,category:I}),children:[s.jsx($r,{children:s.jsx(rn,{})}),s.jsxs(zr,{children:[s.jsx(we,{value:"sightseeing",children:" Sightseeing"}),s.jsx(we,{value:"dining",children:" Dining"}),s.jsx(we,{value:"culture",children:" Culture"}),s.jsx(we,{value:"adventure",children:" Adventure"}),s.jsx(we,{value:"relaxation",children:" Relaxation"}),s.jsx(we,{value:"shopping",children:" Shopping"}),s.jsx(we,{value:"nightlife",children:" Nightlife"}),s.jsx(we,{value:"transport",children:" Transport"})]})]})]}),s.jsxs("div",{children:[s.jsx(G,{htmlFor:"cost",children:"Estimated Cost ($)"}),s.jsx(me,{id:"cost",type:"number",min:"0",value:P.estimatedCost,onChange:I=>S({...P,estimatedCost:parseFloat(I.target.value)||0})})]})]}),s.jsxs("div",{children:[s.jsx(G,{htmlFor:"notes",children:"Notes"}),s.jsx(Xr,{id:"notes",placeholder:"Any additional notes or tips",value:P.notes,onChange:I=>S({...P,notes:I.target.value})})]})]})}),s.jsxs($t,{children:[s.jsx(F,{variant:"outline",onClick:()=>d(!1),children:"Cancel"}),s.jsx(F,{onClick:ze,disabled:_.isPending,children:_.isPending?"Adding...":"Add Activity"})]})]})}),s.jsx(xt,{open:u,onOpenChange:f,children:s.jsxs(ut,{className:"max-w-2xl",children:[s.jsxs(ft,{children:[s.jsx(ht,{children:"Edit Activity"}),s.jsx(qt,{children:"Update the details of your activity"})]}),s.jsx(uo,{className:"max-h-[60vh] pr-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(G,{htmlFor:"editActivityTitle",children:"Activity Title"}),s.jsx(me,{id:"editActivityTitle",placeholder:"e.g., Visit Edinburgh Castle",value:(b==null?void 0:b.title)||"",onChange:I=>x(ae=>ae?{...ae,title:I.target.value}:null)})]}),s.jsxs("div",{children:[s.jsx(G,{htmlFor:"editActivityDescription",children:"Description"}),s.jsx(Xr,{id:"editActivityDescription",placeholder:"Describe what you'll do during this activity",value:(b==null?void 0:b.description)||"",onChange:I=>x(ae=>ae?{...ae,description:I.target.value}:null)})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(G,{htmlFor:"editStartTime",children:"Start Time"}),s.jsx(me,{id:"editStartTime",type:"time",value:(b==null?void 0:b.startTime)||"",onChange:I=>x(ae=>ae?{...ae,startTime:I.target.value}:null)})]}),s.jsxs("div",{children:[s.jsx(G,{htmlFor:"editEndTime",children:"End Time"}),s.jsx(me,{id:"editEndTime",type:"time",value:(b==null?void 0:b.endTime)||"",onChange:I=>x(ae=>ae?{...ae,endTime:I.target.value}:null)})]})]}),s.jsxs("div",{children:[s.jsx(G,{htmlFor:"editLocation",children:"Location"}),s.jsx(me,{id:"editLocation",placeholder:"e.g., Edinburgh Castle, Castle Esplanade",value:(b==null?void 0:b.location)||"",onChange:I=>x(ae=>ae?{...ae,location:I.target.value}:null)})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(G,{htmlFor:"editCategory",children:"Category"}),s.jsxs(tn,{value:(b==null?void 0:b.category)||"sightseeing",onValueChange:I=>x(ae=>ae?{...ae,category:I}:null),children:[s.jsx($r,{children:s.jsx(rn,{})}),s.jsxs(zr,{children:[s.jsx(we,{value:"sightseeing",children:" Sightseeing"}),s.jsx(we,{value:"dining",children:" Dining"}),s.jsx(we,{value:"culture",children:" Culture"}),s.jsx(we,{value:"adventure",children:" Adventure"}),s.jsx(we,{value:"relaxation",children:" Relaxation"}),s.jsx(we,{value:"shopping",children:" Shopping"}),s.jsx(we,{value:"nightlife",children:" Nightlife"}),s.jsx(we,{value:"transport",children:" Transport"})]})]})]}),s.jsxs("div",{children:[s.jsx(G,{htmlFor:"editCost",children:"Estimated Cost ($)"}),s.jsx(me,{id:"editCost",type:"number",min:"0",value:(b==null?void 0:b.estimatedCost)||0,onChange:I=>x(ae=>ae?{...ae,estimatedCost:parseFloat(I.target.value)||0}:null)})]})]}),s.jsxs("div",{children:[s.jsx(G,{htmlFor:"editNotes",children:"Notes"}),s.jsx(Xr,{id:"editNotes",placeholder:"Any additional notes or tips",value:(b==null?void 0:b.notes)||"",onChange:I=>x(ae=>ae?{...ae,notes:I.target.value}:null)})]})]})}),s.jsxs($t,{children:[s.jsx(F,{variant:"outline",onClick:()=>f(!1),children:"Cancel"}),s.jsx(F,{onClick:ce,disabled:Te.isPending,children:Te.isPending?"Saving...":"Save Changes"})]})]})}),s.jsx(xt,{open:Array.isArray(C)&&C.length>0,onOpenChange:()=>{},children:s.jsxs(ut,{className:"max-w-4xl max-h-[80vh]",children:[s.jsxs(ft,{children:[s.jsxs(ht,{className:"flex items-center space-x-2",children:[s.jsx(Gu,{className:"h-5 w-5"}),s.jsx("span",{children:"AI Activity Suggestions"})]}),s.jsx(qt,{children:"Here are some personalized activity suggestions for your trip"})]}),s.jsx(uo,{className:"max-h-[60vh] pr-6",children:s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:Array.isArray(C)&&C.map((I,ae)=>s.jsxs(Ce,{className:"cursor-pointer hover:shadow-md transition-shadow",children:[s.jsx(Ot,{children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsxs(Ft,{className:"text-lg flex items-center space-x-2",children:[s.jsx("span",{children:xe(I.category)}),s.jsx("span",{children:I.title})]}),s.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[s.jsx(He,{variant:"outline",className:"capitalize",children:I.category}),s.jsx(He,{className:Se(I.difficulty),children:I.difficulty}),s.jsx(He,{variant:"secondary",children:I.bestTimeOfDay})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"font-semibold text-lg",children:["$",I.estimatedCost]}),s.jsx("div",{className:"text-sm text-muted-foreground",children:I.estimatedDuration})]})]})}),s.jsxs(Me,{className:"space-y-4",children:[s.jsx("p",{className:"text-muted-foreground",children:I.description}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(As,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"text-sm",children:I.location})]}),s.jsx("div",{className:"p-3 bg-muted rounded-md",children:s.jsxs("p",{className:"text-sm",children:[" ",s.jsx("strong",{children:"Tip:"})," ",I.tips]})}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"text-sm text-muted-foreground",children:["Best for groups of ",I.groupSize]}),s.jsxs(tn,{onValueChange:pe=>{g(parseInt(pe)),te(I)},children:[s.jsx($r,{className:"w-[180px]",children:s.jsx(rn,{placeholder:"Add to day..."})}),s.jsx(zr,{children:W.map(pe=>s.jsxs(we,{value:pe.id.toString(),children:[_r(Qb(pe.date),"MMM dd")," - ",pe.title]},pe.id))})]})]})]})]},ae))})})]})}),s.jsx(xt,{open:h,onOpenChange:p,children:s.jsxs(ut,{className:"max-w-2xl",children:[s.jsxs(ft,{children:[s.jsx(ht,{children:"Suggest Activity"}),s.jsx(qt,{children:"Suggest an activity idea for your group to vote on"})]}),s.jsx(uo,{className:"max-h-[60vh] pr-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(G,{htmlFor:"suggestionTitle",children:"Activity Title"}),s.jsx(me,{id:"suggestionTitle",placeholder:"e.g., Visit Local Art Museum",value:E.title,onChange:I=>R({...E,title:I.target.value})})]}),s.jsxs("div",{children:[s.jsx(G,{htmlFor:"suggestionDescription",children:"Description"}),s.jsx(Xr,{id:"suggestionDescription",placeholder:"Describe what you'd like to do during this activity",value:E.description,onChange:I=>R({...E,description:I.target.value})})]}),s.jsxs("div",{children:[s.jsx(G,{htmlFor:"suggestionLocation",children:"Location"}),s.jsx(me,{id:"suggestionLocation",placeholder:"e.g., Downtown Art Museum, Main Street",value:E.location,onChange:I=>R({...E,location:I.target.value})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(G,{htmlFor:"suggestionCategory",children:"Category"}),s.jsxs(tn,{value:E.category,onValueChange:I=>R({...E,category:I}),children:[s.jsx($r,{children:s.jsx(rn,{})}),s.jsxs(zr,{children:[s.jsx(we,{value:"sightseeing",children:" Sightseeing"}),s.jsx(we,{value:"dining",children:" Dining"}),s.jsx(we,{value:"culture",children:" Culture"}),s.jsx(we,{value:"adventure",children:" Adventure"}),s.jsx(we,{value:"relaxation",children:" Relaxation"}),s.jsx(we,{value:"shopping",children:" Shopping"}),s.jsx(we,{value:"nightlife",children:" Nightlife"}),s.jsx(we,{value:"transport",children:" Transport"})]})]})]}),s.jsxs("div",{children:[s.jsx(G,{htmlFor:"suggestionCost",children:"Estimated Cost ($)"}),s.jsx(me,{id:"suggestionCost",type:"number",min:"0",value:E.estimatedCost,onChange:I=>R({...E,estimatedCost:parseFloat(I.target.value)||0})})]})]}),s.jsxs("div",{children:[s.jsx(G,{htmlFor:"suggestionNotes",children:"Additional Notes"}),s.jsx(Xr,{id:"suggestionNotes",placeholder:"Any additional details or reasons for this suggestion",value:E.notes,onChange:I=>R({...E,notes:I.target.value})})]})]})}),s.jsxs($t,{children:[s.jsx(F,{variant:"outline",onClick:()=>p(!1),children:"Cancel"}),s.jsx(F,{onClick:()=>{r({title:"Activity suggestion shared with your group!"}),R({title:"",description:"",location:"",category:"sightseeing",estimatedCost:0,notes:""}),p(!1)},children:"Share Suggestion"})]})]})})]})}function DB(){const{user:e}=vr(),[,t]=Qt(),{toast:r}=vt(),[n,i]=m.useState({name:"",location:"",description:"",startDate:new Date,endDate:new Date(Date.now()+7*24*60*60*1e3),createdById:e==null?void 0:e.id,tripType:""}),[a,o]=m.useState(!1),[l,c]=m.useState(!1),d=[{value:"beach",label:"Beach",icon:s.jsx(OO,{className:"h-4 w-4"}),color:"text-blue-500"},{value:"city",label:"City",icon:s.jsx(iO,{className:"h-4 w-4"}),color:"text-purple-500"},{value:"mountain",label:"Mountain",icon:s.jsx(NO,{className:"h-4 w-4"}),color:"text-emerald-500"},{value:"road",label:"Road Trip",icon:s.jsx(aO,{className:"h-4 w-4"}),color:"text-amber-500"},{value:"cruise",label:"Cruise",icon:s.jsx(TO,{className:"h-4 w-4"}),color:"text-cyan-500"}],u=Ae({mutationFn:async p=>{const v={...p,startDate:p.startDate?new Date(Date.UTC(p.startDate.getFullYear(),p.startDate.getMonth(),p.startDate.getDate(),12,0,0)).toISOString():null,endDate:p.endDate?new Date(Date.UTC(p.endDate.getFullYear(),p.endDate.getMonth(),p.endDate.getDate(),12,0,0)).toISOString():null};return console.log("Creating trip with data:",v),await(await je("POST","/api/trips",v)).json()},onSuccess:p=>{console.log("Trip created successfully:",p),et.invalidateQueries({queryKey:["/api/trips"]}),e!=null&&e.id&&et.invalidateQueries({queryKey:["/api/trips",e.id]}),r({title:"Trip created successfully!",description:`Your new trip "${p.name}" has been created.`}),t(`/trips/${p.id}`)},onError:p=>{console.error("Trip creation error:",p),r({title:"Failed to create trip",description:p.message||"Please check your input and try again",variant:"destructive"})}}),f=p=>{if(p.preventDefault(),!n.name.trim()){r({title:"Missing information",description:"Please provide a name for your trip.",variant:"destructive"});return}u.mutate(n)},h=()=>{if(!n.startDate||!n.endDate)return 0;const p=Math.abs(n.endDate.getTime()-n.startDate.getTime());return Math.ceil(p/(1e3*60*60*24))+1};return s.jsxs("div",{className:"container px-4 py-4 sm:py-8 mx-auto max-w-4xl overflow-y-auto pb-20",children:[s.jsxs("div",{className:"flex items-center mb-4 sm:mb-6 sticky top-0 z-10 bg-background dark:bg-background pt-1 pb-2",children:[s.jsx(F,{variant:"ghost",className:"mr-2 hover:bg-gray-100 dark:hover:bg-slate-800",onClick:()=>t("/"),"aria-label":"Go back to dashboard",children:s.jsx(Fh,{className:"h-5 w-5 text-gray-600 dark:text-white"})}),s.jsx("h1",{className:"text-lg sm:text-2xl font-bold text-gray-800",style:{color:"var(--foreground)"},children:"Create New Trip"})]}),s.jsxs(Ce,{className:"border-gray-200 dark:border-slate-700 shadow-md dark:bg-slate-800 overflow-visible",children:[s.jsx(Ot,{className:"pb-2 sm:pb-3 border-b border-gray-200 dark:border-slate-700 px-3 sm:px-6",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx(Ft,{className:"text-gray-800 text-lg sm:text-xl font-bold",style:{color:"var(--foreground)"},children:"Trip Details"}),s.jsx(Kr,{className:"text-gray-500 mt-1 text-sm sm:text-base",style:{color:"var(--foreground)"},children:"Create a new trip to start planning with your friends"})]}),s.jsx("div",{className:"flex items-center",children:s.jsx(He,{className:"bg-blue-500 hover:bg-blue-600 text-white shadow-sm text-xs sm:text-sm",children:"New"})})]})}),s.jsxs("form",{onSubmit:f,children:[s.jsxs(Me,{className:"space-y-4 sm:space-y-6 pt-4 sm:pt-6 px-3 sm:px-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsxs(G,{htmlFor:"name",className:"text-gray-900 font-medium",style:{color:"var(--foreground)"},children:["Trip Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Re,{children:s.jsxs(Ie,{children:[s.jsx(Le,{asChild:!0,children:s.jsx(F,{variant:"ghost",className:"h-6 w-6 p-0 ml-1.5",children:s.jsx(ba,{className:"h-4 w-4 text-gray-400 dark:text-gray-500"})})}),s.jsx(Oe,{className:"bg-white dark:bg-slate-800 text-gray-700 dark:text-gray-200 shadow-lg",children:s.jsx("p",{children:"Give your trip a memorable name"})})]})})]}),s.jsxs("div",{className:"relative",children:[s.jsx(me,{id:"name",placeholder:"Summer Beach Vacation",value:n.name,onChange:p=>i({...n,name:p.target.value}),required:!0,className:"pl-10 bg-white dark:bg-slate-900 border-gray-300 dark:border-slate-600 focus:ring-2 focus:ring-primary-400 dark:focus:ring-primary-500 text-gray-900 dark:text-gray-100 placeholder:text-gray-500 dark:placeholder:text-gray-400 text-base sm:text-sm"}),s.jsx("div",{className:"absolute left-3 top-2.5 text-gray-500 dark:text-gray-400",children:s.jsx("i",{className:"ri-map-pin-line"})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(G,{htmlFor:"tripType",className:"text-gray-900 font-medium",style:{color:"var(--foreground)"},children:"Trip Type"}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-2",children:d.map(p=>s.jsx(Re,{children:s.jsxs(Ie,{children:[s.jsx(Le,{asChild:!0,children:s.jsxs(F,{type:"button",variant:n.tripType===p.value?"default":"outline",className:`h-auto py-3 w-full flex flex-col items-center justify-center gap-2 shadow-sm ${n.tripType===p.value?"bg-blue-600 hover:bg-blue-700 text-white border-blue-700 dark:bg-blue-600 dark:hover:bg-blue-700 dark:border-blue-700":"bg-white dark:bg-slate-900 hover:bg-gray-50 dark:hover:bg-slate-800 border-gray-300 dark:border-slate-700"}`,onClick:()=>i({...n,tripType:p.value}),children:[s.jsx("div",{className:`text-xl ${n.tripType===p.value?"text-white":p.color}`,children:p.icon}),s.jsx("span",{className:`text-sm ${n.tripType===p.value?"text-white":"text-gray-700 dark:text-gray-300"}`,children:p.label})]})}),s.jsx(Oe,{className:"bg-white dark:bg-slate-800 text-gray-700 dark:text-gray-200 shadow-lg",children:s.jsxs("p",{children:[p.label," trip"]})})]})},p.value))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(G,{htmlFor:"location",className:"text-gray-900 font-medium",style:{color:"var(--foreground)"},children:"Location"}),s.jsx(Re,{children:s.jsxs(Ie,{children:[s.jsx(Le,{asChild:!0,children:s.jsx(F,{variant:"ghost",className:"h-6 w-6 p-0 ml-1.5",children:s.jsx(ba,{className:"h-4 w-4 text-gray-400 dark:text-gray-500"})})}),s.jsx(Oe,{className:"bg-white dark:bg-slate-800 text-gray-700 dark:text-gray-200 shadow-lg",children:s.jsx("p",{children:"Where are you going?"})})]})})]}),s.jsxs("div",{className:"relative",children:[s.jsx(me,{id:"location",placeholder:"Miami, FL",value:n.location,onChange:p=>i({...n,location:p.target.value}),className:"pl-10 bg-white dark:bg-slate-900 border-gray-300 dark:border-slate-600 focus:ring-2 focus:ring-primary-400 dark:focus:ring-primary-500 text-gray-900 dark:text-gray-100 placeholder:text-gray-500 dark:placeholder:text-gray-400 text-base sm:text-sm"}),s.jsx("div",{className:"absolute left-3 top-2.5 text-gray-500 dark:text-gray-400",children:s.jsx(As,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(G,{className:"text-gray-900 font-medium",style:{color:"var(--foreground)"},children:"Trip Dates"}),h()>0&&s.jsxs(He,{variant:"outline",className:"border-green-500 text-green-600 dark:border-green-400 dark:text-green-400",children:[h()," day",h()!==1?"s":""]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(G,{htmlFor:"startDate",className:"text-gray-800 text-sm",style:{color:"var(--foreground)"},children:"Start Date"}),s.jsx(fC,{className:"h-3.5 w-3.5 text-blue-500 ml-1.5"})]}),s.jsxs(al,{open:a,onOpenChange:o,children:[s.jsx(ol,{asChild:!0,children:s.jsxs(F,{variant:"outline",className:"w-full justify-start text-left font-normal bg-white dark:bg-slate-900 border-gray-300 dark:border-slate-600 hover:bg-gray-50 dark:hover:bg-slate-800 text-gray-700 dark:text-gray-300",children:[s.jsx(Yt,{className:"mr-2 h-4 w-4 text-gray-500 dark:text-gray-400"}),n.startDate?_r(n.startDate,"PPP"):s.jsx("span",{children:"Pick a date"})]})}),s.jsx(Oa,{className:"w-auto p-0 bg-white dark:bg-slate-800 border-gray-200 dark:border-slate-700 shadow-lg",align:"center",side:"bottom",sideOffset:8,children:s.jsx(sd,{mode:"single",selected:n.startDate,onSelect:p=>{p&&(i({...n,startDate:p}),o(!1))},initialFocus:!0,className:"border-t border-gray-200 dark:border-slate-700"})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(G,{htmlFor:"endDate",className:"text-gray-800 text-sm",style:{color:"var(--foreground)"},children:"End Date"}),s.jsx(PO,{className:"h-3.5 w-3.5 text-blue-500 ml-1.5"})]}),s.jsxs(al,{open:l,onOpenChange:c,children:[s.jsx(ol,{asChild:!0,children:s.jsxs(F,{variant:"outline",className:"w-full justify-start text-left font-normal bg-white dark:bg-slate-900 border-gray-300 dark:border-slate-600 hover:bg-gray-50 dark:hover:bg-slate-800 text-gray-700 dark:text-gray-300",children:[s.jsx(Yt,{className:"mr-2 h-4 w-4 text-gray-500 dark:text-gray-400"}),n.endDate?_r(n.endDate,"PPP"):s.jsx("span",{children:"Pick a date"})]})}),s.jsx(Oa,{className:"w-auto p-0 bg-white dark:bg-slate-800 border-gray-200 dark:border-slate-700 shadow-lg",align:"center",side:"bottom",sideOffset:8,children:s.jsx(sd,{mode:"single",selected:n.endDate,onSelect:p=>{p&&(i({...n,endDate:p}),c(!1))},initialFocus:!0,className:"border-t border-gray-200 dark:border-slate-700"})})]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(G,{htmlFor:"description",className:"text-gray-900 font-medium",style:{color:"var(--foreground)"},children:"Description"}),s.jsx(Re,{children:s.jsxs(Ie,{children:[s.jsx(Le,{asChild:!0,children:s.jsx(F,{variant:"ghost",className:"h-6 w-6 p-0 ml-1.5",children:s.jsx(ba,{className:"h-4 w-4 text-gray-400 dark:text-gray-500"})})}),s.jsx(Oe,{className:"bg-white dark:bg-slate-800 text-gray-700 dark:text-gray-200 shadow-lg",children:s.jsx("p",{children:"Add important details about your trip"})})]})})]}),s.jsx(Xr,{id:"description",placeholder:"Share some details about this trip...",value:n.description,onChange:p=>i({...n,description:p.target.value}),className:"min-h-[80px] sm:min-h-[100px] bg-white dark:bg-slate-900 border-gray-300 dark:border-slate-600 focus:ring-2 focus:ring-primary-400 dark:focus:ring-primary-500 text-gray-900 dark:text-gray-100 placeholder:text-gray-500 dark:placeholder:text-gray-400 text-base sm:text-sm"})]})]}),s.jsxs(Hn,{className:"flex justify-between border-t border-gray-200 dark:border-slate-700 pt-4 sm:pt-6 px-3 sm:px-6",children:[s.jsx(F,{variant:"outline",type:"button",onClick:()=>t("/"),className:"border-gray-300 dark:border-slate-600 text-gray-700 hover:bg-gray-50 dark:hover:bg-slate-800 dark:bg-slate-900 text-sm sm:text-base",style:{color:"var(--foreground)"},children:"Cancel"}),s.jsx(F,{type:"submit",className:"bg-blue-600 hover:bg-blue-700 dark:bg-blue-600 dark:hover:bg-blue-700 text-white px-4 sm:px-10 shadow-md text-sm sm:text-base",disabled:u.isPending,children:u.isPending?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"animate-spin mr-2",children:s.jsx("i",{className:"ri-loader-4-line"})}),"Creating..."]}):"Create Trip"})]})]})]})]})}function MB(e){if(typeof Proxy>"u")return e;const t=new Map,r=(...n)=>e(...n);return new Proxy(r,{get:(n,i)=>i==="create"?e:(t.has(i)||t.set(i,e(i)),t.get(i))})}function jm(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const Cx=e=>Array.isArray(e);function t4(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}function yd(e){return typeof e=="string"||Array.isArray(e)}function v1(e){const t=[{},{}];return e==null||e.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function i0(e,t,r,n){if(typeof t=="function"){const[i,a]=v1(n);t=t(r!==void 0?r:e.custom,i,a)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,a]=v1(n);t=t(r!==void 0?r:e.custom,i,a)}return t}function Nm(e,t,r){const n=e.getProps();return i0(n,t,r!==void 0?r:n.custom,e)}const a0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],o0=["initial",...a0],Qd=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ua=new Set(Qd),Rs=e=>e*1e3,Os=e=>e/1e3,AB={type:"spring",stiffness:500,damping:25,restSpeed:10},RB=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),OB={type:"keyframes",duration:.8},FB={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},IB=(e,{keyframes:t})=>t.length>2?OB:Ua.has(e)?e.startsWith("scale")?RB(t[1]):AB:FB;function l0(e,t){return e?e[t]||e.default||e:void 0}const LB={skipAnimations:!1,useManualTiming:!1},VB=e=>e!==null;function km(e,{repeat:t,repeatType:r="loop"},n){const i=e.filter(VB),a=t&&r!=="loop"&&t%2===1?0:i.length-1;return!a||n===void 0?i[a]:n}const mr=e=>e;let Px=mr;function $B(e){let t=new Set,r=new Set,n=!1,i=!1;const a=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(d){a.has(d)&&(c.schedule(d),e()),d(o)}const c={schedule:(d,u=!1,f=!1)=>{const p=f&&n?t:r;return u&&a.add(d),p.has(d)||p.add(d),d},cancel:d=>{r.delete(d),a.delete(d)},process:d=>{if(o=d,n){i=!0;return}n=!0,[t,r]=[r,t],r.clear(),t.forEach(l),n=!1,i&&(i=!1,c.process(d))}};return c}const Tu=["read","resolveKeyframes","update","preRender","render","postRender"],zB=40;function r4(e,t){let r=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>r=!0,o=Tu.reduce((x,y)=>(x[y]=$B(a),x),{}),{read:l,resolveKeyframes:c,update:d,preRender:u,render:f,postRender:h}=o,p=()=>{const x=performance.now();r=!1,i.delta=n?1e3/60:Math.max(Math.min(x-i.timestamp,zB),1),i.timestamp=x,i.isProcessing=!0,l.process(i),c.process(i),d.process(i),u.process(i),f.process(i),h.process(i),i.isProcessing=!1,r&&t&&(n=!1,e(p))},v=()=>{r=!0,n=!0,i.isProcessing||e(p)};return{schedule:Tu.reduce((x,y)=>{const w=o[y];return x[y]=(j,N=!1,P=!1)=>(r||v(),w.schedule(j,N,P)),x},{}),cancel:x=>{for(let y=0;y<Tu.length;y++)o[Tu[y]].cancel(x)},state:i,steps:o}}const{schedule:mt,cancel:zi,state:sr,steps:Ep}=r4(typeof requestAnimationFrame<"u"?requestAnimationFrame:mr,!0),n4=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,BB=1e-7,WB=12;function UB(e,t,r,n,i){let a,o,l=0;do o=t+(r-t)/2,a=n4(o,n,i)-e,a>0?r=o:t=o;while(Math.abs(a)>BB&&++l<WB);return o}function Zd(e,t,r,n){if(e===t&&r===n)return mr;const i=a=>UB(a,0,1,e,r);return a=>a===0||a===1?a:n4(i(a),t,n)}const s4=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,i4=e=>t=>1-e(1-t),a4=Zd(.33,1.53,.69,.99),c0=i4(a4),o4=s4(c0),l4=e=>(e*=2)<1?.5*c0(e):.5*(2-Math.pow(2,-10*(e-1))),d0=e=>1-Math.sin(Math.acos(e)),c4=i4(d0),d4=s4(d0),u4=e=>/^0[^.\s]+$/u.test(e);function HB(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||u4(e):!0}const f4=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),h4=e=>t=>typeof t=="string"&&t.startsWith(e),m4=h4("--"),KB=h4("var(--"),u0=e=>KB(e)?YB.test(e.split("/*")[0].trim()):!1,YB=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,qB=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function GB(e){const t=qB.exec(e);if(!t)return[,];const[,r,n,i]=t;return[`--${r??n}`,i]}function p4(e,t,r=1){const[n,i]=GB(e);if(!n)return;const a=window.getComputedStyle(t).getPropertyValue(n);if(a){const o=a.trim();return f4(o)?parseFloat(o):o}return u0(i)?p4(i,t,r+1):i}const Us=(e,t,r)=>r>t?t:r<e?e:r,Pl={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},vd={...Pl,transform:e=>Us(0,1,e)},Eu={...Pl,default:1},Xd=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),ei=Xd("deg"),us=Xd("%"),ke=Xd("px"),QB=Xd("vh"),ZB=Xd("vw"),w1={...us,parse:e=>us.parse(e)/100,transform:e=>us.transform(e*100)},XB=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),b1=e=>e===Pl||e===ke,j1=(e,t)=>parseFloat(e.split(", ")[t]),N1=(e,t)=>(r,{transform:n})=>{if(n==="none"||!n)return 0;const i=n.match(/^matrix3d\((.+)\)$/u);if(i)return j1(i[1],t);{const a=n.match(/^matrix\((.+)\)$/u);return a?j1(a[1],e):0}},JB=new Set(["x","y","z"]),eW=Qd.filter(e=>!JB.has(e));function tW(e){const t=[];return eW.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const ul={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:N1(4,13),y:N1(5,14)};ul.translateX=ul.x;ul.translateY=ul.y;const g4=e=>t=>t.test(e),rW={test:e=>e==="auto",parse:e=>e},x4=[Pl,ke,us,ei,ZB,QB,rW],k1=e=>x4.find(g4(e)),Na=new Set;let Tx=!1,Ex=!1;function y4(){if(Ex){const e=Array.from(Na).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const i=tW(n);i.length&&(r.set(n,i),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const i=r.get(n);i&&i.forEach(([a,o])=>{var l;(l=n.getValue(a))===null||l===void 0||l.set(o)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}Ex=!1,Tx=!1,Na.forEach(e=>e.complete()),Na.clear()}function v4(){Na.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Ex=!0)})}function nW(){v4(),y4()}class f0{constructor(t,r,n,i,a,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=i,this.element=a,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Na.add(this),Tx||(Tx=!0,mt.read(v4),mt.resolveKeyframes(y4))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:i}=this;for(let a=0;a<t.length;a++)if(t[a]===null)if(a===0){const o=i==null?void 0:i.get(),l=t[t.length-1];if(o!==void 0)t[0]=o;else if(n&&r){const c=n.readValue(r,l);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=l),i&&o===void 0&&i.set(t[0])}else t[a]=t[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Na.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Na.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Cc=e=>Math.round(e*1e5)/1e5,h0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function sW(e){return e==null}const iW=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,m0=(e,t)=>r=>!!(typeof r=="string"&&iW.test(r)&&r.startsWith(e)||t&&!sW(r)&&Object.prototype.hasOwnProperty.call(r,t)),w4=(e,t,r)=>n=>{if(typeof n!="string")return n;const[i,a,o,l]=n.match(h0);return{[e]:parseFloat(i),[t]:parseFloat(a),[r]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},aW=e=>Us(0,255,e),_p={...Pl,transform:e=>Math.round(aW(e))},ua={test:m0("rgb","red"),parse:w4("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+_p.transform(e)+", "+_p.transform(t)+", "+_p.transform(r)+", "+Cc(vd.transform(n))+")"};function oW(e){let t="",r="",n="",i="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),i=e.substring(4,5),t+=t,r+=r,n+=n,i+=i),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const _x={test:m0("#"),parse:oW,transform:ua.transform},ho={test:m0("hsl","hue"),parse:w4("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+us.transform(Cc(t))+", "+us.transform(Cc(r))+", "+Cc(vd.transform(n))+")"},ur={test:e=>ua.test(e)||_x.test(e)||ho.test(e),parse:e=>ua.test(e)?ua.parse(e):ho.test(e)?ho.parse(e):_x.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?ua.transform(e):ho.transform(e)},lW=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function cW(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(h0))===null||t===void 0?void 0:t.length)||0)+(((r=e.match(lW))===null||r===void 0?void 0:r.length)||0)>0}const b4="number",j4="color",dW="var",uW="var(",S1="${}",fW=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function wd(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},i=[];let a=0;const l=t.replace(fW,c=>(ur.test(c)?(n.color.push(a),i.push(j4),r.push(ur.parse(c))):c.startsWith(uW)?(n.var.push(a),i.push(dW),r.push(c)):(n.number.push(a),i.push(b4),r.push(parseFloat(c))),++a,S1)).split(S1);return{values:r,split:l,indexes:n,types:i}}function N4(e){return wd(e).values}function k4(e){const{split:t,types:r}=wd(e),n=t.length;return i=>{let a="";for(let o=0;o<n;o++)if(a+=t[o],i[o]!==void 0){const l=r[o];l===b4?a+=Cc(i[o]):l===j4?a+=ur.transform(i[o]):a+=i[o]}return a}}const hW=e=>typeof e=="number"?0:e;function mW(e){const t=N4(e);return k4(e)(t.map(hW))}const Bi={test:cW,parse:N4,createTransformer:k4,getAnimatableNone:mW},pW=new Set(["brightness","contrast","saturate","opacity"]);function gW(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(h0)||[];if(!n)return e;const i=r.replace(n,"");let a=pW.has(t)?1:0;return n!==r&&(a*=100),t+"("+a+i+")"}const xW=/\b([a-z-]*)\(.*?\)/gu,Dx={...Bi,getAnimatableNone:e=>{const t=e.match(xW);return t?t.map(gW).join(" "):e}},yW={borderWidth:ke,borderTopWidth:ke,borderRightWidth:ke,borderBottomWidth:ke,borderLeftWidth:ke,borderRadius:ke,radius:ke,borderTopLeftRadius:ke,borderTopRightRadius:ke,borderBottomRightRadius:ke,borderBottomLeftRadius:ke,width:ke,maxWidth:ke,height:ke,maxHeight:ke,top:ke,right:ke,bottom:ke,left:ke,padding:ke,paddingTop:ke,paddingRight:ke,paddingBottom:ke,paddingLeft:ke,margin:ke,marginTop:ke,marginRight:ke,marginBottom:ke,marginLeft:ke,backgroundPositionX:ke,backgroundPositionY:ke},vW={rotate:ei,rotateX:ei,rotateY:ei,rotateZ:ei,scale:Eu,scaleX:Eu,scaleY:Eu,scaleZ:Eu,skew:ei,skewX:ei,skewY:ei,distance:ke,translateX:ke,translateY:ke,translateZ:ke,x:ke,y:ke,z:ke,perspective:ke,transformPerspective:ke,opacity:vd,originX:w1,originY:w1,originZ:ke},C1={...Pl,transform:Math.round},p0={...yW,...vW,zIndex:C1,size:ke,fillOpacity:vd,strokeOpacity:vd,numOctaves:C1},wW={...p0,color:ur,backgroundColor:ur,outlineColor:ur,fill:ur,stroke:ur,borderColor:ur,borderTopColor:ur,borderRightColor:ur,borderBottomColor:ur,borderLeftColor:ur,filter:Dx,WebkitFilter:Dx},g0=e=>wW[e];function S4(e,t){let r=g0(e);return r!==Dx&&(r=Bi),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const bW=new Set(["auto","none","0"]);function jW(e,t,r){let n=0,i;for(;n<e.length&&!i;){const a=e[n];typeof a=="string"&&!bW.has(a)&&wd(a).values.length&&(i=e[n]),n++}if(i&&r)for(const a of t)e[a]=S4(r,i)}class C4 extends f0{constructor(t,r,n,i,a){super(t,r,n,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let d=t[c];if(typeof d=="string"&&(d=d.trim(),u0(d))){const u=p4(d,r.current);u!==void 0&&(t[c]=u),c===t.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!XB.has(n)||t.length!==2)return;const[i,a]=t,o=k1(i),l=k1(a);if(o!==l)if(b1(o)&&b1(l))for(let c=0;c<t.length;c++){const d=t[c];typeof d=="string"&&(t[c]=parseFloat(d))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let i=0;i<t.length;i++)HB(t[i])&&n.push(i);n.length&&jW(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ul[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const i=r[r.length-1];i!==void 0&&t.getValue(n,i).jump(i,!1)}measureEndState(){var t;const{element:r,name:n,unresolvedKeyframes:i}=this;if(!r||!r.current)return;const a=r.getValue(n);a&&a.jump(this.measuredOrigin,!1);const o=i.length-1,l=i[o];i[o]=ul[n](r.measureViewportBox(),window.getComputedStyle(r.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([c,d])=>{r.getValue(c).set(d)}),this.resolveNoneKeyframes()}}function x0(e){return typeof e=="function"}let rf;function NW(){rf=void 0}const fs={now:()=>(rf===void 0&&fs.set(sr.isProcessing||LB.useManualTiming?sr.timestamp:performance.now()),rf),set:e=>{rf=e,queueMicrotask(NW)}},P1=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Bi.test(e)||e==="0")&&!e.startsWith("url("));function kW(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function SW(e,t,r,n){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const a=e[e.length-1],o=P1(i,t),l=P1(a,t);return!o||!l?!1:kW(e)||(r==="spring"||x0(r))&&n}const CW=40;class P4{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:o="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=fs.now(),this.options={autoplay:t,delay:r,type:n,repeat:i,repeatDelay:a,repeatType:o,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>CW?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&nW(),this._resolved}onKeyframesResolved(t,r){this.resolvedAt=fs.now(),this.hasAttemptedResolve=!0;const{name:n,type:i,velocity:a,delay:o,onComplete:l,onUpdate:c,isGenerator:d}=this.options;if(!d&&!SW(t,n,i,a))if(o)this.options.duration=0;else{c==null||c(km(t,this.options,r)),l==null||l(),this.resolveFinishedPromise();return}const u=this.initPlayback(t,r);u!==!1&&(this._resolved={keyframes:t,finalKeyframe:r,...u},this.onPostResolved())}onPostResolved(){}then(t,r){return this.currentFinishedPromise.then(t,r)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const fl=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n},T4=(e,t,r=10)=>{let n="";const i=Math.max(Math.round(t/r),2);for(let a=0;a<i;a++)n+=e(fl(0,i-1,a))+", ";return`linear(${n.substring(0,n.length-2)})`};function E4(e,t){return t?e*(1e3/t):0}const PW=5;function _4(e,t,r){const n=Math.max(t-PW,0);return E4(r-e(n),t-n)}const At={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Dp=.001;function TW({duration:e=At.duration,bounce:t=At.bounce,velocity:r=At.velocity,mass:n=At.mass}){let i,a,o=1-t;o=Us(At.minDamping,At.maxDamping,o),e=Us(At.minDuration,At.maxDuration,Os(e)),o<1?(i=d=>{const u=d*o,f=u*e,h=u-r,p=Mx(d,o),v=Math.exp(-f);return Dp-h/p*v},a=d=>{const f=d*o*e,h=f*r+r,p=Math.pow(o,2)*Math.pow(d,2)*e,v=Math.exp(-f),g=Mx(Math.pow(d,2),o);return(-i(d)+Dp>0?-1:1)*((h-p)*v)/g}):(i=d=>{const u=Math.exp(-d*e),f=(d-r)*e+1;return-Dp+u*f},a=d=>{const u=Math.exp(-d*e),f=(r-d)*(e*e);return u*f});const l=5/e,c=_W(i,a,l);if(e=Rs(e),isNaN(c))return{stiffness:At.stiffness,damping:At.damping,duration:e};{const d=Math.pow(c,2)*n;return{stiffness:d,damping:o*2*Math.sqrt(n*d),duration:e}}}const EW=12;function _W(e,t,r){let n=r;for(let i=1;i<EW;i++)n=n-e(n)/t(n);return n}function Mx(e,t){return e*Math.sqrt(1-t*t)}const Ax=2e4;function D4(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<Ax;)t+=r,n=e.next(t);return t>=Ax?1/0:t}const DW=["duration","bounce"],MW=["stiffness","damping","mass"];function T1(e,t){return t.some(r=>e[r]!==void 0)}function AW(e){let t={velocity:At.velocity,stiffness:At.stiffness,damping:At.damping,mass:At.mass,isResolvedFromDuration:!1,...e};if(!T1(e,MW)&&T1(e,DW))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),i=n*n,a=2*Us(.05,1,1-e.bounce)*Math.sqrt(i);t={...t,mass:At.mass,stiffness:i,damping:a}}else{const r=TW(e);t={...t,...r,mass:At.mass},t.isResolvedFromDuration=!0}return t}function M4(e=At.visualDuration,t=At.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:i}=r;const a=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],l={done:!1,value:a},{stiffness:c,damping:d,mass:u,duration:f,velocity:h,isResolvedFromDuration:p}=AW({...r,velocity:-Os(r.velocity||0)}),v=h||0,g=d/(2*Math.sqrt(c*u)),b=o-a,x=Os(Math.sqrt(c/u)),y=Math.abs(b)<5;n||(n=y?At.restSpeed.granular:At.restSpeed.default),i||(i=y?At.restDelta.granular:At.restDelta.default);let w;if(g<1){const N=Mx(x,g);w=P=>{const S=Math.exp(-g*x*P);return o-S*((v+g*x*b)/N*Math.sin(N*P)+b*Math.cos(N*P))}}else if(g===1)w=N=>o-Math.exp(-x*N)*(b+(v+x*b)*N);else{const N=x*Math.sqrt(g*g-1);w=P=>{const S=Math.exp(-g*x*P),E=Math.min(N*P,300);return o-S*((v+g*x*b)*Math.sinh(E)+N*b*Math.cosh(E))/N}}const j={calculatedDuration:p&&f||null,next:N=>{const P=w(N);if(p)l.done=N>=f;else{let S=0;g<1&&(S=N===0?Rs(v):_4(w,N,P));const E=Math.abs(S)<=n,R=Math.abs(o-P)<=i;l.done=E&&R}return l.value=l.done?o:P,l},toString:()=>{const N=Math.min(D4(j),Ax),P=T4(S=>j.next(N*S).value,N,30);return N+"ms "+P}};return j}function E1({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:u}){const f=e[0],h={done:!1,value:f},p=E=>l!==void 0&&E<l||c!==void 0&&E>c,v=E=>l===void 0?c:c===void 0||Math.abs(l-E)<Math.abs(c-E)?l:c;let g=r*t;const b=f+g,x=o===void 0?b:o(b);x!==b&&(g=x-f);const y=E=>-g*Math.exp(-E/n),w=E=>x+y(E),j=E=>{const R=y(E),A=w(E);h.done=Math.abs(R)<=d,h.value=h.done?x:A};let N,P;const S=E=>{p(h.value)&&(N=E,P=M4({keyframes:[h.value,v(h.value)],velocity:_4(w,E,h.value),damping:i,stiffness:a,restDelta:d,restSpeed:u}))};return S(0),{calculatedDuration:null,next:E=>{let R=!1;return!P&&N===void 0&&(R=!0,j(E),S(E)),N!==void 0&&E>=N?P.next(E-N):(!R&&j(E),h)}}}const RW=Zd(.42,0,1,1),OW=Zd(0,0,.58,1),A4=Zd(.42,0,.58,1),FW=e=>Array.isArray(e)&&typeof e[0]!="number",y0=e=>Array.isArray(e)&&typeof e[0]=="number",_1={linear:mr,easeIn:RW,easeInOut:A4,easeOut:OW,circIn:d0,circInOut:d4,circOut:c4,backIn:c0,backInOut:o4,backOut:a4,anticipate:l4},D1=e=>{if(y0(e)){Px(e.length===4);const[t,r,n,i]=e;return Zd(t,r,n,i)}else if(typeof e=="string")return Px(_1[e]!==void 0),_1[e];return e},IW=(e,t)=>r=>t(e(r)),Ti=(...e)=>e.reduce(IW),Et=(e,t,r)=>e+(t-e)*r;function Mp(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function LW({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let i=0,a=0,o=0;if(!t)i=a=o=r;else{const l=r<.5?r*(1+t):r+t-r*t,c=2*r-l;i=Mp(c,l,e+1/3),a=Mp(c,l,e),o=Mp(c,l,e-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:n}}function ch(e,t){return r=>r>0?t:e}const Ap=(e,t,r)=>{const n=e*e,i=r*(t*t-n)+n;return i<0?0:Math.sqrt(i)},VW=[_x,ua,ho],$W=e=>VW.find(t=>t.test(e));function M1(e){const t=$W(e);if(!t)return!1;let r=t.parse(e);return t===ho&&(r=LW(r)),r}const A1=(e,t)=>{const r=M1(e),n=M1(t);if(!r||!n)return ch(e,t);const i={...r};return a=>(i.red=Ap(r.red,n.red,a),i.green=Ap(r.green,n.green,a),i.blue=Ap(r.blue,n.blue,a),i.alpha=Et(r.alpha,n.alpha,a),ua.transform(i))},Rx=new Set(["none","hidden"]);function zW(e,t){return Rx.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function BW(e,t){return r=>Et(e,t,r)}function v0(e){return typeof e=="number"?BW:typeof e=="string"?u0(e)?ch:ur.test(e)?A1:HW:Array.isArray(e)?R4:typeof e=="object"?ur.test(e)?A1:WW:ch}function R4(e,t){const r=[...e],n=r.length,i=e.map((a,o)=>v0(a)(a,t[o]));return a=>{for(let o=0;o<n;o++)r[o]=i[o](a);return r}}function WW(e,t){const r={...e,...t},n={};for(const i in r)e[i]!==void 0&&t[i]!==void 0&&(n[i]=v0(e[i])(e[i],t[i]));return i=>{for(const a in n)r[a]=n[a](i);return r}}function UW(e,t){var r;const n=[],i={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const o=t.types[a],l=e.indexes[o][i[o]],c=(r=e.values[l])!==null&&r!==void 0?r:0;n[a]=c,i[o]++}return n}const HW=(e,t)=>{const r=Bi.createTransformer(t),n=wd(e),i=wd(t);return n.indexes.var.length===i.indexes.var.length&&n.indexes.color.length===i.indexes.color.length&&n.indexes.number.length>=i.indexes.number.length?Rx.has(e)&&!i.values.length||Rx.has(t)&&!n.values.length?zW(e,t):Ti(R4(UW(n,i),i.values),r):ch(e,t)};function O4(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?Et(e,t,r):v0(e)(e,t)}function KW(e,t,r){const n=[],i=r||O4,a=e.length-1;for(let o=0;o<a;o++){let l=i(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||mr:t;l=Ti(c,l)}n.push(l)}return n}function YW(e,t,{clamp:r=!0,ease:n,mixer:i}={}){const a=e.length;if(Px(a===t.length),a===1)return()=>t[0];if(a===2&&e[0]===e[1])return()=>t[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=KW(t,n,i),l=o.length,c=d=>{let u=0;if(l>1)for(;u<e.length-2&&!(d<e[u+1]);u++);const f=fl(e[u],e[u+1],d);return o[u](f)};return r?d=>c(Us(e[0],e[a-1],d)):c}function qW(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const i=fl(0,t,n);e.push(Et(r,1,i))}}function GW(e){const t=[0];return qW(t,e.length-1),t}function QW(e,t){return e.map(r=>r*t)}function ZW(e,t){return e.map(()=>t||A4).splice(0,e.length-1)}function dh({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const i=FW(n)?n.map(D1):D1(n),a={done:!1,value:t[0]},o=QW(r&&r.length===t.length?r:GW(t),e),l=YW(o,t,{ease:Array.isArray(i)?i:ZW(t,i)});return{calculatedDuration:e,next:c=>(a.value=l(c),a.done=c>=e,a)}}const XW=e=>{const t=({timestamp:r})=>e(r);return{start:()=>mt.update(t,!0),stop:()=>zi(t),now:()=>sr.isProcessing?sr.timestamp:fs.now()}},JW={decay:E1,inertia:E1,tween:dh,keyframes:dh,spring:M4},eU=e=>e/100;class w0 extends P4{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:r,motionValue:n,element:i,keyframes:a}=this.options,o=(i==null?void 0:i.KeyframeResolver)||f0,l=(c,d)=>this.onKeyframesResolved(c,d);this.resolver=new o(a,l,r,n,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:r="keyframes",repeat:n=0,repeatDelay:i=0,repeatType:a,velocity:o=0}=this.options,l=x0(r)?r:JW[r]||dh;let c,d;l!==dh&&typeof t[0]!="number"&&(c=Ti(eU,O4(t[0],t[1])),t=[0,100]);const u=l({...this.options,keyframes:t});a==="mirror"&&(d=l({...this.options,keyframes:[...t].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=D4(u));const{calculatedDuration:f}=u,h=f+i,p=h*(n+1)-i;return{generator:u,mirroredGenerator:d,mapPercentToKeyframes:c,calculatedDuration:f,resolvedDuration:h,totalDuration:p}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,r=!1){const{resolved:n}=this;if(!n){const{keyframes:E}=this.options;return{done:!0,value:E[E.length-1]}}const{finalKeyframe:i,generator:a,mirroredGenerator:o,mapPercentToKeyframes:l,keyframes:c,calculatedDuration:d,totalDuration:u,resolvedDuration:f}=n;if(this.startTime===null)return a.next(0);const{delay:h,repeat:p,repeatType:v,repeatDelay:g,onUpdate:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-u/this.speed,this.startTime)),r?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const x=this.currentTime-h*(this.speed>=0?1:-1),y=this.speed>=0?x<0:x>u;this.currentTime=Math.max(x,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=u);let w=this.currentTime,j=a;if(p){const E=Math.min(this.currentTime,u)/f;let R=Math.floor(E),A=E%1;!A&&E>=1&&(A=1),A===1&&R--,R=Math.min(R,p+1),!!(R%2)&&(v==="reverse"?(A=1-A,g&&(A-=g/f)):v==="mirror"&&(j=o)),w=Us(0,1,A)*f}const N=y?{done:!1,value:c[0]}:j.next(w);l&&(N.value=l(N.value));let{done:P}=N;!y&&d!==null&&(P=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const S=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&P);return S&&i!==void 0&&(N.value=km(c,this.options,i)),b&&b(N.value),S&&this.finish(),N}get duration(){const{resolved:t}=this;return t?Os(t.calculatedDuration):0}get time(){return Os(this.currentTime)}set time(t){t=Rs(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=Os(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=XW,onPlay:r,startTime:n}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),r&&r();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=n??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const tU=new Set(["opacity","clipPath","filter","transform"]);function b0(e){let t;return()=>(t===void 0&&(t=e()),t)}const rU={linearEasing:void 0};function nU(e,t){const r=b0(e);return()=>{var n;return(n=rU[t])!==null&&n!==void 0?n:r()}}const uh=nU(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing");function F4(e){return!!(typeof e=="function"&&uh()||!e||typeof e=="string"&&(e in Ox||uh())||y0(e)||Array.isArray(e)&&e.every(F4))}const oc=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,Ox={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:oc([0,.65,.55,1]),circOut:oc([.55,0,1,.45]),backIn:oc([.31,.01,.66,-.59]),backOut:oc([.33,1.53,.69,.99])};function I4(e,t){if(e)return typeof e=="function"&&uh()?T4(e,t):y0(e)?oc(e):Array.isArray(e)?e.map(r=>I4(r,t)||Ox.easeOut):Ox[e]}function sU(e,t,r,{delay:n=0,duration:i=300,repeat:a=0,repeatType:o="loop",ease:l="easeInOut",times:c}={}){const d={[t]:r};c&&(d.offset=c);const u=I4(l,i);return Array.isArray(u)&&(d.easing=u),e.animate(d,{delay:n,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"})}function R1(e,t){e.timeline=t,e.onfinish=null}const iU=b0(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),fh=10,aU=2e4;function oU(e){return x0(e.type)||e.type==="spring"||!F4(e.ease)}function lU(e,t){const r=new w0({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let n={done:!1,value:e[0]};const i=[];let a=0;for(;!n.done&&a<aU;)n=r.sample(a),i.push(n.value),a+=fh;return{times:void 0,keyframes:i,duration:a-fh,ease:"linear"}}const L4={anticipate:l4,backInOut:o4,circInOut:d4};function cU(e){return e in L4}class O1 extends P4{constructor(t){super(t);const{name:r,motionValue:n,element:i,keyframes:a}=this.options;this.resolver=new C4(a,(o,l)=>this.onKeyframesResolved(o,l),r,n,i),this.resolver.scheduleResolve()}initPlayback(t,r){var n;let{duration:i=300,times:a,ease:o,type:l,motionValue:c,name:d,startTime:u}=this.options;if(!(!((n=c.owner)===null||n===void 0)&&n.current))return!1;if(typeof o=="string"&&uh()&&cU(o)&&(o=L4[o]),oU(this.options)){const{onComplete:h,onUpdate:p,motionValue:v,element:g,...b}=this.options,x=lU(t,b);t=x.keyframes,t.length===1&&(t[1]=t[0]),i=x.duration,a=x.times,o=x.ease,l="keyframes"}const f=sU(c.owner.current,d,t,{...this.options,duration:i,times:a,ease:o});return f.startTime=u??this.calcStartTime(),this.pendingTimeline?(R1(f,this.pendingTimeline),this.pendingTimeline=void 0):f.onfinish=()=>{const{onComplete:h}=this.options;c.set(km(t,this.options,r)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:f,duration:i,times:a,type:l,ease:o,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:r}=t;return Os(r)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:r}=t;return Os(r.currentTime||0)}set time(t){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.currentTime=Rs(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:r}=t;return r.playbackRate}set speed(t){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:r}=t;return r.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:r}=t;return r.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:r}=this;if(!r)return mr;const{animation:n}=r;R1(n,t)}return mr}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.playState==="finished"&&this.updateFinishedPromise(),r.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:r,keyframes:n,duration:i,type:a,ease:o,times:l}=t;if(r.playState==="idle"||r.playState==="finished")return;if(this.time){const{motionValue:d,onUpdate:u,onComplete:f,element:h,...p}=this.options,v=new w0({...p,keyframes:n,duration:i,type:a,ease:o,times:l,isGenerator:!0}),g=Rs(this.time);d.setWithVelocity(v.sample(g-fh).value,v.sample(g).value,fh)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:r,name:n,repeatDelay:i,repeatType:a,damping:o,type:l}=t;return iU()&&n&&tU.has(n)&&r&&r.owner&&r.owner.current instanceof HTMLElement&&!r.owner.getProps().onUpdate&&!i&&a!=="mirror"&&o!==0&&l!=="inertia"}}const dU=b0(()=>window.ScrollTimeline!==void 0);class uU{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}then(t,r){return Promise.all(this.animations).then(t).catch(r)}getAll(t){return this.animations[0][t]}setAll(t,r){for(let n=0;n<this.animations.length;n++)this.animations[n][t]=r}attachTimeline(t,r){const n=this.animations.map(i=>dU()&&i.attachTimeline?i.attachTimeline(t):r(i));return()=>{n.forEach((i,a)=>{i&&i(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let r=0;r<this.animations.length;r++)t=Math.max(t,this.animations[r].duration);return t}runAll(t){this.animations.forEach(r=>r[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function fU({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:i,repeat:a,repeatType:o,repeatDelay:l,from:c,elapsed:d,...u}){return!!Object.keys(u).length}const j0=(e,t,r,n={},i,a)=>o=>{const l=l0(n,e)||{},c=l.delay||n.delay||0;let{elapsed:d=0}=n;d=d-Rs(c);let u={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-d,onUpdate:h=>{t.set(h),l.onUpdate&&l.onUpdate(h)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:a?void 0:i};fU(l)||(u={...u,...IB(e,u)}),u.duration&&(u.duration=Rs(u.duration)),u.repeatDelay&&(u.repeatDelay=Rs(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let f=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(f=!0)),f&&!a&&t.get()!==void 0){const h=km(u.keyframes,l);if(h!==void 0)return mt.update(()=>{u.onUpdate(h),u.onComplete()}),new uU([])}return!a&&O1.supports(u)?new O1(u):new w0(u)},hU=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),mU=e=>Cx(e)?e[e.length-1]||0:e;function N0(e,t){e.indexOf(t)===-1&&e.push(t)}function k0(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}class S0{constructor(){this.subscriptions=[]}add(t){return N0(this.subscriptions,t),()=>k0(this.subscriptions,t)}notify(t,r,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,r,n);else for(let a=0;a<i;a++){const o=this.subscriptions[a];o&&o(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const F1=30,pU=e=>!isNaN(parseFloat(e));class gU{constructor(t,r={}){this.version="11.13.1",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,i=!0)=>{const a=fs.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=fs.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=pU(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new S0);const n=this.events[t].add(r);return t==="change"?()=>{n(),mt.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=fs.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>F1)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,F1);return E4(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function bd(e,t){return new gU(e,t)}function xU(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,bd(r))}function yU(e,t){const r=Nm(e,t);let{transitionEnd:n={},transition:i={},...a}=r||{};a={...a,...n};for(const o in a){const l=mU(a[o]);xU(e,o,l)}}const C0=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),vU="framerAppearId",V4="data-"+C0(vU);function $4(e){return e.props[V4]}const hr=e=>!!(e&&e.getVelocity);function wU(e){return!!(hr(e)&&e.add)}function Fx(e,t){const r=e.getValue("willChange");if(wU(r))return r.add(t)}function bU({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function z4(e,t,{delay:r=0,transitionOverride:n,type:i}={}){var a;let{transition:o=e.getDefaultTransition(),transitionEnd:l,...c}=t;n&&(o=n);const d=[],u=i&&e.animationState&&e.animationState.getState()[i];for(const f in c){const h=e.getValue(f,(a=e.latestValues[f])!==null&&a!==void 0?a:null),p=c[f];if(p===void 0||u&&bU(u,f))continue;const v={delay:r,...l0(o||{},f)};let g=!1;if(window.MotionHandoffAnimation){const x=$4(e);if(x){const y=window.MotionHandoffAnimation(x,f,mt);y!==null&&(v.startTime=y,g=!0)}}Fx(e,f),h.start(j0(f,h,p,e.shouldReduceMotion&&Ua.has(f)?{type:!1}:v,e,g));const b=h.animation;b&&d.push(b)}return l&&Promise.all(d).then(()=>{mt.update(()=>{l&&yU(e,l)})}),d}function Ix(e,t,r={}){var n;const i=Nm(e,t,r.type==="exit"?(n=e.presenceContext)===null||n===void 0?void 0:n.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=i||{};r.transitionOverride&&(a=r.transitionOverride);const o=i?()=>Promise.all(z4(e,i,r)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(d=0)=>{const{delayChildren:u=0,staggerChildren:f,staggerDirection:h}=a;return jU(e,t,u+d,f,h,r)}:()=>Promise.resolve(),{when:c}=a;if(c){const[d,u]=c==="beforeChildren"?[o,l]:[l,o];return d().then(()=>u())}else return Promise.all([o(),l(r.delay)])}function jU(e,t,r=0,n=0,i=1,a){const o=[],l=(e.variantChildren.size-1)*n,c=i===1?(d=0)=>d*n:(d=0)=>l-d*n;return Array.from(e.variantChildren).sort(NU).forEach((d,u)=>{d.notify("AnimationStart",t),o.push(Ix(d,t,{...a,delay:r+c(u)}).then(()=>d.notify("AnimationComplete",t)))}),Promise.all(o)}function NU(e,t){return e.sortNodePosition(t)}function kU(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const i=t.map(a=>Ix(e,a,r));n=Promise.all(i)}else if(typeof t=="string")n=Ix(e,t,r);else{const i=typeof t=="function"?Nm(e,t,r.custom):t;n=Promise.all(z4(e,i,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}const SU=o0.length;function B4(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?B4(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<SU;r++){const n=o0[r],i=e.props[n];(yd(i)||i===!1)&&(t[n]=i)}return t}const CU=[...a0].reverse(),PU=a0.length;function TU(e){return t=>Promise.all(t.map(({animation:r,options:n})=>kU(e,r,n)))}function EU(e){let t=TU(e),r=I1(),n=!0;const i=c=>(d,u)=>{var f;const h=Nm(e,u,c==="exit"?(f=e.presenceContext)===null||f===void 0?void 0:f.custom:void 0);if(h){const{transition:p,transitionEnd:v,...g}=h;d={...d,...g,...v}}return d};function a(c){t=c(e)}function o(c){const{props:d}=e,u=B4(e.parent)||{},f=[],h=new Set;let p={},v=1/0;for(let b=0;b<PU;b++){const x=CU[b],y=r[x],w=d[x]!==void 0?d[x]:u[x],j=yd(w),N=x===c?y.isActive:null;N===!1&&(v=b);let P=w===u[x]&&w!==d[x]&&j;if(P&&n&&e.manuallyAnimateOnMount&&(P=!1),y.protectedKeys={...p},!y.isActive&&N===null||!w&&!y.prevProp||jm(w)||typeof w=="boolean")continue;const S=_U(y.prevProp,w);let E=S||x===c&&y.isActive&&!P&&j||b>v&&j,R=!1;const A=Array.isArray(w)?w:[w];let W=A.reduce(i(x),{});N===!1&&(W={});const{prevResolvedValues:V={}}=y,O={...V,...W},B=_=>{E=!0,h.has(_)&&(R=!0,h.delete(_)),y.needsAnimating[_]=!0;const C=e.getValue(_);C&&(C.liveStyle=!1)};for(const _ in O){const C=W[_],T=V[_];if(p.hasOwnProperty(_))continue;let $=!1;Cx(C)&&Cx(T)?$=!t4(C,T):$=C!==T,$?C!=null?B(_):h.add(_):C!==void 0&&h.has(_)?B(_):y.protectedKeys[_]=!0}y.prevProp=w,y.prevResolvedValues=W,y.isActive&&(p={...p,...W}),n&&e.blockInitialAnimation&&(E=!1),E&&(!(P&&S)||R)&&f.push(...A.map(_=>({animation:_,options:{type:x}})))}if(h.size){const b={};h.forEach(x=>{const y=e.getBaseTarget(x),w=e.getValue(x);w&&(w.liveStyle=!0),b[x]=y??null}),f.push({animation:b})}let g=!!f.length;return n&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(g=!1),n=!1,g?t(f):Promise.resolve()}function l(c,d){var u;if(r[c].isActive===d)return Promise.resolve();(u=e.variantChildren)===null||u===void 0||u.forEach(h=>{var p;return(p=h.animationState)===null||p===void 0?void 0:p.setActive(c,d)}),r[c].isActive=d;const f=o(c);for(const h in r)r[h].protectedKeys={};return f}return{animateChanges:o,setActive:l,setAnimateFunction:a,getState:()=>r,reset:()=>{r=I1(),n=!0}}}function _U(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!t4(t,e):!1}function Ji(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function I1(){return{animate:Ji(!0),whileInView:Ji(),whileHover:Ji(),whileTap:Ji(),whileDrag:Ji(),whileFocus:Ji(),exit:Ji()}}class Zi{constructor(t){this.isMounted=!1,this.node=t}update(){}}class DU extends Zi{constructor(t){super(t),t.animationState||(t.animationState=EU(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();jm(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let MU=0;class AU extends Zi{constructor(){super(...arguments),this.id=MU++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const i=this.node.animationState.setActive("exit",!t);r&&!t&&i.then(()=>r(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const RU={animation:{Feature:DU},exit:{Feature:AU}};function OU(e,t,r){var n;if(e instanceof Element)return[e];if(typeof e=="string"){let i=document;const a=(n=void 0)!==null&&n!==void 0?n:i.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}const _n={x:!1,y:!1};function W4(){return _n.x||_n.y}function L1(e){return t=>{t.pointerType==="touch"||W4()||e(t)}}function FU(e,t,r={}){const n=new AbortController,i={passive:!0,...r,signal:n.signal},a=L1(o=>{const{target:l}=o,c=t(o);if(!c||!l)return;const d=L1(u=>{c(u),l.removeEventListener("pointerleave",d)});l.addEventListener("pointerleave",d,i)});return OU(e).forEach(o=>{o.addEventListener("pointerenter",a,i)}),()=>n.abort()}function IU(e){return e==="x"||e==="y"?_n[e]?null:(_n[e]=!0,()=>{_n[e]=!1}):_n.x||_n.y?null:(_n.x=_n.y=!0,()=>{_n.x=_n.y=!1})}const U4=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function Jd(e){return{point:{x:e.pageX,y:e.pageY}}}const LU=e=>t=>U4(t)&&e(t,Jd(t));function Ds(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function Ei(e,t,r,n){return Ds(e,t,LU(r),n)}const V1=(e,t)=>Math.abs(e-t);function VU(e,t){const r=V1(e.x,t.x),n=V1(e.y,t.y);return Math.sqrt(r**2+n**2)}class H4{constructor(t,r,{transformPagePoint:n,contextWindow:i,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Op(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,p=VU(f.offset,{x:0,y:0})>=3;if(!h&&!p)return;const{point:v}=f,{timestamp:g}=sr;this.history.push({...v,timestamp:g});const{onStart:b,onMove:x}=this.handlers;h||(b&&b(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Rp(h,this.transformPagePoint),mt.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:p,onSessionEnd:v,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=Op(f.type==="pointercancel"?this.lastMoveEventInfo:Rp(h,this.transformPagePoint),this.history);this.startEvent&&p&&p(f,b),v&&v(f,b)},!U4(t))return;this.dragSnapToOrigin=a,this.handlers=r,this.transformPagePoint=n,this.contextWindow=i||window;const o=Jd(t),l=Rp(o,this.transformPagePoint),{point:c}=l,{timestamp:d}=sr;this.history=[{...c,timestamp:d}];const{onSessionStart:u}=r;u&&u(t,Op(l,this.history)),this.removeListeners=Ti(Ei(this.contextWindow,"pointermove",this.handlePointerMove),Ei(this.contextWindow,"pointerup",this.handlePointerUp),Ei(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),zi(this.updatePoint)}}function Rp(e,t){return t?{point:t(e.point)}:e}function $1(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Op({point:e},t){return{point:e,delta:$1(e,K4(t)),offset:$1(e,$U(t)),velocity:zU(t,.1)}}function $U(e){return e[0]}function K4(e){return e[e.length-1]}function zU(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const i=K4(e);for(;r>=0&&(n=e[r],!(i.timestamp-n.timestamp>Rs(t)));)r--;if(!n)return{x:0,y:0};const a=Os(i.timestamp-n.timestamp);if(a===0)return{x:0,y:0};const o={x:(i.x-n.x)/a,y:(i.y-n.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function mo(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}const Y4=1e-4,BU=1-Y4,WU=1+Y4,q4=.01,UU=0-q4,HU=0+q4;function cn(e){return e.max-e.min}function KU(e,t,r){return Math.abs(e-t)<=r}function z1(e,t,r,n=.5){e.origin=n,e.originPoint=Et(t.min,t.max,e.origin),e.scale=cn(r)/cn(t),e.translate=Et(r.min,r.max,e.origin)-e.originPoint,(e.scale>=BU&&e.scale<=WU||isNaN(e.scale))&&(e.scale=1),(e.translate>=UU&&e.translate<=HU||isNaN(e.translate))&&(e.translate=0)}function Pc(e,t,r,n){z1(e.x,t.x,r.x,n?n.originX:void 0),z1(e.y,t.y,r.y,n?n.originY:void 0)}function B1(e,t,r){e.min=r.min+t.min,e.max=e.min+cn(t)}function YU(e,t,r){B1(e.x,t.x,r.x),B1(e.y,t.y,r.y)}function W1(e,t,r){e.min=t.min-r.min,e.max=e.min+cn(t)}function Tc(e,t,r){W1(e.x,t.x,r.x),W1(e.y,t.y,r.y)}function qU(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?Et(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?Et(r,e,n.max):Math.min(e,r)),e}function U1(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function GU(e,{top:t,left:r,bottom:n,right:i}){return{x:U1(e.x,r,i),y:U1(e.y,t,n)}}function H1(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function QU(e,t){return{x:H1(e.x,t.x),y:H1(e.y,t.y)}}function ZU(e,t){let r=.5;const n=cn(e),i=cn(t);return i>n?r=fl(t.min,t.max-n,e.min):n>i&&(r=fl(e.min,e.max-i,t.min)),Us(0,1,r)}function XU(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const Lx=.35;function JU(e=Lx){return e===!1?e=0:e===!0&&(e=Lx),{x:K1(e,"left","right"),y:K1(e,"top","bottom")}}function K1(e,t,r){return{min:Y1(e,t),max:Y1(e,r)}}function Y1(e,t){return typeof e=="number"?e:e[t]||0}const q1=()=>({translate:0,scale:1,origin:0,originPoint:0}),po=()=>({x:q1(),y:q1()}),G1=()=>({min:0,max:0}),It=()=>({x:G1(),y:G1()});function mn(e){return[e("x"),e("y")]}function G4({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function eH({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function tH(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function Fp(e){return e===void 0||e===1}function Vx({scale:e,scaleX:t,scaleY:r}){return!Fp(e)||!Fp(t)||!Fp(r)}function na(e){return Vx(e)||Q4(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function Q4(e){return Q1(e.x)||Q1(e.y)}function Q1(e){return e&&e!=="0%"}function hh(e,t,r){const n=e-r,i=t*n;return r+i}function Z1(e,t,r,n,i){return i!==void 0&&(e=hh(e,i,n)),hh(e,r,n)+t}function $x(e,t=0,r=1,n,i){e.min=Z1(e.min,t,r,n,i),e.max=Z1(e.max,t,r,n,i)}function Z4(e,{x:t,y:r}){$x(e.x,t.translate,t.scale,t.originPoint),$x(e.y,r.translate,r.scale,r.originPoint)}const X1=.999999999999,J1=1.0000000000001;function rH(e,t,r,n=!1){const i=r.length;if(!i)return;t.x=t.y=1;let a,o;for(let l=0;l<i;l++){a=r[l],o=a.projectionDelta;const{visualElement:c}=a.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&a.options.layoutScroll&&a.scroll&&a!==a.root&&xo(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,Z4(e,o)),n&&na(a.latestValues)&&xo(e,a.latestValues))}t.x<J1&&t.x>X1&&(t.x=1),t.y<J1&&t.y>X1&&(t.y=1)}function go(e,t){e.min=e.min+t,e.max=e.max+t}function ej(e,t,r,n,i=.5){const a=Et(e.min,e.max,i);$x(e,t,r,a,n)}function xo(e,t){ej(e.x,t.x,t.scaleX,t.scale,t.originX),ej(e.y,t.y,t.scaleY,t.scale,t.originY)}function X4(e,t){return G4(tH(e.getBoundingClientRect(),t))}function nH(e,t,r){const n=X4(e,r),{scroll:i}=t;return i&&(go(n.x,i.offset.x),go(n.y,i.offset.y)),n}const J4=({current:e})=>e?e.ownerDocument.defaultView:null,sH=new WeakMap;class iH{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=It(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const i=u=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Jd(u).point)},a=(u,f)=>{const{drag:h,dragPropagation:p,onDragStart:v}=this.getProps();if(h&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=IU(h),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),mn(b=>{let x=this.getAxisMotionValue(b).get()||0;if(us.test(x)){const{projection:y}=this.visualElement;if(y&&y.layout){const w=y.layout.layoutBox[b];w&&(x=cn(w)*(parseFloat(x)/100))}}this.originPoint[b]=x}),v&&mt.postRender(()=>v(u,f)),Fx(this.visualElement,"transform");const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},o=(u,f)=>{const{dragPropagation:h,dragDirectionLock:p,onDirectionLock:v,onDrag:g}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:b}=f;if(p&&this.currentDirection===null){this.currentDirection=aH(b),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",f.point,b),this.updateAxis("y",f.point,b),this.visualElement.render(),g&&g(u,f)},l=(u,f)=>this.stop(u,f),c=()=>mn(u=>{var f;return this.getAnimationState(u)==="paused"&&((f=this.getAxisMotionValue(u).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new H4(t,{onSessionStart:i,onStart:a,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:J4(this.visualElement)})}stop(t,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:i}=r;this.startAnimation(i);const{onDragEnd:a}=this.getProps();a&&mt.postRender(()=>a(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:i}=this.getProps();if(!n||!_u(t,i,this.currentDirection))return;const a=this.getAxisMotionValue(t);let o=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(o=qU(o,this.constraints[t],this.elastic[t])),a.set(o)}resolveConstraints(){var t;const{dragConstraints:r,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,a=this.constraints;r&&mo(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&i?this.constraints=GU(i.layoutBox,r):this.constraints=!1,this.elastic=JU(n),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&mn(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=XU(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!mo(t))return!1;const n=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=nH(n,i.root,this.visualElement.getTransformPagePoint());let o=QU(i.layout.layoutBox,a);if(r){const l=r(eH(o));this.hasMutatedConstraints=!!l,l&&(o=G4(l))}return o}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:i,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=mn(u=>{if(!_u(u,r,this.currentDirection))return;let f=c&&c[u]||{};o&&(f={min:0,max:0});const h=i?200:1e6,p=i?40:1e7,v={type:"inertia",velocity:n?t[u]:0,bounceStiffness:h,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...a,...f};return this.startAxisValueAnimation(u,v)});return Promise.all(d).then(l)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return Fx(this.visualElement,t),n.start(j0(t,n,0,r,this.visualElement,!1))}stopAnimation(){mn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){mn(t=>{var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),i=n[r];return i||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){mn(r=>{const{drag:n}=this.getProps();if(!_u(r,n,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(r);if(i&&i.layout){const{min:o,max:l}=i.layout.layoutBox[r];a.set(t[r]-Et(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!mo(r)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};mn(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();i[o]=ZU({min:c,max:c},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),mn(o=>{if(!_u(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];l.set(Et(c,d,i[o]))})}addListeners(){if(!this.visualElement.current)return;sH.set(this.visualElement,this);const t=this.visualElement.current,r=Ei(t,"pointerdown",c=>{const{drag:d,dragListener:u=!0}=this.getProps();d&&u&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();mo(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),mt.read(n);const o=Ds(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(mn(u=>{const f=this.getAxisMotionValue(u);f&&(this.originPoint[u]+=c[u].translate,f.set(f.get()+c[u].translate))}),this.visualElement.render())});return()=>{o(),r(),a(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:o=Lx,dragMomentum:l=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:i,dragConstraints:a,dragElastic:o,dragMomentum:l}}}function _u(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function aH(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class oH extends Zi{constructor(t){super(t),this.removeGroupControls=mr,this.removeListeners=mr,this.controls=new iH(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||mr}unmount(){this.removeGroupControls(),this.removeListeners()}}const tj=e=>(t,r)=>{e&&mt.postRender(()=>e(t,r))};class lH extends Zi{constructor(){super(...arguments),this.removePointerDownListener=mr}onPointerDown(t){this.session=new H4(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:J4(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:tj(t),onStart:tj(r),onMove:n,onEnd:(a,o)=>{delete this.session,i&&mt.postRender(()=>i(a,o))}}}mount(){this.removePointerDownListener=Ei(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Sm=m.createContext(null);function cH(){const e=m.useContext(Sm);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:n}=e,i=m.useId();m.useEffect(()=>n(i),[]);const a=m.useCallback(()=>r&&r(i),[i,r]);return!t&&r?[!1,a]:[!0]}const P0=m.createContext({}),eD=m.createContext({}),nf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function rj(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Gl={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(ke.test(e))e=parseFloat(e);else return e;const r=rj(e,t.target.x),n=rj(e,t.target.y);return`${r}% ${n}%`}},dH={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,i=Bi.parse(e);if(i.length>5)return n;const a=Bi.createTransformer(e),o=typeof i[0]!="number"?1:0,l=r.x.scale*t.x,c=r.y.scale*t.y;i[0+o]/=l,i[1+o]/=c;const d=Et(l,c,.5);return typeof i[2+o]=="number"&&(i[2+o]/=d),typeof i[3+o]=="number"&&(i[3+o]/=d),a(i)}},mh={};function uH(e){Object.assign(mh,e)}const{schedule:T0,cancel:LY}=r4(queueMicrotask,!1);class fH extends m.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:i}=this.props,{projection:a}=t;uH(hH),a&&(r.group&&r.group.add(a),n&&n.register&&i&&n.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),nf.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:i,isPresent:a}=this.props,o=n.projection;return o&&(o.isPresent=a,i||t.layoutDependency!==r||r===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?o.promote():o.relegate()||mt.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),T0.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function tD(e){const[t,r]=cH(),n=m.useContext(P0);return s.jsx(fH,{...e,layoutGroup:n,switchLayoutGroup:m.useContext(eD),isPresent:t,safeToRemove:r})}const hH={borderRadius:{...Gl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Gl,borderTopRightRadius:Gl,borderBottomLeftRadius:Gl,borderBottomRightRadius:Gl,boxShadow:dH},rD=["TopLeft","TopRight","BottomLeft","BottomRight"],mH=rD.length,nj=e=>typeof e=="string"?parseFloat(e):e,sj=e=>typeof e=="number"||ke.test(e);function pH(e,t,r,n,i,a){i?(e.opacity=Et(0,r.opacity!==void 0?r.opacity:1,gH(n)),e.opacityExit=Et(t.opacity!==void 0?t.opacity:1,0,xH(n))):a&&(e.opacity=Et(t.opacity!==void 0?t.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let o=0;o<mH;o++){const l=`border${rD[o]}Radius`;let c=ij(t,l),d=ij(r,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||sj(c)===sj(d)?(e[l]=Math.max(Et(nj(c),nj(d),n),0),(us.test(d)||us.test(c))&&(e[l]+="%")):e[l]=d}(t.rotate||r.rotate)&&(e.rotate=Et(t.rotate||0,r.rotate||0,n))}function ij(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const gH=nD(0,.5,c4),xH=nD(.5,.95,mr);function nD(e,t,r){return n=>n<e?0:n>t?1:r(fl(e,t,n))}function aj(e,t){e.min=t.min,e.max=t.max}function hn(e,t){aj(e.x,t.x),aj(e.y,t.y)}function oj(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function lj(e,t,r,n,i){return e-=t,e=hh(e,1/r,n),i!==void 0&&(e=hh(e,1/i,n)),e}function yH(e,t=0,r=1,n=.5,i,a=e,o=e){if(us.test(t)&&(t=parseFloat(t),t=Et(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=Et(a.min,a.max,n);e===a&&(l-=t),e.min=lj(e.min,t,r,l,i),e.max=lj(e.max,t,r,l,i)}function cj(e,t,[r,n,i],a,o){yH(e,t[r],t[n],t[i],t.scale,a,o)}const vH=["x","scaleX","originX"],wH=["y","scaleY","originY"];function dj(e,t,r,n){cj(e.x,t,vH,r?r.x:void 0,n?n.x:void 0),cj(e.y,t,wH,r?r.y:void 0,n?n.y:void 0)}function uj(e){return e.translate===0&&e.scale===1}function sD(e){return uj(e.x)&&uj(e.y)}function fj(e,t){return e.min===t.min&&e.max===t.max}function bH(e,t){return fj(e.x,t.x)&&fj(e.y,t.y)}function hj(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function iD(e,t){return hj(e.x,t.x)&&hj(e.y,t.y)}function mj(e){return cn(e.x)/cn(e.y)}function pj(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class jH{constructor(){this.members=[]}add(t){N0(this.members,t),t.scheduleRender()}remove(t){if(k0(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(i=>t===i);if(r===0)return!1;let n;for(let i=r;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){n=a;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function NH(e,t,r){let n="";const i=e.x.translate/t.x,a=e.y.translate/t.y,o=(r==null?void 0:r.z)||0;if((i||a||o)&&(n=`translate3d(${i}px, ${a}px, ${o}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:d,rotate:u,rotateX:f,rotateY:h,skewX:p,skewY:v}=r;d&&(n=`perspective(${d}px) ${n}`),u&&(n+=`rotate(${u}deg) `),f&&(n+=`rotateX(${f}deg) `),h&&(n+=`rotateY(${h}deg) `),p&&(n+=`skewX(${p}deg) `),v&&(n+=`skewY(${v}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(n+=`scale(${l}, ${c})`),n||"none"}const kH=(e,t)=>e.depth-t.depth;class SH{constructor(){this.children=[],this.isDirty=!1}add(t){N0(this.children,t),this.isDirty=!0}remove(t){k0(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(kH),this.isDirty=!1,this.children.forEach(t)}}function sf(e){const t=hr(e)?e.get():e;return hU(t)?t.toValue():t}function CH(e,t){const r=fs.now(),n=({timestamp:i})=>{const a=i-r;a>=t&&(zi(n),e(a-t))};return mt.read(n,!0),()=>zi(n)}function PH(e){return e instanceof SVGElement&&e.tagName!=="svg"}function TH(e,t,r){const n=hr(e)?e:bd(e);return n.start(j0("",n,t,r)),n.animation}const sa={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},lc=typeof window<"u"&&window.MotionDebug!==void 0,Ip=["","X","Y","Z"],EH={visibility:"hidden"},gj=1e3;let _H=0;function Lp(e,t,r,n){const{latestValues:i}=t;i[e]&&(r[e]=i[e],t.setStaticValue(e,0),n&&(n[e]=0))}function aD(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=$4(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:i,layoutId:a}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",mt,!(i||a))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&aD(n)}function oD({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(o={},l=t==null?void 0:t()){this.id=_H++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,lc&&(sa.totalNodes=sa.resolvedTargetDeltas=sa.recalculatedProjection=0),this.nodes.forEach(AH),this.nodes.forEach(LH),this.nodes.forEach(VH),this.nodes.forEach(RH),lc&&window.MotionDebug.record(sa)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new SH)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new S0),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=PH(o),this.instance=o;const{layoutId:c,layout:d,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(d||c)&&(this.isLayoutDirty=!0),e){let f;const h=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=CH(h,250),nf.hasAnimatedSinceResize&&(nf.hasAnimatedSinceResize=!1,this.nodes.forEach(yj))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&u&&(c||d)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeTargetChanged:p,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||u.getDefaultTransition()||UH,{onLayoutAnimationStart:b,onLayoutAnimationComplete:x}=u.getProps(),y=!this.targetLayout||!iD(this.targetLayout,v)||p,w=!h&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||h&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,w);const j={...l0(g,"layout"),onPlay:b,onComplete:x};(u.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j)}else h||yj(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,zi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach($H),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&aD(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const f=this.path[u];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(xj);return}this.isUpdating||this.nodes.forEach(FH),this.isUpdating=!1,this.nodes.forEach(IH),this.nodes.forEach(DH),this.nodes.forEach(MH),this.clearAllSnapshots();const l=fs.now();sr.delta=Us(0,1e3/60,l-sr.timestamp),sr.timestamp=l,sr.isProcessing=!0,Ep.update.process(sr),Ep.preRender.process(sr),Ep.render.process(sr),sr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,T0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(OH),this.sharedNodes.forEach(zH)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,mt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){mt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=It(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!sD(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,u=d!==this.prevTransformTemplateValue;o&&(l||na(this.latestValues)||u)&&(i(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),HH(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:l}=this.options;if(!l)return It();const c=l.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(KH))){const{scroll:u}=this.root;u&&(go(c.x,u.offset.x),go(c.y,u.offset.y))}return c}removeElementScroll(o){var l;const c=It();if(hn(c,o),!((l=this.scroll)===null||l===void 0)&&l.wasRoot)return c;for(let d=0;d<this.path.length;d++){const u=this.path[d],{scroll:f,options:h}=u;u!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&hn(c,o),go(c.x,f.offset.x),go(c.y,f.offset.y))}return c}applyTransform(o,l=!1){const c=It();hn(c,o);for(let d=0;d<this.path.length;d++){const u=this.path[d];!l&&u.options.layoutScroll&&u.scroll&&u!==u.root&&xo(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),na(u.latestValues)&&xo(c,u.latestValues)}return na(this.latestValues)&&xo(c,this.latestValues),c}removeTransform(o){const l=It();hn(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!na(d.latestValues))continue;Vx(d.latestValues)&&d.updateSnapshot();const u=It(),f=d.measurePageBox();hn(u,f),dj(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,u)}return na(this.latestValues)&&dj(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==sr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(o||d&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:h}=this.options;if(!(!this.layout||!(f||h))){if(this.resolvedRelativeTargetAt=sr.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=It(),this.relativeTargetOrigin=It(),Tc(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),hn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=It(),this.targetWithTransforms=It()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),YU(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):hn(this.target,this.layout.layoutBox),Z4(this.target,this.targetDelta)):hn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=It(),this.relativeTargetOrigin=It(),Tc(this.relativeTargetOrigin,this.target,p.target),hn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}lc&&sa.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Vx(this.parent.latestValues)||Q4(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===sr.timestamp&&(d=!1),d)return;const{layout:u,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||f))return;hn(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,p=this.treeScale.y;rH(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=It());const{target:v}=l;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(oj(this.prevProjectionDelta.x,this.projectionDelta.x),oj(this.prevProjectionDelta.y,this.projectionDelta.y)),Pc(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==p||!pj(this.projectionDelta.x,this.prevProjectionDelta.x)||!pj(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v)),lc&&sa.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)===null||l===void 0||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=po(),this.projectionDelta=po(),this.projectionDeltaWithTransform=po()}setAnimationOrigin(o,l=!1){const c=this.snapshot,d=c?c.latestValues:{},u={...this.latestValues},f=po();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const h=It(),p=c?c.source:void 0,v=this.layout?this.layout.source:void 0,g=p!==v,b=this.getStack(),x=!b||b.members.length<=1,y=!!(g&&!x&&this.options.crossfade===!0&&!this.path.some(WH));this.animationProgress=0;let w;this.mixTargetDelta=j=>{const N=j/1e3;vj(f.x,o.x,N),vj(f.y,o.y,N),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Tc(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),BH(this.relativeTarget,this.relativeTargetOrigin,h,N),w&&bH(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=It()),hn(w,this.relativeTarget)),g&&(this.animationValues=u,pH(u,d,this.latestValues,N,y,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=N},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(zi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=mt.update(()=>{nf.hasAnimatedSinceResize=!0,this.currentAnimation=TH(0,gj,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(gj),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:u}=o;if(!(!l||!c||!d)){if(this!==o&&this.layout&&d&&lD(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||It();const f=cn(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+f;const h=cn(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+h}hn(l,c),xo(l,u),Pc(this.projectionDeltaWithTransform,this.layoutCorrected,l,u)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new jH),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const d={};c.z&&Lp("z",o,d,this.animationValues);for(let u=0;u<Ip.length;u++)Lp(`rotate${Ip[u]}`,o,d,this.animationValues),Lp(`skew${Ip[u]}`,o,d,this.animationValues);o.render();for(const u in d)o.setStaticValue(u,d[u]),this.animationValues&&(this.animationValues[u]=d[u]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return EH;const d={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=sf(o==null?void 0:o.pointerEvents)||"",d.transform=u?u(this.latestValues,""):"none",d;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=sf(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!na(this.latestValues)&&(g.transform=u?u({},""):"none",this.hasProjected=!1),g}const h=f.animationValues||f.latestValues;this.applyTransformsToTarget(),d.transform=NH(this.projectionDeltaWithTransform,this.treeScale,h),u&&(d.transform=u(h,d.transform));const{x:p,y:v}=this.projectionDelta;d.transformOrigin=`${p.origin*100}% ${v.origin*100}% 0`,f.animationValues?d.opacity=f===this?(c=(l=h.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:d.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const g in mh){if(h[g]===void 0)continue;const{correct:b,applyTo:x}=mh[g],y=d.transform==="none"?h[g]:b(h[g],f);if(x){const w=x.length;for(let j=0;j<w;j++)d[x[j]]=y}else d[g]=y}return this.options.layoutId&&(d.pointerEvents=f===this?sf(o==null?void 0:o.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(xj),this.root.sharedNodes.clear()}}}function DH(e){e.updateLayout()}function MH(e){var t;const r=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&r&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=e.layout,{animationType:a}=e.options,o=r.source!==e.layout.source;a==="size"?mn(f=>{const h=o?r.measuredBox[f]:r.layoutBox[f],p=cn(h);h.min=n[f].min,h.max=h.min+p}):lD(a,r.layoutBox,n)&&mn(f=>{const h=o?r.measuredBox[f]:r.layoutBox[f],p=cn(n[f]);h.max=h.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+p)});const l=po();Pc(l,n,r.layoutBox);const c=po();o?Pc(c,e.applyTransform(i,!0),r.measuredBox):Pc(c,n,r.layoutBox);const d=!sD(l);let u=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:p}=f;if(h&&p){const v=It();Tc(v,r.layoutBox,h.layoutBox);const g=It();Tc(g,n,p.layoutBox),iD(v,g)||(u=!0),f.options.layoutRoot&&(e.relativeTarget=g,e.relativeTargetOrigin=v,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeTargetChanged:u})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function AH(e){lc&&sa.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function RH(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function OH(e){e.clearSnapshot()}function xj(e){e.clearMeasurements()}function FH(e){e.isLayoutDirty=!1}function IH(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function yj(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function LH(e){e.resolveTargetDelta()}function VH(e){e.calcProjection()}function $H(e){e.resetSkewAndRotation()}function zH(e){e.removeLeadSnapshot()}function vj(e,t,r){e.translate=Et(t.translate,0,r),e.scale=Et(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function wj(e,t,r,n){e.min=Et(t.min,r.min,n),e.max=Et(t.max,r.max,n)}function BH(e,t,r,n){wj(e.x,t.x,r.x,n),wj(e.y,t.y,r.y,n)}function WH(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const UH={duration:.45,ease:[.4,0,.1,1]},bj=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),jj=bj("applewebkit/")&&!bj("chrome/")?Math.round:mr;function Nj(e){e.min=jj(e.min),e.max=jj(e.max)}function HH(e){Nj(e.x),Nj(e.y)}function lD(e,t,r){return e==="position"||e==="preserve-aspect"&&!KU(mj(t),mj(r),.2)}function KH(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const YH=oD({attachResizeListener:(e,t)=>Ds(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Vp={current:void 0},cD=oD({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Vp.current){const e=new YH({});e.mount(window),e.setOptions({layoutScroll:!0}),Vp.current=e}return Vp.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),qH={pan:{Feature:lH},drag:{Feature:oH,ProjectionNode:cD,MeasureLayout:tD}};function kj(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r);const i=n[r?"onHoverStart":"onHoverEnd"];i&&mt.postRender(()=>i(t,Jd(t)))}class GH extends Zi{mount(){const{current:t,props:r}=this.node;t&&(this.unmount=FU(t,n=>(kj(this.node,n,!0),i=>kj(this.node,i,!1)),{passive:!r.onHoverStart&&!r.onHoverEnd}))}unmount(){}}class QH extends Zi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ti(Ds(this.node.current,"focus",()=>this.onFocus()),Ds(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const dD=(e,t)=>t?e===t?!0:dD(e,t.parentElement):!1;function $p(e,t){if(!t)return;const r=new PointerEvent("pointer"+e);t(r,Jd(r))}class ZH extends Zi{constructor(){super(...arguments),this.removeStartListeners=mr,this.removeEndListeners=mr,this.removeAccessibleListeners=mr,this.startPointerPress=(t,r)=>{if(this.isPressing)return;this.removeEndListeners();const n=this.node.getProps(),a=Ei(window,"pointerup",(l,c)=>{if(!this.checkPressEnd())return;const{onTap:d,onTapCancel:u,globalTapTarget:f}=this.node.getProps(),h=!f&&!dD(this.node.current,l.target)?u:d;h&&mt.update(()=>h(l,c))},{passive:!(n.onTap||n.onPointerUp)}),o=Ei(window,"pointercancel",(l,c)=>this.cancelPress(l,c),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=Ti(a,o),this.startPress(t,r)},this.startAccessiblePress=()=>{const t=a=>{if(a.key!=="Enter"||this.isPressing)return;const o=l=>{l.key!=="Enter"||!this.checkPressEnd()||$p("up",(c,d)=>{const{onTap:u}=this.node.getProps();u&&mt.postRender(()=>u(c,d))})};this.removeEndListeners(),this.removeEndListeners=Ds(this.node.current,"keyup",o),$p("down",(l,c)=>{this.startPress(l,c)})},r=Ds(this.node.current,"keydown",t),n=()=>{this.isPressing&&$p("cancel",(a,o)=>this.cancelPress(a,o))},i=Ds(this.node.current,"blur",n);this.removeAccessibleListeners=Ti(r,i)}}startPress(t,r){this.isPressing=!0;const{onTapStart:n,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&mt.postRender(()=>n(t,r))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!W4()}cancelPress(t,r){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&mt.postRender(()=>n(t,r))}mount(){const t=this.node.getProps(),r=Ei(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),n=Ds(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Ti(r,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const zx=new WeakMap,zp=new WeakMap,XH=e=>{const t=zx.get(e.target);t&&t(e)},JH=e=>{e.forEach(XH)};function eK({root:e,...t}){const r=e||document;zp.has(r)||zp.set(r,{});const n=zp.get(r),i=JSON.stringify(t);return n[i]||(n[i]=new IntersectionObserver(JH,{root:e,...t})),n[i]}function tK(e,t,r){const n=eK(t);return zx.set(e,r),n.observe(e),()=>{zx.delete(e),n.unobserve(e)}}const rK={some:0,all:1};class nK extends Zi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:i="some",once:a}=t,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:rK[i]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,a&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:u,onViewportLeave:f}=this.node.getProps(),h=d?u:f;h&&h(c)};return tK(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(sK(t,r))&&this.startObserver()}unmount(){}}function sK({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const iK={inView:{Feature:nK},tap:{Feature:ZH},focus:{Feature:QH},hover:{Feature:GH}},aK={layout:{ProjectionNode:cD,MeasureLayout:tD}},E0=m.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Cm=m.createContext({}),_0=typeof window<"u",uD=_0?m.useLayoutEffect:m.useEffect,fD=m.createContext({strict:!1});function oK(e,t,r,n,i){var a,o;const{visualElement:l}=m.useContext(Cm),c=m.useContext(fD),d=m.useContext(Sm),u=m.useContext(E0).reducedMotion,f=m.useRef();n=n||c.renderer,!f.current&&n&&(f.current=n(e,{visualState:t,parent:l,props:r,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:u}));const h=f.current,p=m.useContext(eD);h&&!h.projection&&i&&(h.type==="html"||h.type==="svg")&&lK(f.current,r,i,p);const v=m.useRef(!1);m.useInsertionEffect(()=>{h&&v.current&&h.update(r,d)});const g=r[V4],b=m.useRef(!!g&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,g))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,g)));return uD(()=>{h&&(v.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),T0.render(h.render),b.current&&h.animationState&&h.animationState.animateChanges())}),m.useEffect(()=>{h&&(!b.current&&h.animationState&&h.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{var x;(x=window.MotionHandoffMarkAsComplete)===null||x===void 0||x.call(window,g)}),b.current=!1))}),h}function lK(e,t,r,n){const{layoutId:i,layout:a,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:d}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:hD(e.parent)),e.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!o||l&&mo(l),visualElement:e,animationType:typeof a=="string"?a:"both",initialPromotionConfig:n,layoutScroll:c,layoutRoot:d})}function hD(e){if(e)return e.options.allowProjection!==!1?e.projection:hD(e.parent)}function cK(e,t,r){return m.useCallback(n=>{n&&e.mount&&e.mount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):mo(r)&&(r.current=n))},[t])}function Pm(e){return jm(e.animate)||o0.some(t=>yd(e[t]))}function mD(e){return!!(Pm(e)||e.variants)}function dK(e,t){if(Pm(e)){const{initial:r,animate:n}=e;return{initial:r===!1||yd(r)?r:void 0,animate:yd(n)?n:void 0}}return e.inherit!==!1?t:{}}function uK(e){const{initial:t,animate:r}=dK(e,m.useContext(Cm));return m.useMemo(()=>({initial:t,animate:r}),[Sj(t),Sj(r)])}function Sj(e){return Array.isArray(e)?e.join(" "):e}const Cj={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},hl={};for(const e in Cj)hl[e]={isEnabled:t=>Cj[e].some(r=>!!t[r])};function fK(e){for(const t in e)hl[t]={...hl[t],...e[t]}}const hK=Symbol.for("motionComponentSymbol");function mK({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:n,Component:i}){e&&fK(e);function a(l,c){let d;const u={...m.useContext(E0),...l,layoutId:pK(l)},{isStatic:f}=u,h=uK(l),p=n(l,f);if(!f&&_0){gK();const v=xK(u);d=v.MeasureLayout,h.visualElement=oK(i,p,u,t,v.ProjectionNode)}return s.jsxs(Cm.Provider,{value:h,children:[d&&h.visualElement?s.jsx(d,{visualElement:h.visualElement,...u}):null,r(i,l,cK(p,h.visualElement,c),p,f,h.visualElement)]})}const o=m.forwardRef(a);return o[hK]=i,o}function pK({layoutId:e}){const t=m.useContext(P0).id;return t&&e!==void 0?t+"-"+e:e}function gK(e,t){m.useContext(fD).strict}function xK(e){const{drag:t,layout:r}=hl;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(e)||r!=null&&r.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const yK=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function D0(e){return typeof e!="string"||e.includes("-")?!1:!!(yK.indexOf(e)>-1||/[A-Z]/u.test(e))}function pD(e,{style:t,vars:r},n,i){Object.assign(e.style,t,i&&i.getProjectionStyles(n));for(const a in r)e.style.setProperty(a,r[a])}const gD=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function xD(e,t,r,n){pD(e,t,void 0,n);for(const i in t.attrs)e.setAttribute(gD.has(i)?i:C0(i),t.attrs[i])}function yD(e,{layout:t,layoutId:r}){return Ua.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!mh[e]||e==="opacity")}function M0(e,t,r){var n;const{style:i}=e,a={};for(const o in i)(hr(i[o])||t.style&&hr(t.style[o])||yD(o,e)||((n=r==null?void 0:r.getValue(o))===null||n===void 0?void 0:n.liveStyle)!==void 0)&&(a[o]=i[o]);return a}function vD(e,t,r){const n=M0(e,t,r);for(const i in e)if(hr(e[i])||hr(t[i])){const a=Qd.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;n[a]=e[i]}return n}function A0(e){const t=m.useRef(null);return t.current===null&&(t.current=e()),t.current}function vK({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:r},n,i,a){const o={latestValues:wK(n,i,a,e),renderState:t()};return r&&(o.mount=l=>r(n,l,o)),o}const wD=e=>(t,r)=>{const n=m.useContext(Cm),i=m.useContext(Sm),a=()=>vK(e,t,n,i);return r?a():A0(a)};function wK(e,t,r,n){const i={},a=n(e,{});for(const h in a)i[h]=sf(a[h]);let{initial:o,animate:l}=e;const c=Pm(e),d=mD(e);t&&d&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let u=r?r.initial===!1:!1;u=u||o===!1;const f=u?l:o;if(f&&typeof f!="boolean"&&!jm(f)){const h=Array.isArray(f)?f:[f];for(let p=0;p<h.length;p++){const v=i0(e,h[p]);if(v){const{transitionEnd:g,transition:b,...x}=v;for(const y in x){let w=x[y];if(Array.isArray(w)){const j=u?w.length-1:0;w=w[j]}w!==null&&(i[y]=w)}for(const y in g)i[y]=g[y]}}}return i}const R0=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),bD=()=>({...R0(),attrs:{}}),jD=(e,t)=>t&&typeof e=="number"?t.transform(e):e,bK={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},jK=Qd.length;function NK(e,t,r){let n="",i=!0;for(let a=0;a<jK;a++){const o=Qd[a],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||r){const d=jD(l,p0[o]);if(!c){i=!1;const u=bK[o]||o;n+=`${u}(${d}) `}r&&(t[o]=d)}}return n=n.trim(),r?n=r(t,i?"":n):i&&(n="none"),n}function O0(e,t,r){const{style:n,vars:i,transformOrigin:a}=e;let o=!1,l=!1;for(const c in t){const d=t[c];if(Ua.has(c)){o=!0;continue}else if(m4(c)){i[c]=d;continue}else{const u=jD(d,p0[c]);c.startsWith("origin")?(l=!0,a[c]=u):n[c]=u}}if(t.transform||(o||r?n.transform=NK(t,e.transform,r):n.transform&&(n.transform="none")),l){const{originX:c="50%",originY:d="50%",originZ:u=0}=a;n.transformOrigin=`${c} ${d} ${u}`}}function Pj(e,t,r){return typeof e=="string"?e:ke.transform(t+r*e)}function kK(e,t,r){const n=Pj(t,e.x,e.width),i=Pj(r,e.y,e.height);return`${n} ${i}`}const SK={offset:"stroke-dashoffset",array:"stroke-dasharray"},CK={offset:"strokeDashoffset",array:"strokeDasharray"};function PK(e,t,r=1,n=0,i=!0){e.pathLength=1;const a=i?SK:CK;e[a.offset]=ke.transform(-n);const o=ke.transform(t),l=ke.transform(r);e[a.array]=`${o} ${l}`}function F0(e,{attrX:t,attrY:r,attrScale:n,originX:i,originY:a,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...d},u,f){if(O0(e,d,f),u){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:p,dimensions:v}=e;h.transform&&(v&&(p.transform=h.transform),delete h.transform),v&&(i!==void 0||a!==void 0||p.transform)&&(p.transformOrigin=kK(v,i!==void 0?i:.5,a!==void 0?a:.5)),t!==void 0&&(h.x=t),r!==void 0&&(h.y=r),n!==void 0&&(h.scale=n),o!==void 0&&PK(h,o,l,c,!1)}const I0=e=>typeof e=="string"&&e.toLowerCase()==="svg",TK={useVisualState:wD({scrapeMotionValuesFromProps:vD,createRenderState:bD,onMount:(e,t,{renderState:r,latestValues:n})=>{mt.read(()=>{try{r.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{r.dimensions={x:0,y:0,width:0,height:0}}}),mt.render(()=>{F0(r,n,I0(t.tagName),e.transformTemplate),xD(t,r)})}})},EK={useVisualState:wD({scrapeMotionValuesFromProps:M0,createRenderState:R0})};function ND(e,t,r){for(const n in t)!hr(t[n])&&!yD(n,r)&&(e[n]=t[n])}function _K({transformTemplate:e},t){return m.useMemo(()=>{const r=R0();return O0(r,t,e),Object.assign({},r.vars,r.style)},[t])}function DK(e,t){const r=e.style||{},n={};return ND(n,r,e),Object.assign(n,_K(e,t)),n}function MK(e,t){const r={},n=DK(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}const AK=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ph(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||AK.has(e)}let kD=e=>!ph(e);function RK(e){e&&(kD=t=>t.startsWith("on")?!ph(t):e(t))}try{RK(require("@emotion/is-prop-valid").default)}catch{}function OK(e,t,r){const n={};for(const i in e)i==="values"&&typeof e.values=="object"||(kD(i)||r===!0&&ph(i)||!t&&!ph(i)||e.draggable&&i.startsWith("onDrag"))&&(n[i]=e[i]);return n}function FK(e,t,r,n){const i=m.useMemo(()=>{const a=bD();return F0(a,t,I0(n),e.transformTemplate),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};ND(a,e.style,e),i.style={...a,...i.style}}return i}function IK(e=!1){return(r,n,i,{latestValues:a},o)=>{const c=(D0(r)?FK:MK)(n,a,o,r),d=OK(n,typeof r=="string",e),u=r!==m.Fragment?{...d,...c,ref:i}:{},{children:f}=n,h=m.useMemo(()=>hr(f)?f.get():f,[f]);return m.createElement(r,{...u,children:h})}}function LK(e,t){return function(n,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...D0(n)?TK:EK,preloadedFeatures:e,useRender:IK(i),createVisualElement:t,Component:n};return mK(o)}}const Bx={current:null},SD={current:!1};function VK(){if(SD.current=!0,!!_0)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Bx.current=e.matches;e.addListener(t),t()}else Bx.current=!1}function $K(e,t,r){for(const n in t){const i=t[n],a=r[n];if(hr(i))e.addValue(n,i);else if(hr(a))e.addValue(n,bd(i,{owner:e}));else if(a!==i)if(e.hasValue(n)){const o=e.getValue(n);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=e.getStaticValue(n);e.addValue(n,bd(o!==void 0?o:i,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const Tj=new WeakMap,zK=[...x4,ur,Bi],BK=e=>zK.find(g4(e)),Ej=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class WK{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:i,blockInitialAnimation:a,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=f0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=fs.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,mt.render(this.render,!1,!0))};const{latestValues:c,renderState:d}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=d,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.blockInitialAnimation=!!a,this.isControllingVariants=Pm(r),this.isVariantNode=mD(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...f}=this.scrapeMotionValuesFromProps(r,{},this);for(const h in f){const p=f[h];c[h]!==void 0&&hr(p)&&p.set(c[h],!1)}}mount(t){this.current=t,Tj.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),SD.current||VK(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Bx.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Tj.delete(this.current),this.projection&&this.projection.unmount(),zi(this.notifyUpdate),zi(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=Ua.has(t),i=r.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&mt.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),a=r.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{i(),a(),o&&o(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in hl){const r=hl[t];if(!r)continue;const{isEnabled:n,Feature:i}=r;if(!this.features[t]&&i&&n(this.props)&&(this.features[t]=new i(this)),this.features[t]){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):It()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<Ej.length;n++){const i=Ej[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,o=t[a];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=$K(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=bd(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){var n;let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(f4(i)||u4(i))?i=parseFloat(i):!BK(i)&&Bi.test(r)&&(i=S4(t,r)),this.setBaseTarget(t,hr(i)?i.get():i)),hr(i)?i.get():i}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var r;const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const o=i0(this.props,n,(r=this.presenceContext)===null||r===void 0?void 0:r.custom);o&&(i=o[t])}if(n&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!hr(a)?a:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new S0),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class CD extends WK{constructor(){super(...arguments),this.KeyframeResolver=C4}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;hr(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function UK(e){return window.getComputedStyle(e)}class HK extends CD{constructor(){super(...arguments),this.type="html",this.renderInstance=pD}readValueFromInstance(t,r){if(Ua.has(r)){const n=g0(r);return n&&n.default||0}else{const n=UK(t),i=(m4(r)?n.getPropertyValue(r):n[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:r}){return X4(t,r)}build(t,r,n){O0(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return M0(t,r,n)}}class KK extends CD{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=It}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(Ua.has(r)){const n=g0(r);return n&&n.default||0}return r=gD.has(r)?r:C0(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return vD(t,r,n)}build(t,r,n){F0(t,r,this.isSVGTag,n.transformTemplate)}renderInstance(t,r,n,i){xD(t,r,n,i)}mount(t){this.isSVGTag=I0(t.tagName),super.mount(t)}}const YK=(e,t)=>D0(e)?new KK(t):new HK(t,{allowProjection:e!==m.Fragment}),qK=LK({...RU,...iK,...qH,...aK},YK),nt=MB(qK);class GK extends m.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=r.offsetHeight||0,n.width=r.offsetWidth||0,n.top=r.offsetTop,n.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function QK({children:e,isPresent:t}){const r=m.useId(),n=m.useRef(null),i=m.useRef({width:0,height:0,top:0,left:0}),{nonce:a}=m.useContext(E0);return m.useInsertionEffect(()=>{const{width:o,height:l,top:c,left:d}=i.current;if(t||!n.current||!o||!l)return;n.current.dataset.motionPopId=r;const u=document.createElement("style");return a&&(u.nonce=a),document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${l}px !important;
            top: ${c}px !important;
            left: ${d}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),s.jsx(GK,{isPresent:t,childRef:n,sizeRef:i,children:m.cloneElement(e,{ref:n})})}const ZK=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:i,presenceAffectsLayout:a,mode:o})=>{const l=A0(XK),c=m.useId(),d=m.useCallback(f=>{l.set(f,!0);for(const h of l.values())if(!h)return;n&&n()},[l,n]),u=m.useMemo(()=>({id:c,initial:t,isPresent:r,custom:i,onExitComplete:d,register:f=>(l.set(f,!1),()=>l.delete(f))}),a?[Math.random(),d]:[r,d]);return m.useMemo(()=>{l.forEach((f,h)=>l.set(h,!1))},[r]),m.useEffect(()=>{!r&&!l.size&&n&&n()},[r]),o==="popLayout"&&(e=s.jsx(QK,{isPresent:r,children:e})),s.jsx(Sm.Provider,{value:u,children:e})};function XK(){return new Map}const Du=e=>e.key||"";function _j(e){const t=[];return m.Children.forEach(e,r=>{m.isValidElement(r)&&t.push(r)}),t}const PD=({children:e,exitBeforeEnter:t,custom:r,initial:n=!0,onExitComplete:i,presenceAffectsLayout:a=!0,mode:o="sync"})=>{const l=m.useMemo(()=>_j(e),[e]),c=l.map(Du),d=m.useRef(!0),u=m.useRef(l),f=A0(()=>new Map),[h,p]=m.useState(l),[v,g]=m.useState(l);uD(()=>{d.current=!1,u.current=l;for(let y=0;y<v.length;y++){const w=Du(v[y]);c.includes(w)?f.delete(w):f.get(w)!==!0&&f.set(w,!1)}},[v,c.length,c.join("-")]);const b=[];if(l!==h){let y=[...l];for(let w=0;w<v.length;w++){const j=v[w],N=Du(j);c.includes(N)||(y.splice(w,0,j),b.push(j))}o==="wait"&&b.length&&(y=b),g(_j(y)),p(l);return}const{forceRender:x}=m.useContext(P0);return s.jsx(s.Fragment,{children:v.map(y=>{const w=Du(y),j=l===v||c.includes(w),N=()=>{if(f.has(w))f.set(w,!0);else return;let P=!0;f.forEach(S=>{S||(P=!1)}),P&&(x==null||x(),g(u.current),i&&i())};return s.jsx(ZK,{isPresent:j,initial:!d.current||n?void 0:!1,custom:j?void 0:r,presenceAffectsLayout:a,mode:o,onExitComplete:j?void 0:N,children:y},w)})})},JK=Sc.object({inviteCode:Sc.string().min(6,{message:"Invite code must be at least 6 characters"}).max(12,{message:"Invite code cannot be more than 12 characters"})});function eY(){const[e,t]=Qt(),{user:r}=vr(),{toast:n}=vt(),i=k_({resolver:U_(JK),defaultValues:{inviteCode:""}}),a=Ae({mutationFn:async d=>{if(!r)throw new Error("You must be logged in to join a trip");return(await je("POST","/api/trips/join",{inviteCode:d.inviteCode,userId:r.id})).json()},onSuccess:d=>{n({title:"Success!",description:"You've joined the trip successfully.",variant:"default"}),d.tripId?t(`/trips/${d.tripId}`):t("/")},onError:d=>{n({title:"Failed to join trip",description:d.message||"Please check the invite code and try again.",variant:"destructive"})}}),o=d=>{a.mutate(d)};if(!r)return t("/auth"),null;const l={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.15,delayChildren:.1}}},c={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{type:"spring",stiffness:300,damping:24}}};return s.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4 bg-background relative overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[s.jsx("div",{className:"absolute top-[-10%] left-[-5%] w-[30%] h-[30%] rounded-full bg-blue-400/20 dark:bg-blue-400/10 blur-3xl animate-pulse"}),s.jsx("div",{className:"absolute bottom-[-5%] right-[-10%] w-[35%] h-[35%] rounded-full bg-cyan-400/20 dark:bg-cyan-400/10 blur-3xl animate-pulse",style:{animationDelay:"1.5s",animationDuration:"7s"}}),s.jsx("div",{className:"absolute top-[60%] left-[60%] w-[25%] h-[25%] rounded-full bg-indigo-400/15 dark:bg-indigo-400/10 blur-3xl animate-pulse",style:{animationDelay:"0.7s",animationDuration:"8s"}}),s.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(#e0e7ff_1px,transparent_1px)] dark:bg-[radial-gradient(#1e293b_1px,transparent_1px)] [background-size:20px_20px] opacity-20 dark:opacity-20"})]}),s.jsx(nt.div,{initial:{opacity:0,scale:.98},animate:{opacity:1,scale:1},transition:{duration:.5},className:"w-full max-w-md relative z-10",children:s.jsxs(Ce,{className:"max-w-md w-full border-0 dark:border dark:border-slate-700 shadow-xl dark:bg-slate-800/90 bg-white/95 backdrop-blur-sm",children:[s.jsx(Ot,{className:"pb-4 border-b border-gray-200 dark:border-slate-700",children:s.jsxs(nt.div,{className:"flex justify-between items-center",variants:l,initial:"hidden",animate:"visible",children:[s.jsxs(nt.div,{variants:c,children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"h-10 w-10 rounded-full bg-gradient-to-br from-blue-500 to-blue-600 dark:from-blue-600 dark:to-blue-400 flex items-center justify-center shadow-md",children:s.jsx(pC,{className:"h-5 w-5 text-white"})}),s.jsx(Ft,{className:"text-2xl font-bold text-gray-800 dark:text-white bg-gradient-to-r from-blue-600 to-blue-400 bg-clip-text text-transparent",children:"Join a Trip"})]}),s.jsx(Kr,{className:"text-gray-600 dark:text-gray-300 mt-2.5 ml-[3.25rem]",children:"Enter the invite code provided by the trip creator."})]}),s.jsx(nt.div,{variants:c,children:s.jsx(He,{className:"bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 dark:from-blue-600 dark:to-blue-500 text-white shadow-sm",children:"Invitation"})})]})}),s.jsxs(Me,{className:"pt-6",children:[s.jsx(nt.div,{variants:c,initial:"hidden",animate:"visible",transition:{delay:.3},className:"bg-gradient-to-r from-blue-50 to-blue-100 dark:from-blue-900/30 dark:to-blue-800/20 p-5 rounded-xl mb-7 border border-blue-200 dark:border-blue-800/70 shadow-sm",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"mr-3.5 mt-0.5",children:s.jsx("div",{className:"h-8 w-8 rounded-full bg-blue-100 dark:bg-blue-800/40 flex items-center justify-center",children:s.jsx(wb,{className:"h-4.5 w-4.5 text-blue-600 dark:text-blue-400"})})}),s.jsx("div",{children:s.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-300 leading-relaxed",children:["Trip creators can share their invite code with you. The code is usually 8 characters long and looks like ",s.jsx("span",{className:"font-mono bg-blue-200/70 dark:bg-blue-700/60 px-2 py-0.5 rounded text-blue-700 dark:text-blue-200",children:"AbC12dEf"})]})})]})}),s.jsx(S_,{...i,children:s.jsxs(nt.form,{onSubmit:i.handleSubmit(o),className:"space-y-6",variants:l,initial:"hidden",animate:"visible",transition:{delay:.4},children:[s.jsx(nt.div,{variants:c,children:s.jsx(yx,{control:i.control,name:"inviteCode",render:({field:d})=>s.jsxs(Xf,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Jf,{className:"text-gray-700 dark:text-gray-200 font-medium text-base",children:"Invite Code"}),s.jsx(Re,{children:s.jsxs(Ie,{children:[s.jsx(Le,{asChild:!0,children:s.jsx(F,{variant:"ghost",className:"h-7 w-7 p-0 rounded-full hover:bg-blue-50 dark:hover:bg-blue-900/30",children:s.jsx(wb,{className:"h-4 w-4 text-blue-500/80 dark:text-blue-400/80"})})}),s.jsx(Oe,{className:"bg-white dark:bg-slate-800 text-gray-700 dark:text-gray-200 shadow-lg border border-blue-100 dark:border-blue-900",children:s.jsx("p",{children:"Enter the code exactly as it was shared with you"})})]})})]}),s.jsx(eh,{children:s.jsxs("div",{className:"relative mt-1.5",children:[s.jsx(me,{placeholder:"ENTER YOUR INVITE CODE",...d,className:"pl-12 text-center tracking-wider uppercase bg-white dark:bg-slate-900/70 border-blue-200 dark:border-blue-800/50 focus:border-blue-400 dark:focus:border-blue-500 focus:ring-2 focus:ring-blue-400/30 dark:focus:ring-blue-500/30 h-12 font-mono text-lg shadow-sm dark:shadow-inner dark:shadow-slate-900/40 rounded-lg transition-all duration-200"}),s.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-blue-500 dark:text-blue-400",children:s.jsx(xO,{className:"h-6 w-6"})})]})}),s.jsx(th,{className:"mt-2 font-medium"})]})})}),s.jsx(nt.div,{className:"pt-3",variants:c,children:s.jsx(F,{type:"submit",className:"w-full h-12 bg-gradient-to-r from-blue-600 to-blue-500 hover:from-blue-700 hover:to-blue-600 dark:from-blue-600 dark:to-blue-500 dark:hover:from-blue-500 dark:hover:to-blue-400 text-white shadow-md hover:shadow-lg transition-all duration-200 rounded-lg",disabled:a.isPending,children:a.isPending?s.jsxs(nt.div,{className:"flex items-center justify-center",initial:{opacity:0},animate:{opacity:1},transition:{duration:.2},children:[s.jsx(Pr,{className:"mr-2 h-5 w-5 animate-spin"}),s.jsx("span",{className:"font-medium",children:"Joining Trip..."})]}):s.jsxs(nt.div,{className:"flex items-center justify-center",whileHover:{scale:1.03},transition:{type:"spring",stiffness:400,damping:10},children:[s.jsx(Xt,{className:"mr-2 h-5 w-5"}),s.jsx("span",{className:"font-medium",children:"Join Trip"})]})})})]})}),s.jsx(nt.div,{className:"mt-6 flex items-center justify-center",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.6,duration:.4},children:s.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Don't have an invite code? "," ",s.jsxs(F,{variant:"link",className:"text-blue-600 dark:text-blue-400 font-medium p-0 h-auto hover:text-blue-700 dark:hover:text-blue-300 transition-colors",onClick:()=>t("/create-trip"),children:["Create your own trip",s.jsx(eC,{className:"ml-1 h-3.5 w-3.5 animate-pulse"})]})," ","instead."]})})]}),s.jsx(Hn,{className:"flex justify-center border-t border-gray-200 dark:border-slate-700 pt-5 pb-5",children:s.jsx(nt.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.7},children:s.jsxs(F,{variant:"ghost",onClick:()=>t("/"),className:"text-gray-600 dark:text-gray-300 hover:bg-blue-50 dark:hover:bg-blue-900/20 hover:text-blue-600 dark:hover:text-blue-400 flex items-center gap-2 transition-colors px-4 py-2 rounded-full",children:[s.jsx(Fh,{className:"h-4 w-4"}),"Back to Dashboard"]})})})]})})]})}function tY(){const[e,t]=Qt(),{user:r}=vr(),[n,i]=m.useState(""),[a,o]=m.useState("newest"),{data:l,isLoading:c,error:d}=kt({queryKey:["/api/trips",r==null?void 0:r.id],enabled:!!(r!=null&&r.id),queryFn:async()=>{if(!(r!=null&&r.id))return[];const v=await fetch(`/api/trips?userId=${r.id}`);if(!v.ok)throw new Error("Failed to fetch trips");return v.json()}}),f=((l==null?void 0:l.filter(v=>v.isPast===!0))||[]).filter(v=>{if(!n)return!0;const g=n.toLowerCase();return v.name.toLowerCase().includes(g)||v.location&&v.location.toLowerCase().includes(g)||v.description&&v.description.toLowerCase().includes(g)}),h=v=>v?new Date(v).getTime():Date.now(),p=[...f].sort((v,g)=>{switch(a){case"newest":return h(g.endDate)-h(v.endDate);case"oldest":return h(v.endDate)-h(g.endDate);case"az":return v.name.localeCompare(g.name);case"za":return g.name.localeCompare(v.name);default:return 0}});return r?s.jsxs("div",{className:"container px-4 py-6 pb-36 mx-auto page-with-bottom-nav w-full h-full",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-6 gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl sm:text-2xl font-bold",style:{color:"var(--foreground)"},children:"Past Trips"}),s.jsx("p",{className:"text-sm sm:text-base mt-1",style:{color:"var(--foreground)",opacity:"0.7"},children:"View all your completed trips"})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full md:w-auto mt-2 md:mt-0",children:[s.jsxs("div",{className:"relative w-full sm:w-auto",children:[s.jsx(Jg,{className:"absolute left-2.5 top-2.5 h-4 w-4",style:{color:"var(--muted-foreground)"}}),s.jsx(me,{type:"search",placeholder:"Search past trips...",className:"pl-9 w-full sm:w-[200px] md:w-[250px] lg:w-[300px] bg-background border-border",value:n,onChange:v=>i(v.target.value)})]}),s.jsxs(tn,{value:a,onValueChange:v=>o(v),children:[s.jsx($r,{className:"w-full sm:w-[140px] bg-background border-border",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(wO,{className:"mr-2 h-4 w-4"}),s.jsx(rn,{placeholder:"Sort by"})]})}),s.jsxs(zr,{children:[s.jsx(we,{value:"newest",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(yb,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:"Newest first"})]})}),s.jsx(we,{value:"oldest",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(vb,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:"Oldest first"})]})}),s.jsx(we,{value:"az",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(vb,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:"A to Z"})]})}),s.jsx(we,{value:"za",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(yb,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:"Z to A"})]})})]})]})]})]}),s.jsx("div",{className:"bg-primary/10 p-4 rounded-lg mb-6 border border-primary/20",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"mr-3 mt-1 flex-shrink-0",children:s.jsx(Ai,{className:"h-5 w-5 text-primary"})}),s.jsx("div",{children:s.jsx("p",{className:"text-xs sm:text-sm",style:{color:"var(--foreground)",opacity:"0.8"},children:"Past trips include all trips where the end date has passed or you've manually marked as completed. You can still access all data and memories from these trips."})})]})}),c?s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:[1,2,3,4,5,6].map(v=>s.jsxs("div",{className:"h-60 sm:h-64 bg-card rounded-xl shadow-sm border border-border animate-pulse",role:"status","aria-label":"Loading trip data",children:[s.jsx("div",{className:"h-28 sm:h-32 bg-muted rounded-t-xl"}),s.jsxs("div",{className:"p-3 sm:p-4 space-y-2 sm:space-y-3",children:[s.jsx("div",{className:"h-4 sm:h-5 bg-muted rounded w-2/3"}),s.jsx("div",{className:"h-3 sm:h-4 bg-muted rounded w-1/2"}),s.jsxs("div",{className:"flex justify-between mt-2 sm:mt-4",children:[s.jsxs("div",{className:"flex space-x-1",children:[s.jsx("div",{className:"w-6 h-6 sm:w-7 sm:h-7 rounded-full bg-muted"}),s.jsx("div",{className:"w-6 h-6 sm:w-7 sm:h-7 rounded-full bg-muted"})]}),s.jsx("div",{className:"h-3 sm:h-4 bg-muted rounded w-1/4"})]})]}),s.jsx("span",{className:"sr-only",children:"Loading trips..."})]},v))}):p.length>0?s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:p.map(v=>s.jsx(Zu,{trip:v,isPast:!0},v.id))}):s.jsx(Ce,{className:"shadow-md bg-card border-border",children:s.jsxs(Me,{className:"pt-8 pb-8 sm:pt-10 sm:pb-10 flex flex-col items-center justify-center px-4 sm:px-6",children:[s.jsx("div",{className:"w-14 h-14 sm:w-16 sm:h-16 bg-primary/10 rounded-full flex items-center justify-center text-primary mb-4 shadow-sm",children:s.jsx(Ai,{className:"h-6 w-6 sm:h-8 sm:w-8"})}),s.jsx("h3",{className:"text-lg sm:text-xl font-semibold mb-2 text-center",style:{color:"var(--foreground)"},children:"No Past Trips"}),s.jsx("p",{className:"text-sm sm:text-base text-center max-w-md mb-5 sm:mb-6",style:{color:"var(--foreground)",opacity:"0.7"},children:n?`No past trips matching "${n}"`:"You don't have any past trips yet. Your completed trips will appear here."}),s.jsx(F,{onClick:()=>t("/"),variant:"outline",className:"shadow-sm bg-background border-border text-sm sm:text-base",style:{color:"var(--foreground)"},children:"Back to Dashboard"})]})})]}):(t("/auth"),null)}function rY(){const[e,t]=m.useState(!1);return m.useEffect(()=>{const r=setTimeout(()=>{t(!0)},1500);return()=>clearTimeout(r)},[]),s.jsxs("div",{className:"min-h-screen w-full flex flex-col items-center justify-center bg-gradient-to-b from-gray-50 to-gray-100 dark:from-gray-900 dark:to-gray-800",children:[s.jsxs(nt.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-8 text-center",children:[s.jsx(nt.div,{className:"text-9xl font-bold text-primary-600 dark:text-primary-400 mb-4",initial:{scale:.8},animate:{scale:1},transition:{type:"spring",stiffness:200,damping:10},children:"404"}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-2",children:"Looks like you're lost"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 max-w-md mx-auto",children:"We couldn't find the page you're looking for. Maybe you took a wrong turn during your trip?"})]}),s.jsx(nt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.2,duration:.5},className:"w-full max-w-lg mx-4",children:s.jsxs(Ce,{className:"border-2 border-primary-200 dark:border-primary-900 shadow-lg",children:[s.jsx(Me,{className:"pt-6 pb-4",children:e?s.jsxs(nt.div,{className:"h-48 flex flex-col gap-2 items-center justify-center bg-gray-100 dark:bg-gray-800 rounded-lg",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[s.jsx(rc,{className:"h-16 w-16 text-amber-500 mb-2"}),s.jsx("p",{className:"text-center font-medium text-gray-800 dark:text-gray-200",children:"You've gone off the map!"}),s.jsx("p",{className:"text-center text-sm text-gray-600 dark:text-gray-400",children:"This destination doesn't exist in our TripMate."})]}):s.jsxs(nt.div,{className:"h-48 flex items-center justify-center",initial:{opacity:1},exit:{opacity:0},children:[s.jsx(nt.div,{animate:{rotate:360,transition:{duration:2,repeat:1/0,ease:"linear"}},children:s.jsx(lC,{className:"h-12 w-12 text-primary-500 dark:text-primary-400"})}),s.jsx("p",{className:"ml-4 text-gray-600 dark:text-gray-400",children:"Finding your bearings..."})]})}),s.jsx(Hn,{className:"flex justify-center pb-6 pt-2",children:s.jsx(_f,{href:"/",children:s.jsxs(F,{className:"px-6",size:"lg",children:[s.jsx(gO,{className:"mr-2 h-4 w-4"}),"Back to Dashboard"]})})})]})}),s.jsx(nt.p,{className:"mt-8 text-sm text-gray-500 dark:text-gray-500",initial:{opacity:0},animate:{opacity:.8},transition:{delay:1},children:"Lost traveler tip: Sometimes the best adventures start with a wrong turn."})]})}const nY={backgroundSize:"30px 30px",backgroundImage:`
    linear-gradient(to right, rgba(128, 128, 128, 0.1) 1px, transparent 1px),
    linear-gradient(to bottom, rgba(128, 128, 128, 0.1) 1px, transparent 1px)
  `};function sY(){const[e,t]=m.useState("login");m.useState(!1);const[r,n]=m.useState({username:"",password:""}),[i,a]=m.useState({username:"",password:"",confirmPassword:"",displayName:"",email:""}),[o,l]=m.useState(""),{user:c,loginMutation:d,registerMutation:u}=vr(),[,f]=Qt();m.useEffect(()=>{c&&f("/")},[c,f]),m.useEffect(()=>{n({username:"",password:""}),a({username:"",password:"",confirmPassword:"",displayName:"",email:""})},[]);const h=g=>{t(g),n({username:"",password:""}),a({username:"",password:"",confirmPassword:"",displayName:"",email:""}),l("")},p=g=>{g.preventDefault(),d.mutate(r)},v=g=>{if(g.preventDefault(),!i.displayName||!i.username||!i.email||!i.password){l("All fields are required");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(i.email)){l("Please enter a valid email address");return}if(i.password.length<6){l("Password must be at least 6 characters long");return}if(i.password!==i.confirmPassword){l("Passwords do not match");return}l(""),u.mutate({username:i.username,password:i.password,displayName:i.displayName,email:i.email})};return s.jsxs("div",{className:"flex min-h-[100dvh] flex-col bg-gradient-to-b from-background to-background/95 dark:from-background dark:to-background/95 relative overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0 md:hidden overflow-hidden",children:[s.jsx("div",{className:"absolute top-[-5%] left-[-10%] w-[40%] h-[40%] rounded-full bg-primary/20 dark:bg-primary/10 blur-3xl animate-pulse"}),s.jsx("div",{className:"absolute bottom-[-5%] right-[-10%] w-[40%] h-[40%] rounded-full bg-blue-500/20 dark:bg-blue-500/10 blur-3xl animate-pulse",style:{animationDelay:"1s",animationDuration:"7s"}}),s.jsx("div",{className:"absolute top-[60%] left-[60%] w-[30%] h-[30%] rounded-full bg-indigo-500/15 dark:bg-indigo-500/10 blur-3xl animate-pulse",style:{animationDelay:"2s",animationDuration:"8s"}}),s.jsx("div",{className:"absolute inset-0 opacity-[0.03] dark:opacity-[0.02]",style:nY})]}),s.jsxs("div",{className:"flex flex-1 flex-col md:flex-row overflow-hidden",children:[s.jsxs(nt.div,{className:"flex items-center justify-center w-full md:w-1/2 p-4 sm:p-6 md:p-8 overflow-auto relative z-10 min-h-[100dvh] md:min-h-0",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,ease:"easeOut"},children:[s.jsx("div",{className:"absolute inset-0 hidden md:block bg-gradient-to-b from-primary/5 to-primary/10 dark:from-primary/10 dark:to-primary/5 -z-10 backdrop-blur-sm"}),s.jsxs(Ce,{className:"w-full max-w-md my-4 shadow-xl border-0 dark:border border-primary/10 bg-background/95 backdrop-blur-md md:scale-100 scale-[0.98] hover:scale-100 transition-all duration-300",children:[s.jsxs(Ot,{className:"space-y-2 pb-2 pt-6",children:[s.jsx(nt.div,{className:"flex justify-center mb-3",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5,delay:.1},children:s.jsxs("div",{className:"size-16 md:size-18 flex items-center justify-center rounded-full bg-gradient-to-br from-primary to-blue-600 text-white shadow-lg relative",children:[s.jsx(pO,{className:"size-8 md:size-9"}),s.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-br from-primary to-blue-600 opacity-40 blur-md -z-10"})]})}),s.jsxs(nt.div,{initial:{y:-10,opacity:0},animate:{y:0,opacity:1},transition:{duration:.5,delay:.2},children:[s.jsx(Ft,{className:"text-2xl md:text-3xl font-bold text-center bg-gradient-to-r from-primary to-blue-600 text-transparent bg-clip-text",children:"TripMate"}),s.jsx(Kr,{className:"text-center text-sm md:text-base mt-1.5",children:"Your all-in-one platform for seamless group travel planning"})]})]}),s.jsxs(_v,{defaultValue:"login",value:e,onValueChange:h,className:"w-full",children:[s.jsxs(cm,{className:"grid w-full grid-cols-2 mb-4 rounded-md",children:[s.jsx(ss,{value:"login",className:"rounded-md data-[state=active]:bg-primary data-[state=active]:text-primary-foreground",children:"Login"}),s.jsx(ss,{value:"register",className:"rounded-md data-[state=active]:bg-primary data-[state=active]:text-primary-foreground",children:"Register"})]}),s.jsx(Do,{value:"login",children:s.jsxs("form",{onSubmit:p,className:"flex flex-col",autoComplete:"off",children:[s.jsxs(Me,{className:"space-y-4 py-2 px-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(G,{htmlFor:"login-username",className:"text-sm font-medium",children:"Username"}),s.jsxs("div",{className:"relative",children:[s.jsx(en,{className:"absolute left-3 top-1/2 -translate-y-1/2 size-4 text-muted-foreground"}),s.jsx(me,{id:"login-username",placeholder:"Enter your username",value:r.username,onChange:g=>n({...r,username:g.target.value}),required:!0,autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:"false",className:"pl-10 py-6 h-11 rounded-md border-muted bg-background/50"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx(G,{htmlFor:"login-password",className:"text-sm font-medium",children:"Password"}),s.jsx(F,{variant:"link",className:"p-0 h-auto text-xs font-medium text-primary",onClick:()=>f("/forgot-password"),type:"button",children:"Forgot password?"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(bc,{className:"absolute left-3 top-1/2 -translate-y-1/2 size-4 text-muted-foreground"}),s.jsx(me,{id:"login-password",type:"password",placeholder:"Enter your password",value:r.password,onChange:g=>n({...r,password:g.target.value}),required:!0,autoComplete:"new-password",className:"pl-10 py-6 h-11 rounded-md border-muted bg-background/50"})]})]})]}),s.jsxs(Hn,{className:"flex flex-col gap-4 px-6 py-4",children:[s.jsx(F,{type:"submit",className:"w-full py-6 h-11 font-medium rounded-md bg-gradient-to-r from-primary to-blue-600 hover:from-primary/90 hover:to-blue-600/90 shadow-md hover:shadow-lg transition-all duration-200",disabled:d.isPending,children:d.isPending?s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsxs("svg",{className:"animate-spin size-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Logging in..."]}):"Sign In"}),s.jsxs("p",{className:"text-center text-sm text-muted-foreground",children:["Don't have an account?"," ",s.jsx(F,{variant:"link",className:"p-0 h-auto text-sm font-medium text-primary hover:text-primary/90",onClick:()=>t("register"),type:"button",children:"Create one now"})]})]})]})}),s.jsx(Do,{value:"register",children:s.jsxs("form",{onSubmit:v,className:"flex flex-col",children:[s.jsxs(Me,{className:"space-y-4 py-2 px-6 max-h-[60vh] overflow-y-auto md:max-h-none md:overflow-visible",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(G,{htmlFor:"register-displayname",className:"text-sm font-medium",children:"Full Name"}),s.jsxs("div",{className:"relative",children:[s.jsx(en,{className:"absolute left-3 top-1/2 -translate-y-1/2 size-4 text-muted-foreground"}),s.jsx(me,{id:"register-displayname",placeholder:"Enter your full name",value:i.displayName,onChange:g=>a({...i,displayName:g.target.value}),required:!0,className:"pl-10 py-6 h-11 rounded-md border-muted bg-background/50"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(G,{htmlFor:"register-username",className:"text-sm font-medium",children:"Username"}),s.jsxs("div",{className:"relative",children:[s.jsx(yO,{className:"absolute left-3 top-1/2 -translate-y-1/2 size-4 text-muted-foreground"}),s.jsx(me,{id:"register-username",placeholder:"Create a username",value:i.username,onChange:g=>a({...i,username:g.target.value}),required:!0,className:"pl-10 py-6 h-11 rounded-md border-muted bg-background/50"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(G,{htmlFor:"register-email",className:"text-sm font-medium",children:"Email Address"}),s.jsxs("div",{className:"relative",children:[s.jsx(oC,{className:"absolute left-3 top-1/2 -translate-y-1/2 size-4 text-muted-foreground"}),s.jsx(me,{id:"register-email",type:"email",placeholder:"Enter your email",value:i.email,onChange:g=>a({...i,email:g.target.value}),required:!0,className:"pl-10 py-6 h-11 rounded-md border-muted bg-background/50"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(G,{htmlFor:"register-password",className:"text-sm font-medium",children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(bc,{className:"absolute left-3 top-1/2 -translate-y-1/2 size-4 text-muted-foreground"}),s.jsx(me,{id:"register-password",type:"password",placeholder:"Create a secure password",value:i.password,onChange:g=>a({...i,password:g.target.value}),required:!0,className:"pl-10 py-6 h-11 rounded-md border-muted bg-background/50"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(G,{htmlFor:"register-confirm-password",className:"text-sm font-medium",children:"Confirm Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(bc,{className:"absolute left-3 top-1/2 -translate-y-1/2 size-4 text-muted-foreground"}),s.jsx(me,{id:"register-confirm-password",type:"password",placeholder:"Confirm your password",value:i.confirmPassword,onChange:g=>a({...i,confirmPassword:g.target.value}),required:!0,className:"pl-10 py-6 h-11 rounded-md border-muted bg-background/50"})]}),o&&s.jsxs("p",{className:"text-xs text-red-500 mt-1 flex items-center gap-1",children:[s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"size-3.5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("circle",{cx:"12",cy:"12",r:"10"}),s.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),s.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),o]})]})]}),s.jsxs(Hn,{className:"flex flex-col gap-4 px-6 py-4",children:[s.jsx(F,{type:"submit",className:"w-full py-6 h-11 font-medium rounded-md bg-gradient-to-r from-primary to-blue-600 hover:from-primary/90 hover:to-blue-600/90 shadow-md hover:shadow-lg transition-all duration-200",disabled:u.isPending,children:u.isPending?s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsxs("svg",{className:"animate-spin size-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating account..."]}):"Create Account"}),s.jsxs("p",{className:"text-center text-sm text-muted-foreground",children:["Already have an account?"," ",s.jsx(F,{variant:"link",className:"p-0 h-auto text-sm font-medium text-primary hover:text-primary/90",onClick:()=>t("login"),type:"button",children:"Sign in"})]})]})]})})]})]})]}),s.jsxs(nt.div,{className:"hidden md:flex md:w-1/2 bg-gradient-to-br from-primary/90 to-blue-600/90 text-white flex-col justify-center p-10 lg:p-16 items-center relative overflow-hidden",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.2},children:[s.jsx("div",{className:"absolute top-0 right-0 w-80 h-80 bg-white/10 rounded-full filter blur-3xl -translate-y-1/2 translate-x-1/2"}),s.jsx("div",{className:"absolute bottom-0 left-0 w-80 h-80 bg-blue-500/20 rounded-full filter blur-3xl translate-y-1/2 -translate-x-1/2"}),s.jsxs("div",{className:"relative z-10 max-w-xl",children:[s.jsx("div",{className:"mb-8 flex justify-start",children:s.jsxs("div",{className:"flex items-center gap-3 bg-white/10 px-4 py-2 rounded-full backdrop-blur-sm",children:[s.jsx("span",{className:"size-6 bg-white rounded-full flex items-center justify-center",children:s.jsx(fC,{className:"size-3.5 text-primary"})}),s.jsx("span",{className:"text-sm font-medium",children:"The Ultimate Trip Planning Tool"})]})}),s.jsx("h1",{className:"text-4xl lg:text-5xl font-bold mb-6",children:"Plan Group Trips With Ease"}),s.jsx("p",{className:"text-lg lg:text-xl mb-10 text-white/80",children:"TripMate helps you coordinate with friends and family for your next adventure, making group travel planning seamless and enjoyable."}),s.jsxs("div",{className:"space-y-6",children:[s.jsx(Mu,{icon:s.jsx(Xt,{className:"size-5"}),title:"Real-time Collaboration",description:"Invite friends and family to plan together and make decisions in real-time."}),s.jsx(Mu,{icon:s.jsx(Yt,{className:"size-5"}),title:"Shared Itineraries",description:"Create and share trip schedules so everyone knows the plan."}),s.jsx(Mu,{icon:s.jsx(As,{className:"size-5"}),title:"Expense Tracking",description:"Split costs fairly and keep everyone updated on payments."}),s.jsx(Mu,{icon:s.jsx(Ci,{className:"size-5"}),title:"Group Chat & Coordination",description:"Communicate and make decisions without leaving the app."})]})]})]})]})]})}function Mu({icon:e,title:t,description:r}){return s.jsxs(nt.div,{className:"flex items-start space-x-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[s.jsx("div",{className:"bg-white/15 p-3 rounded-xl backdrop-blur-sm",children:e}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg md:text-xl",children:t}),s.jsx("p",{className:"text-sm md:text-base text-white/80",children:r})]})]})}const iY=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],aY=({currentAvatar:e,onAvatarChange:t,open:r,onOpenChange:n})=>{const[i,a]=m.useState(e),o=m.useRef(null),l=f=>{a(f)},c=f=>{var p;const h=(p=f.target.files)==null?void 0:p[0];if(h){const v=new FileReader;v.onload=g=>{var x;const b=(x=g.target)==null?void 0:x.result;a(b)},v.readAsDataURL(h)}},d=()=>{t(i),n(!1)},u=f=>f.startsWith("data:")||f.startsWith("http")||f.startsWith("/");return s.jsx(xt,{open:r,onOpenChange:n,children:s.jsxs(ut,{className:"sm:max-w-md",children:[s.jsx(ft,{children:s.jsxs(ht,{className:"flex items-center gap-2",children:[s.jsx(rC,{className:"h-5 w-5 text-primary"}),"Choose Avatar"]})}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[s.jsx("div",{className:"w-20 h-20 rounded-full bg-card border-2 border-border flex items-center justify-center text-3xl overflow-hidden",children:i?u(i)?s.jsx("img",{src:i,alt:"Avatar",className:"w-full h-full object-cover"}):s.jsx("span",{children:i}):s.jsx(en,{className:"h-8 w-8 text-muted-foreground"})}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Preview"})]}),s.jsx(Ce,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium",children:"Upload Image"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Choose your own photo"})]}),s.jsxs(F,{variant:"outline",size:"sm",onClick:()=>{var f;return(f=o.current)==null?void 0:f.click()},children:[s.jsx(IO,{className:"h-4 w-4 mr-2"}),"Browse"]}),s.jsx("input",{ref:o,type:"file",accept:"image/*",onChange:c,className:"hidden"})]})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium mb-3",children:"Choose from Collection"}),s.jsx("div",{className:"grid grid-cols-8 gap-2 max-h-48 overflow-y-auto",children:iY.map((f,h)=>s.jsx("button",{onClick:()=>l(f),className:re("w-10 h-10 rounded-full bg-card border-2 flex items-center justify-center text-lg hover:border-primary transition-colors",i===f?"border-primary bg-primary/10":"border-border"),children:f},h))})]})]}),s.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[s.jsx(F,{variant:"outline",onClick:()=>n(!1),children:"Cancel"}),s.jsx(F,{onClick:d,children:"Save Avatar"})]})]})})},oY=()=>{const{config:e,setMode:t}=o2(),{user:r,logoutMutation:n}=vr(),[i,a]=Qt(),{toast:o}=vt(),[l,c]=m.useState(!1),[d,u]=m.useState({displayName:(r==null?void 0:r.displayName)||"",email:(r==null?void 0:r.email)||"",paymentPreference:(r==null?void 0:r.paymentPreference)||"none",avatar:(r==null?void 0:r.avatar)||""});m.useEffect(()=>{r&&u({displayName:r.displayName||"",email:r.email||"",paymentPreference:r.paymentPreference?r.paymentPreference:"none",avatar:r.avatar||""})},[r]);const[f,h]=m.useState(!1),[p,v]=m.useState({currentPassword:"",newPassword:"",confirmNewPassword:""}),[g,b]=m.useState(!1),[x,y]=m.useState({newUsername:"",password:""}),[w,j]=m.useState(!1),N=Ae({mutationFn:async O=>{if(!(r!=null&&r.id))throw new Error("Not authenticated");console.log("Updating profile with data:",O);const B=await je("PATCH",`/api/users/${r.id}`,O);if(!B.ok){const Y=await B.json();throw new Error(Y.message||"Profile update failed")}return await B.json()},onSuccess:O=>{console.log("Profile update successful, received data:",O),et.setQueryData(["/api/auth/user"],O),et.invalidateQueries({queryKey:["/api/auth/user"]}),et.invalidateQueries({queryKey:["/api/trips"]}),et.invalidateQueries({predicate:B=>{const Y=B.queryKey;return Array.isArray(Y)&&(Y.includes("members")||Y.includes("chat")||Y.includes("users"))}}),c(!1),o({title:"Profile updated",description:"Your profile has been updated successfully"})},onError:O=>{o({title:"Update failed",description:O.message||"Failed to update profile",variant:"destructive"})}}),P=Ae({mutationFn:async O=>await(await je("POST","/api/auth/change-password",O)).json(),onSuccess:()=>{h(!1),v({currentPassword:"",newPassword:"",confirmNewPassword:""}),o({title:"Password changed",description:"Your password has been successfully updated"})},onError:O=>{o({title:"Password change failed",description:O.message||"Failed to update password",variant:"destructive"})}}),S=Ae({mutationFn:async O=>await(await je("POST","/api/auth/change-username",O)).json(),onSuccess:O=>{b(!1),y({newUsername:"",password:""}),et.setQueryData(["/api/auth/user"],O.user),et.invalidateQueries({queryKey:["/api/auth/user"]}),et.invalidateQueries({queryKey:["/api/trips"]}),et.invalidateQueries({predicate:B=>{const Y=B.queryKey;return Array.isArray(Y)&&(Y.includes("members")||Y.includes("chat")||Y.includes("users"))}}),o({title:"Username changed",description:"Your username has been successfully updated"})},onError:O=>{o({title:"Username change failed",description:O.message||"Failed to update username",variant:"destructive"})}}),E=()=>{a("/")},R=()=>{n.mutate(),a("/auth")},A=()=>{N.mutate(d)},W=()=>{if(p.newPassword!==p.confirmNewPassword){o({title:"Passwords don't match",description:"Your new password and confirmation password must match",variant:"destructive"});return}if(p.newPassword.length<6){o({title:"Password too short",description:"Your new password must be at least 6 characters long",variant:"destructive"});return}P.mutate({currentPassword:p.currentPassword,newPassword:p.newPassword})},V=()=>{if(!x.newUsername){o({title:"Username required",description:"Please enter a username",variant:"destructive"});return}if(!x.password){o({title:"Password required",description:"Please enter your current password to confirm this change",variant:"destructive"});return}S.mutate(x)};return s.jsx("div",{className:"flex-1 p-4 pt-16 md:pt-0 overflow-y-auto h-[calc(100vh-4rem)] pb-20",children:s.jsxs(nt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},className:"max-w-3xl mx-auto",children:[s.jsxs("div",{className:"flex items-center mb-6",children:[s.jsx("button",{className:"p-2 mr-3 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700",onClick:E,children:s.jsx("i",{className:"ri-arrow-left-line text-xl"})}),s.jsx("h1",{className:"text-2xl font-bold",children:"Settings"})]}),s.jsxs(Ce,{className:"mb-6 overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-primary-500 to-secondary-500 h-24"}),s.jsxs("div",{className:"px-6 -mt-12 pb-1",children:[s.jsx(gr,{src:(r==null?void 0:r.avatar)??void 0,fallback:(r==null?void 0:r.displayName)??void 0,size:"xl",className:"border-4 border-white shadow-md"}),s.jsxs("div",{className:"mt-3 flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold",children:(r==null?void 0:r.displayName)||"User"}),s.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:(r==null?void 0:r.email)||"No email"})]}),s.jsxs(F,{variant:"ghost",size:"sm",onClick:()=>c(!0),children:[s.jsx(uC,{className:"h-4 w-4 mr-2"}),"Edit Profile"]})]})]})]}),l&&s.jsxs(Ce,{className:"mb-6",children:[s.jsxs(Ot,{children:[s.jsxs(Ft,{className:"flex items-center",children:[s.jsx(en,{className:"h-5 w-5 mr-2 text-primary"})," Edit Profile"]}),s.jsx(Kr,{children:"Update your personal information"})]}),s.jsx(Me,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(G,{children:"Profile Avatar"}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(gr,{src:d.avatar||void 0,fallback:d.displayName||void 0,size:"lg"}),s.jsxs(F,{type:"button",variant:"outline",onClick:()=>j(!0),children:[s.jsx(rC,{className:"h-4 w-4 mr-2"}),"Change Avatar"]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(G,{htmlFor:"displayName",children:"Display Name"}),s.jsx(me,{id:"displayName",value:d.displayName,onChange:O=>u({...d,displayName:O.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(G,{htmlFor:"email",children:"Email"}),s.jsx(me,{id:"email",type:"email",value:d.email,onChange:O=>u({...d,email:O.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(G,{htmlFor:"paymentPreference",children:"Payment Preference (optional)"}),s.jsxs(tn,{value:d.paymentPreference,onValueChange:O=>u({...d,paymentPreference:O}),children:[s.jsx($r,{id:"paymentPreference",children:s.jsx(rn,{placeholder:"Choose preferred payment method"})}),s.jsxs(zr,{children:[s.jsx(we,{value:"none",children:"No preference"}),s.jsx(we,{value:"venmo",children:"Venmo"}),s.jsx(we,{value:"paypal",children:"PayPal"}),s.jsx(we,{value:"cash",children:"Cash"}),s.jsx(we,{value:"bank-transfer",children:"Bank Transfer"})]})]})]})]})}),s.jsxs(Hn,{className:"flex justify-end space-x-2",children:[s.jsx(F,{variant:"outline",onClick:()=>c(!1),children:"Cancel"}),s.jsx(F,{onClick:A,disabled:N.isPending,children:N.isPending?"Saving...":s.jsxs(s.Fragment,{children:[s.jsx(hC,{className:"h-4 w-4 mr-2"}),"Save Changes"]})})]})]}),s.jsxs(Ce,{className:"mb-6",children:[s.jsxs(Ot,{children:[s.jsx(Ft,{children:"Appearance"}),s.jsx(Kr,{children:"Customize how TripMate looks on your device"})]}),s.jsx(Me,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(G,{htmlFor:"dark-mode",children:"Dark Mode"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Switch between light and dark themes"})]}),s.jsx(Rv,{id:"dark-mode",checked:e.mode==="dark",onCheckedChange:O=>t(O?"dark":"light")})]})})]}),s.jsxs(Ce,{className:"mb-6",children:[s.jsxs(Ot,{children:[s.jsx(Ft,{children:"Account"}),s.jsx(Kr,{children:"Manage your account settings"})]}),s.jsxs(Me,{className:"space-y-4",children:[s.jsxs(F,{variant:"outline",className:"w-full justify-start",onClick:()=>h(!0),children:[s.jsx(bc,{className:"h-4 w-4 mr-2"}),"Change Password"]}),s.jsxs(F,{variant:"outline",className:"w-full justify-start",onClick:()=>b(!0),children:[s.jsx(ex,{className:"h-4 w-4 mr-2"}),"Change Username"]}),s.jsx(Wd,{}),s.jsxs(F,{variant:"destructive",className:"w-full justify-start",onClick:R,children:[s.jsx("i",{className:"ri-logout-box-line mr-2"}),"Sign Out"]})]})]}),s.jsx(xt,{open:f,onOpenChange:h,children:s.jsxs(ut,{className:"sm:max-w-[425px]",children:[s.jsx(ft,{children:s.jsxs(ht,{className:"flex items-center",children:[s.jsx(bc,{className:"mr-2 h-5 w-5 text-primary"})," Change Password"]})}),s.jsxs("div",{className:"grid gap-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(G,{htmlFor:"currentPassword",children:"Current Password"}),s.jsx(me,{id:"currentPassword",type:"password",value:p.currentPassword,onChange:O=>v({...p,currentPassword:O.target.value}),placeholder:"Enter your current password"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(G,{htmlFor:"newPassword",children:"New Password"}),s.jsx(me,{id:"newPassword",type:"password",value:p.newPassword,onChange:O=>v({...p,newPassword:O.target.value}),placeholder:"Enter your new password"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(G,{htmlFor:"confirmNewPassword",children:"Confirm New Password"}),s.jsx(me,{id:"confirmNewPassword",type:"password",value:p.confirmNewPassword,onChange:O=>v({...p,confirmNewPassword:O.target.value}),placeholder:"Confirm your new password"})]})]}),s.jsxs($t,{children:[s.jsx(F,{variant:"outline",onClick:()=>h(!1),children:"Cancel"}),s.jsx(F,{onClick:W,disabled:P.isPending,children:P.isPending?"Updating...":"Update Password"})]})]})}),s.jsx(xt,{open:g,onOpenChange:b,children:s.jsxs(ut,{className:"sm:max-w-[425px]",children:[s.jsx(ft,{children:s.jsxs(ht,{className:"flex items-center",children:[s.jsx(ex,{className:"mr-2 h-5 w-5 text-primary"})," Change Username"]})}),s.jsxs("div",{className:"grid gap-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(G,{htmlFor:"currentUsername",children:"Current Username"}),s.jsx(me,{id:"currentUsername",value:(r==null?void 0:r.username)||"",disabled:!0,className:"bg-muted"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(G,{htmlFor:"newUsername",children:"New Username"}),s.jsx(me,{id:"newUsername",value:x.newUsername,onChange:O=>y({...x,newUsername:O.target.value}),placeholder:"Enter your new username"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(G,{htmlFor:"usernamePassword",children:"Confirm with Password"}),s.jsx(me,{id:"usernamePassword",type:"password",value:x.password,onChange:O=>y({...x,password:O.target.value}),placeholder:"Enter your password to confirm"})]})]}),s.jsxs($t,{children:[s.jsx(F,{variant:"outline",onClick:()=>b(!1),children:"Cancel"}),s.jsx(F,{onClick:V,disabled:S.isPending,children:S.isPending?"Updating...":"Update Username"})]})]})}),s.jsxs(Ce,{className:"mb-6",children:[s.jsx(Ot,{children:s.jsx(Ft,{children:"About"})}),s.jsxs(Me,{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Version"}),s.jsx("span",{className:"text-sm",children:"1.0.0"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Build"}),s.jsx("span",{className:"text-sm",children:new Date().toLocaleDateString()})]})]})]}),s.jsx(aY,{currentAvatar:d.avatar,onAvatarChange:O=>u({...d,avatar:O}),open:w,onOpenChange:j})]})})};function lY(){const[e,t]=m.useState(""),[r,n]=m.useState(!1),[i,a]=m.useState(!1),[,o]=Qt(),{toast:l}=vt(),c=async u=>{if(u.preventDefault(),!e){l({title:"Email Required",description:"Please enter your email address",variant:"destructive"});return}n(!0);try{const h=await(await je("POST","/api/auth/forgot-password",{email:e})).json();a(!0),l({title:"Reset Code Sent",description:h.message||"Check your email for the password reset code"})}catch(f){l({title:"Error",description:"Something went wrong. Please try again later.",variant:"destructive"}),console.error("Forgot password error:",f)}finally{n(!1)}},d=()=>{o("/reset-password")};return s.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col items-center justify-center p-4",children:s.jsxs(Ce,{className:"w-full max-w-md",children:[s.jsxs(Ot,{children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx(F,{variant:"ghost",size:"icon",onClick:()=>o("/auth"),className:"mr-2",children:s.jsx(Fh,{className:"h-5 w-5"})}),s.jsx(Ft,{className:"text-2xl",children:"Reset Password"})]}),s.jsx(Kr,{children:i?"Check your email for the reset code.":"Enter your email address and we'll send you a password reset code."})]}),i?s.jsx(Me,{className:"space-y-4",children:s.jsx("div",{className:"rounded-lg bg-green-50 p-4 border border-green-200",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx(nC,{className:"h-5 w-5 text-green-500 mt-0.5 mr-2"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-green-800",children:"Reset code sent!"}),s.jsxs("p",{className:"text-sm text-green-700 mt-1",children:["A 6-digit password reset code has been sent to: ",s.jsx("strong",{children:e})]}),s.jsx("p",{className:"text-sm text-green-700 mt-1",children:"Please check your email and enter the code on the reset page."})]})]})})}):s.jsxs("form",{onSubmit:c,children:[s.jsx(Me,{className:"space-y-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(G,{htmlFor:"email",children:"Email Address"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:s.jsx(oC,{className:"h-5 w-5 text-gray-400"})}),s.jsx(me,{id:"email",type:"email",placeholder:"name@example.com",value:e,onChange:u=>t(u.target.value),className:"pl-10",required:!0})]})]})}),s.jsx(Hn,{children:s.jsx(F,{type:"submit",className:"w-full",disabled:r,children:r?"Processing...":"Send Reset Link"})})]}),i&&s.jsx(Hn,{children:s.jsx(F,{onClick:d,className:"w-full",children:"Enter Reset Code"})})]})})}const cY=Ad("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),L0=m.forwardRef(({className:e,variant:t,...r},n)=>s.jsx("div",{ref:n,role:"alert",className:re(cY({variant:t}),e),...r}));L0.displayName="Alert";const TD=m.forwardRef(({className:e,...t},r)=>s.jsx("h5",{ref:r,className:re("mb-1 font-medium leading-none tracking-tight",e),...t}));TD.displayName="AlertTitle";const V0=m.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:re("text-sm [&_p]:leading-relaxed",e),...t}));V0.displayName="AlertDescription";function dY(){const[e,t]=m.useState(""),[r,n]=m.useState(""),[i,a]=m.useState(""),[o,l]=m.useState(!1),[c,d]=m.useState(""),[u,f]=m.useState(!1),[,h]=Qt(),{toast:p}=vt(),v=()=>r.length<6?(d("Password must be at least 6 characters long"),!1):r!==i?(d("Passwords do not match"),!1):(d(""),!0),g=async b=>{if(b.preventDefault(),!e){p({title:"Code Required",description:"Please enter the 6-digit reset code from your email",variant:"destructive"});return}if(v()){l(!0);try{const x=await je("POST","/api/auth/reset-password",{token:e,newPassword:r});if(x.ok)f(!0),p({title:"Password Reset Successful",description:"Your password has been reset successfully. You can now log in with your new password."});else{const y=await x.json();p({title:"Error",description:y.message||"Failed to reset password. The code may be invalid or expired.",variant:"destructive"})}}catch(x){p({title:"Error",description:"Something went wrong. Please try again later.",variant:"destructive"}),console.error("Reset password error:",x)}finally{l(!1)}}};return s.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col items-center justify-center p-4",children:s.jsxs(Ce,{className:"w-full max-w-md",children:[s.jsxs(Ot,{children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx(F,{variant:"ghost",size:"icon",onClick:()=>h("/auth"),className:"mr-2",children:s.jsx(Fh,{className:"h-5 w-5"})}),s.jsx(Ft,{className:"text-2xl",children:"Reset Password"})]}),s.jsx(Kr,{children:u?"Your password has been reset successfully.":"Enter the 6-digit code from your email and create a new password."})]}),u?s.jsx(Me,{className:"space-y-4",children:s.jsxs(L0,{className:"bg-green-50 border-green-200",children:[s.jsx(Rd,{className:"h-4 w-4 text-green-600"}),s.jsx(TD,{className:"text-green-800",children:"Success!"}),s.jsx(V0,{className:"text-green-700",children:"Your password has been reset successfully. You can now log in with your new password."})]})}):s.jsxs("form",{onSubmit:g,children:[s.jsxs(Me,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(G,{htmlFor:"reset-code",children:"Reset Code"}),s.jsx(me,{id:"reset-code",type:"text",placeholder:"Enter 6-digit code",value:e,onChange:b=>t(b.target.value),disabled:o,maxLength:6,className:"text-center text-lg font-mono tracking-wider",required:!0}),s.jsx("p",{className:"text-sm text-gray-500",children:"Enter the 6-digit code sent to your email"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(G,{htmlFor:"new-password",children:"New Password"}),s.jsx(me,{id:"new-password",type:"password",placeholder:"Enter your new password",value:r,onChange:b=>n(b.target.value),disabled:o,required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(G,{htmlFor:"confirm-password",children:"Confirm Password"}),s.jsx(me,{id:"confirm-password",type:"password",placeholder:"Confirm your new password",value:i,onChange:b=>a(b.target.value),disabled:o,required:!0}),c&&s.jsx("p",{className:"text-sm text-red-500 mt-1",children:c})]})]}),s.jsx(Hn,{children:s.jsx(F,{type:"submit",className:"w-full",disabled:o,children:o?"Resetting Password...":"Reset Password"})})]}),u&&s.jsx(Hn,{children:s.jsx(F,{onClick:()=>h("/auth"),className:"w-full",children:"Return to Login"})})]})})}const uY=({type:e})=>{switch(e){case"trip_update":return s.jsx(ca,{className:"h-5 w-5"});case"grocery_add":return s.jsx(Vr,{className:"h-5 w-5"});case"grocery_update":return s.jsx(ca,{className:"h-5 w-5"});case"grocery_delete":return s.jsx(Tr,{className:"h-5 w-5"});case"expense_add":return s.jsx(Bt,{className:"h-5 w-5"});case"expense_update":return s.jsx(ca,{className:"h-5 w-5"});case"expense_delete":return s.jsx(Tr,{className:"h-5 w-5"});case"packing_add":return s.jsx(Vr,{className:"h-5 w-5"});case"packing_update":return s.jsx(ca,{className:"h-5 w-5"});case"packing_delete":return s.jsx(Tr,{className:"h-5 w-5"});case"chat_message":return s.jsx(Ci,{className:"h-5 w-5"});case"member_joined":return s.jsx(ex,{className:"h-5 w-5"});default:return s.jsx(tC,{className:"h-5 w-5"})}},fY=e=>"bg-primary/10 text-primary",hY=()=>{const{notifications:e,clearNotifications:t,deleteNotification:r,markAsRead:n}=qh(),{toast:i}=vt(),[a,o]=m.useState([...e]);m.useEffect(()=>{o([...e])},[e]);const l=(u,f)=>{u&&f.offset.x>100&&(r(u),o(h=>h.filter(p=>p.id!==u)),i({title:"Notification removed",description:"The notification has been removed"}))},c=e,d={};return c.forEach(u=>{const f=new Date(u.timestamp),h=new Date,p=new Date(h);p.setDate(p.getDate()-1);let v;f.toDateString()===h.toDateString()?v="Today":f.toDateString()===p.toDateString()?v="Yesterday":v=f.toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}),d[v]||(d[v]=[]),d[v].push(u)}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-4 md:p-6 pb-20 md:pb-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl md:text-3xl font-bold",style:{color:"var(--foreground)"},children:"Notifications"}),s.jsx("p",{className:"mt-1",style:{color:"var(--foreground)",opacity:"0.7"},children:"View and manage your notifications"})]}),c.length>0&&s.jsxs(F,{variant:"outline",onClick:()=>{t(),i({title:"Notifications cleared",description:"All notifications have been cleared"})},className:"flex items-center gap-2",children:[s.jsx(Tr,{className:"h-4 w-4"}),s.jsx("span",{children:"Clear All"})]})]}),c.length>0?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"mb-4 text-sm",style:{color:"var(--foreground)",opacity:"0.7"},children:s.jsx("p",{children:"Swipe right on a notification to delete it"})}),Object.entries(d).map(([u,f])=>s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"text-lg font-semibold mb-3",style:{color:"var(--foreground)"},children:u}),s.jsx("div",{className:"space-y-3",children:s.jsx(PD,{initial:!1,children:f.map(h=>s.jsx(nt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,height:0,marginBottom:0},layout:!0,drag:"x",dragConstraints:{left:0,right:100},dragElastic:.1,onDragEnd:(p,v)=>l(h.id,v),whileTap:{cursor:"grabbing"},className:"touch-manipulation",children:s.jsx(Ce,{className:`${h.read?"":"border-l-4 border-l-primary"} shadow-sm bg-card border-border`,children:s.jsx(Me,{className:"p-4",children:s.jsxs("div",{className:"flex gap-3",children:[s.jsx("div",{className:`flex-shrink-0 h-10 w-10 rounded-full flex items-center justify-center 
                                ${fY(h.type)}`,children:s.jsx(uY,{type:h.type})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsx("h4",{className:"font-medium",style:{color:"var(--foreground)"},children:h.title}),s.jsx(He,{variant:"outline",className:"ml-2 text-xs",children:NC(h.timestamp)})]}),s.jsx("p",{className:"text-sm mt-1",style:{color:"var(--foreground)",opacity:"0.7"},children:h.message})]})]})})})},h.id))})})]},u))]}):s.jsx(Ce,{className:"border-dashed bg-card border-border",children:s.jsxs(Me,{className:"p-6 flex flex-col items-center justify-center",children:[s.jsx("div",{className:"w-16 h-16 rounded-full bg-primary/10 flex items-center justify-center mb-4",children:s.jsx(tC,{className:"h-8 w-8 text-primary"})}),s.jsx("h3",{className:"text-xl font-semibold mb-2",style:{color:"var(--foreground)"},children:"No Notifications"}),s.jsx("p",{className:"text-center max-w-md",style:{color:"var(--foreground)",opacity:"0.7"},children:"You don't have any notifications at the moment. Notifications about your trips and activities will appear here."})]})})]})},$0=()=>{const{notifications:e,clearNotifications:t,deleteNotification:r,markAsRead:n}=qh(),[i,a]=m.useState(!1),[o,l]=Qt(),c=e.filter(d=>!d.read).length;return s.jsxs(al,{open:i,onOpenChange:a,children:[s.jsx(ol,{asChild:!0,children:s.jsxs(F,{variant:"ghost",size:"icon",className:"relative",children:[s.jsx("i",{className:"ri-notification-3-line text-xl"}),c>0&&s.jsx("span",{className:"absolute -top-1 -right-1 flex h-5 w-5 items-center justify-center rounded-full bg-red-500 text-[10px] font-medium text-white",children:c>99?"99+":c})]})}),s.jsxs(Oa,{className:"w-80 p-0 mr-4",align:"end",children:[s.jsxs("div",{className:"flex items-center justify-between border-b p-3",children:[s.jsx("h3",{className:"font-semibold",children:"Notifications"}),e.length>0&&s.jsx(F,{variant:"ghost",size:"sm",className:"h-auto py-1 px-2 text-xs",onClick:t,children:"Clear all"})]}),s.jsx("div",{className:"max-h-[300px] overflow-y-auto",children:s.jsx(PD,{children:e.length>0?s.jsxs(s.Fragment,{children:[e.slice(0,5).map(d=>s.jsx(nt.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:`p-3 border-b ${d.read?"":"bg-primary/10"}`,children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("div",{className:"flex-shrink-0 h-8 w-8 rounded-full flex items-center justify-center bg-primary/10 text-primary",children:s.jsx("i",{className:d.type==="chat_message"?"ri-message-3-line":d.type.includes("grocery")?"ri-shopping-cart-2-line":d.type.includes("expense")?"ri-money-dollar-circle-line":d.type.includes("packing")?"ri-luggage-cart-line":d.type==="trip_update"?"ri-calendar-event-line":d.type==="member_joined"?"ri-user-add-line":"ri-notification-line"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsx("p",{className:"font-medium text-sm",style:{color:"var(--foreground)"},children:d.title}),s.jsx(He,{variant:"outline",className:"ml-auto text-[10px] px-1",children:NC(d.timestamp)})]}),s.jsx("p",{className:"text-xs mt-1",style:{color:"var(--foreground)",opacity:"0.7"},children:d.message}),s.jsxs("div",{className:"flex space-x-2 mt-1",children:[!d.read&&s.jsx(F,{variant:"link",size:"sm",className:"h-auto p-0 text-xs",onClick:()=>{d.id&&n(d.id)},children:"Mark as read"}),s.jsx(F,{variant:"link",size:"sm",className:"h-auto p-0 text-xs text-red-500 hover:text-red-600",onClick:()=>{d.id&&r(d.id),a(!1)},children:"Delete"})]})]})]})},d.id)),e.length>5&&s.jsx("div",{className:"p-2 text-center border-t",children:s.jsxs("p",{className:"text-xs text-muted-foreground mb-1",children:[e.length-5," more notification",e.length-5!==1?"s":""]})})]}):s.jsxs("div",{className:"py-8 text-center",children:[s.jsx("div",{className:"w-12 h-12 mx-auto bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center text-gray-400 mb-3",children:s.jsx("i",{className:"ri-notification-off-line text-xl"})}),s.jsx("h3",{className:"text-sm font-medium mb-1",children:"No notifications"}),s.jsx("p",{className:"text-xs text-gray-500",children:"You're all caught up!"})]})})}),e.length>0&&s.jsx("div",{className:"p-3 border-t text-center",children:s.jsxs(F,{variant:"outline",size:"sm",className:"w-full",onClick:()=>{a(!1),l("/notifications")},children:[s.jsx("i",{className:"ri-external-link-line mr-1"}),"View All Notifications"]})})]})]})},mY=()=>{const[e,t]=Qt(),{isDarkMode:r,toggleDarkMode:n}=m.useContext(Nl),{user:i,logoutMutation:a}=vr(),{notifications:o}=qh(),l=o.filter(d=>!d.read).length,c=({href:d,icon:u,label:f,isActive:h,badge:p=0,onClick:v})=>{const g=s.jsxs("div",{className:re("flex items-center space-x-3 px-3 py-2 rounded-lg relative",h?"bg-primary-50 text-primary-600 dark:bg-primary-900/20 dark:text-primary-400":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800"),onClick:v,children:[s.jsx("i",{className:`${u} text-xl`}),s.jsx("span",{className:h?"font-medium":"",children:f}),p>0&&s.jsx("span",{className:"absolute right-2 top-1/2 -translate-y-1/2 flex h-5 w-5 items-center justify-center rounded-full bg-red-500 text-[10px] font-medium text-white",children:p>99?"99+":p})]});return d&&!v?s.jsx(_f,{href:d,children:g}):g};return s.jsxs(nt.aside,{className:"hidden md:flex md:flex-col md:w-64 bg-card border-r border-border h-full",initial:{x:-50,opacity:0},animate:{x:0,opacity:1},transition:{duration:.3},children:[s.jsx("div",{className:"p-4 border-b border-border",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"bg-gradient-to-r from-primary-600 to-secondary-500 text-white p-2 rounded-lg",children:s.jsx("i",{className:"ri-suitcase-line text-xl"})}),s.jsx("h1",{className:"text-xl font-semibold text-gradient",children:"TripMate"})]}),s.jsxs("div",{className:"flex",children:[s.jsx(F,{variant:"ghost",size:"icon",onClick:n,className:"mr-1",children:r?s.jsx("i",{className:"ri-sun-line text-lg"}):s.jsx("i",{className:"ri-moon-line text-lg"})}),s.jsx($0,{})]})]})}),s.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-1",children:[s.jsx(c,{href:"/",icon:"ri-dashboard-line",label:"Dashboard",isActive:e==="/"}),s.jsx(c,{href:"/past-trips",icon:"ri-time-line",label:"Past Trips",isActive:e==="/past-trips"}),s.jsx(c,{href:"/create-trip",icon:"ri-add-circle-line",label:"Create Trip",isActive:e==="/create-trip"}),s.jsx(c,{href:"/join-trip",icon:"ri-ticket-2-line",label:"Join Trip",isActive:e==="/join-trip"}),s.jsx("div",{className:"my-6 border-t border-border"}),s.jsx(c,{href:"/notifications",icon:"ri-notification-3-line",label:"Notifications",isActive:e==="/notifications",badge:l}),s.jsx(c,{href:"/settings",icon:"ri-settings-4-line",label:"Settings",isActive:e==="/settings"})]}),s.jsx("div",{className:"p-4 border-t border-border",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(gr,{src:(i==null?void 0:i.avatar)??void 0,fallback:(i==null?void 0:i.displayName)??void 0,size:"sm"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm",children:(i==null?void 0:i.displayName)||"Guest User"}),s.jsx("p",{className:"text-xs text-gray-500",children:(i==null?void 0:i.email)||""})]})]}),s.jsx(F,{variant:"ghost",size:"icon",onClick:()=>{a.mutate(),t("/auth")},disabled:a.isPending,className:"text-gray-500 hover:text-gray-700",children:s.jsx("i",{className:"ri-logout-box-r-line"})})]})})]})},pY=()=>{const[e,t]=Qt(),{notifications:r}=qh(),n=r.filter(o=>!o.read).length,i=({href:o,icon:l,label:c,isActive:d,badge:u=0,onClick:f})=>{const h=s.jsxs(nt.div,{className:re("flex flex-col items-center p-3 relative transition-all duration-200",d?"text-primary bg-primary/10 rounded-lg":"hover:bg-muted/50 rounded-lg"),style:d?{}:{color:"var(--foreground)",opacity:"0.7"},whileTap:{scale:.95},transition:{duration:.1},onClick:f,children:[s.jsx("i",{className:`${l} text-xl`}),s.jsx("span",{className:"text-xs mt-1 font-medium",children:c}),u>0&&s.jsx("span",{className:"absolute top-1 right-1 flex h-5 w-5 items-center justify-center rounded-full bg-red-500 text-[10px] font-bold text-white border-2 border-card shadow-sm",children:u>99?"99+":u})]});return o&&!f?s.jsx(_f,{href:o,children:h}):h},a=s.jsx(_f,{href:"/create-trip",children:s.jsx(nt.div,{className:"flex flex-col items-center p-3",whileTap:{scale:.95},children:s.jsx(nt.div,{className:"w-12 h-12 bg-primary border-2 border-primary/20 rounded-full flex items-center justify-center text-primary-foreground -mt-5 shadow-lg",whileHover:{scale:1.05,boxShadow:"0 10px 25px -5px rgba(var(--primary-rgb), 0.4)"},transition:{duration:.2},children:s.jsx("i",{className:"ri-add-line text-xl font-bold"})})})});return s.jsx("div",{className:"md:hidden bg-card/95 backdrop-blur-sm border-t-2 border-border shadow-lg fixed bottom-0 left-0 right-0 z-50",children:s.jsxs("div",{className:"flex justify-around px-2 py-1",children:[s.jsx(i,{href:"/",icon:"ri-dashboard-line",label:"Home",isActive:e==="/"}),s.jsx(i,{href:"/join-trip",icon:"ri-ticket-2-line",label:"Join",isActive:e==="/join-trip"}),a,s.jsx(i,{href:"/notifications",icon:"ri-notification-3-line",label:"Alerts",isActive:e==="/notifications",badge:n}),s.jsx(i,{href:"/settings",icon:"ri-user-settings-line",label:"Settings",isActive:e==="/settings"})]})})};function ED(){const{config:e,setMode:t,setPreset:r,presets:n}=o2(),[i,a]=m.useState(!1),o=l=>{const c=n.find(d=>d.id===l);return c?[c.light.colors.primary,c.light.colors.secondary,c.light.colors.accent]:[]};return s.jsxs(xt,{open:i,onOpenChange:a,children:[s.jsx(q6,{asChild:!0,children:s.jsxs(F,{variant:"outline",size:"icon",className:"relative",children:[s.jsx(CO,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}),s.jsxs(ut,{className:"sm:max-w-md",children:[s.jsx(ft,{className:"pb-2",children:s.jsx(ht,{className:"text-base font-medium text-purple-700",children:"Theme Mode"})}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(F,{variant:e.mode==="light"?"default":"outline",size:"sm",onClick:()=>t("light"),className:"flex-1",children:[s.jsx(AO,{className:"mr-2 h-4 w-4"}),"Light"]}),s.jsxs(F,{variant:e.mode==="dark"?"default":"outline",size:"sm",onClick:()=>t("dark"),className:"flex-1",children:[s.jsx(jO,{className:"mr-2 h-4 w-4"}),"Dark"]}),s.jsxs(F,{variant:e.mode==="system"?"default":"outline",size:"sm",onClick:()=>t("system"),className:"flex-1",children:[s.jsx(bO,{className:"mr-2 h-4 w-4"}),"System"]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-base font-medium text-purple-700 mb-4",children:"Color Scheme"}),s.jsx("div",{className:"grid grid-cols-2 gap-4",children:n.map(l=>s.jsxs("div",{className:`cursor-pointer rounded-lg border-2 p-3 transition-all ${e.presetId===l.id?"border-purple-500 bg-purple-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>r(l.id),children:[s.jsx("div",{className:"flex gap-1 mb-2",children:o(l.id).map((c,d)=>s.jsx("div",{className:"w-6 h-6 rounded-full",style:{backgroundColor:c}},d))}),s.jsx("p",{className:"text-sm font-medium text-gray-700",children:l.name})]},l.id))})]})]})]})]})}const gY=()=>{m.useContext(Nl);const{user:e}=vr(),[t,r]=Qt(),n=t!=="/",i=()=>{r("/")},a=()=>{r("/settings")};return s.jsxs(nt.header,{className:"fixed top-0 left-0 right-0 bg-card shadow-sm py-4 px-4 flex justify-between items-center md:hidden z-50 border-b",initial:{y:-50},animate:{y:0},transition:{duration:.3},children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[n?s.jsx(F,{variant:"ghost",size:"icon",onClick:i,className:"mr-2",children:s.jsx("i",{className:"ri-arrow-left-line text-xl"})}):s.jsx("div",{className:"bg-gradient-to-r from-primary-500 to-secondary-500 text-white p-2 rounded-full",children:s.jsx("i",{className:"ri-suitcase-line text-xl"})}),s.jsx("h1",{className:"text-xl font-semibold",children:"TripMate"})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(ED,{}),s.jsx($0,{}),s.jsx(F,{variant:"ghost",size:"icon",onClick:a,className:"relative",children:s.jsx(gr,{src:(e==null?void 0:e.avatar)??void 0,fallback:(e==null?void 0:e.displayName)??void 0,size:"sm"})})]})]})},xY=()=>{m.useContext(Nl);const{user:e}=vr(),[t]=Qt(),r=()=>{switch(t){case"/":return"Dashboard";case"/notifications":return"Notifications";case"/settings":return"Settings";case"/past-trips":return"Past Trips";default:return"TripMate"}};return s.jsxs(nt.header,{className:"fixed top-0 left-64 right-0 bg-card shadow-sm py-4 px-6 flex justify-between items-center hidden md:flex z-50 border-b",initial:{y:-50},animate:{y:0},transition:{duration:.3},children:[s.jsx("div",{className:"flex items-center space-x-3",children:s.jsx("h1",{className:"text-2xl font-bold",children:r()})}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(ED,{}),s.jsx($0,{}),s.jsxs("div",{className:"flex items-center space-x-3 pl-3 border-l border-border",children:[s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-sm font-medium",children:(e==null?void 0:e.displayName)||"User"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:(e==null?void 0:e.email)||""})]}),s.jsx(gr,{src:(e==null?void 0:e.avatar)??void 0,fallback:(e==null?void 0:e.displayName)??void 0,size:"md",className:"border-2 border-primary-200/50 shadow-sm"})]})]})]})},yY=()=>{const[e,t]=m.useState(null),[r,n]=m.useState(!1),[i,a]=m.useState(!1);return m.useEffect(()=>{const l=window.matchMedia("(display-mode: standalone)").matches,c=window.navigator.standalone;a(l||c);const d=f=>{f.preventDefault(),t(f),n(!0)},u=()=>{a(!0),n(!1),t(null)};return window.addEventListener("beforeinstallprompt",d),window.addEventListener("appinstalled",u),()=>{window.removeEventListener("beforeinstallprompt",d),window.removeEventListener("appinstalled",u)}},[]),{isInstallable:r,isInstalled:i,installApp:async()=>{if(e)try{await e.prompt();const{outcome:l}=await e.userChoice;l==="accepted"&&a(!0),t(null),n(!1)}catch(l){console.error("Error during app installation:",l)}}}},vY=()=>{const{isInstallable:e,installApp:t}=yY(),[r,n]=m.useState(!1);return!e||r?null:s.jsx(Ce,{className:"fixed bottom-4 left-4 right-4 z-50 border-blue-200 bg-blue-50 shadow-lg md:left-auto md:right-4 md:w-80",children:s.jsx(Me,{className:"p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-blue-900",children:"Install TripMate"}),s.jsx("p",{className:"text-sm text-blue-700 mb-3",children:"Install our app for a better experience with offline access and faster loading."}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(F,{onClick:t,size:"sm",className:"bg-blue-600 hover:bg-blue-700",children:[s.jsx(aC,{className:"h-4 w-4 mr-1"}),"Install"]}),s.jsx(F,{onClick:()=>n(!0),variant:"outline",size:"sm",className:"border-blue-300 text-blue-700 hover:bg-blue-100",children:"Not now"})]})]}),s.jsx(F,{onClick:()=>n(!0),variant:"ghost",size:"sm",className:"p-1 h-auto text-blue-600 hover:bg-blue-100",children:s.jsx(Co,{className:"h-4 w-4"})})]})})})},wY=()=>{const[e,t]=m.useState(navigator.onLine),[r,n]=m.useState(!1);return m.useEffect(()=>{const i=()=>{t(!0),n(!1)},a=()=>{t(!1),n(!0)};return window.addEventListener("online",i),window.addEventListener("offline",a),()=>{window.removeEventListener("online",i),window.removeEventListener("offline",a)}},[]),m.useEffect(()=>{if(e&&r){const i=setTimeout(()=>{n(!1)},3e3);return()=>clearTimeout(i)}},[e,r]),!r&&e?null:s.jsx(Ce,{className:`fixed top-20 left-4 right-4 z-40 transition-all duration-300 md:left-auto md:right-4 md:w-80 ${e?"border-green-200 bg-green-50":"border-orange-200 bg-orange-50"}`,children:s.jsx(Me,{className:"p-3",children:s.jsxs("div",{className:"flex items-center gap-2",children:[e?s.jsx(VO,{className:"h-5 w-5 text-green-600"}):s.jsx(gC,{className:"h-5 w-5 text-orange-600"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:`font-medium ${e?"text-green-900":"text-orange-900"}`,children:e?"Back online!":"You're offline"}),s.jsx("p",{className:`text-sm ${e?"text-green-700":"text-orange-700"}`,children:e?"Your connection has been restored.":"Some features may be limited. Your data will sync when you're back online."})]})]})})})},bY=()=>{const{isOffline:e}=cv(),{isOfflineMode:t,offlineUser:r}=l2();return e?s.jsxs(L0,{className:"border-orange-200 bg-orange-50 mb-4",children:[s.jsx(gC,{className:"h-4 w-4 text-orange-600"}),s.jsx(V0,{className:"text-orange-800",children:t?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(en,{className:"h-4 w-4"}),s.jsxs("span",{children:["Offline mode - Logged in as ",r==null?void 0:r.displayName,". Limited functionality available. Connect to internet for full features."]})]}):s.jsx("span",{children:"You're offline. Please log in when connected to internet to access your data offline."})})]}):null};function jY(){console.log("%cTripMate App: Component loading...","color:purple; font-size:14px");const[e]=Qt();m.useEffect(()=>{document.title="TripMate - Group Trip Planning",console.log("%cTripMate App: Component mounted","color:green; font-size:14px")},[]);const t=e==="/auth",r=e==="/forgot-password",n=e.startsWith("/reset-password"),i=e.startsWith("/create-trip"),a=!t&&!i&&!r&&!n;return s.jsx(XR,{client:et,children:s.jsx(JF,{children:s.jsx(qF,{children:s.jsx(rI,{children:s.jsx(XF,{defaultTheme:{mode:"light",presetId:"ocean"},storageKey:"vite-ui-theme",children:s.jsx(Re,{children:s.jsxs("div",{className:"min-h-screen flex flex-col md:flex-row bg-background text-foreground transition-colors duration-150 overflow-hidden",children:[a&&s.jsx(gY,{}),a&&s.jsx(xY,{}),a&&s.jsx(mY,{}),s.jsx("main",{className:"flex-1 flex flex-col overflow-y-auto overflow-x-hidden pt-16 md:pt-20",children:s.jsxs("div",{className:"flex-1 flex flex-col",children:[s.jsx("div",{className:"px-4 pt-4",children:s.jsx(bY,{})}),s.jsxs(DR,{children:[s.jsx(ec,{path:"/auth",component:sY}),s.jsx(ec,{path:"/forgot-password",component:lY}),s.jsx(ec,{path:"/reset-password",component:dY}),s.jsx(Qs,{path:"/",component:N6}),s.jsx(Qs,{path:"/trips/:id",component:EB}),s.jsx(Qs,{path:"/trips/:id/itinerary",component:_B}),s.jsx(Qs,{path:"/create-trip",component:DB}),s.jsx(Qs,{path:"/join-trip",component:eY}),s.jsx(Qs,{path:"/past-trips",component:tY}),s.jsx(Qs,{path:"/notifications",component:hY}),s.jsx(Qs,{path:"/settings",component:oY}),s.jsx(ec,{component:rY})]})]})}),a&&s.jsx(pY,{}),s.jsx(vY,{}),s.jsx(wY,{}),s.jsx(b3,{})]})})})})})})})}console.log("%cClient app started with authentication","color:green; font-size:14px");console.log("%cTripMate: Starting app...","color:blue; font-size:14px");const Dj=document.getElementById("root");if(!Dj)console.error("Root element not found!");else{console.log("%cTripMate: Root element found, creating React app...","color:green; font-size:14px");try{rS(Dj).render(s.jsx(jY,{})),console.log("%cTripMate: React app rendered successfully","color:green; font-size:14px")}catch(e){console.error("Error rendering React app:",e)}}setTimeout(()=>{"serviceWorker"in navigator&&navigator.serviceWorker.register("/sw.js").then(e=>{console.log("%cTripMate PWA: Service Worker registered successfully","color:green; font-size:14px")}).catch(e=>{console.log("TripMate PWA: Service Worker registration failed:",e)})},1e3);
